<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/img/1.jpg"><title>ç¬¬15èŠ‚ k3s è¡¥å…… | ä½ å¥½</title><meta name="description" content="é“¾å­¦ç¤¾è‡´åŠ›äºæ‰“é€ å‡ºåŒºå—é“¾å»ä¸­å¿ƒåŒ–çš„å­¦ä¹ å¹³å°">
    <link rel="modulepreload" href="/assets/app.3e7cf2d5.js"><link rel="modulepreload" href="/assets/15.html.250e8555.js"><link rel="modulepreload" href="/assets/15.html.727e40a2.js"><link rel="prefetch" href="/assets/index.html.c499f25b.js"><link rel="prefetch" href="/assets/1.html.9e750f7a.js"><link rel="prefetch" href="/assets/10.html.4573cb5f.js"><link rel="prefetch" href="/assets/11.html.7e785902.js"><link rel="prefetch" href="/assets/12.html.1599a54d.js"><link rel="prefetch" href="/assets/13.html.b8face9b.js"><link rel="prefetch" href="/assets/14.html.3c2288e6.js"><link rel="prefetch" href="/assets/16.html.d5c10ebf.js"><link rel="prefetch" href="/assets/17.html.61edd34a.js"><link rel="prefetch" href="/assets/18.html.4423ec63.js"><link rel="prefetch" href="/assets/19.html.45b5c1b5.js"><link rel="prefetch" href="/assets/2.html.8298afa1.js"><link rel="prefetch" href="/assets/20.html.fe6d5f85.js"><link rel="prefetch" href="/assets/21.html.45786730.js"><link rel="prefetch" href="/assets/22.html.0afb63ed.js"><link rel="prefetch" href="/assets/23.html.59ad72b0.js"><link rel="prefetch" href="/assets/24.html.aa0764b2.js"><link rel="prefetch" href="/assets/25.html.ef2dc91d.js"><link rel="prefetch" href="/assets/26.html.5f64e855.js"><link rel="prefetch" href="/assets/27.html.6a215381.js"><link rel="prefetch" href="/assets/28.html.92ac70d1.js"><link rel="prefetch" href="/assets/29.html.8e5ed26d.js"><link rel="prefetch" href="/assets/3.html.cac76b28.js"><link rel="prefetch" href="/assets/30.html.3f8b7310.js"><link rel="prefetch" href="/assets/31.html.ce140756.js"><link rel="prefetch" href="/assets/32.html.a5eb20b0.js"><link rel="prefetch" href="/assets/33.html.5417123a.js"><link rel="prefetch" href="/assets/34.html.8e4c5ce1.js"><link rel="prefetch" href="/assets/35.html.e3ff60af.js"><link rel="prefetch" href="/assets/36.html.16d35562.js"><link rel="prefetch" href="/assets/37.html.5321a968.js"><link rel="prefetch" href="/assets/38.html.89eec374.js"><link rel="prefetch" href="/assets/39.html.7e97fa26.js"><link rel="prefetch" href="/assets/4.html.afae0019.js"><link rel="prefetch" href="/assets/40.html.f382f186.js"><link rel="prefetch" href="/assets/41.html.f0ef7588.js"><link rel="prefetch" href="/assets/42.html.2778c440.js"><link rel="prefetch" href="/assets/43.html.bd9d0c30.js"><link rel="prefetch" href="/assets/44.html.19b6d5d0.js"><link rel="prefetch" href="/assets/45.html.73189bbd.js"><link rel="prefetch" href="/assets/46.html.3ff80313.js"><link rel="prefetch" href="/assets/47.html.d376e7eb.js"><link rel="prefetch" href="/assets/48.html.c6d85b67.js"><link rel="prefetch" href="/assets/49.html.309069aa.js"><link rel="prefetch" href="/assets/5.html.cf849ef3.js"><link rel="prefetch" href="/assets/50.html.8adf223d.js"><link rel="prefetch" href="/assets/51.html.090de363.js"><link rel="prefetch" href="/assets/52.html.1c7d4a92.js"><link rel="prefetch" href="/assets/53.html.3b9e231b.js"><link rel="prefetch" href="/assets/54.html.01f6144b.js"><link rel="prefetch" href="/assets/55.html.7f4aee42.js"><link rel="prefetch" href="/assets/56.html.d8b83966.js"><link rel="prefetch" href="/assets/57.html.b2188a30.js"><link rel="prefetch" href="/assets/58.html.7ab981a2.js"><link rel="prefetch" href="/assets/59.html.28e247f8.js"><link rel="prefetch" href="/assets/6.html.2b7b8ad3.js"><link rel="prefetch" href="/assets/60.html.48977f9d.js"><link rel="prefetch" href="/assets/61.html.be07cfeb.js"><link rel="prefetch" href="/assets/62.html.ef764c0d.js"><link rel="prefetch" href="/assets/63.html.d1b3af5b.js"><link rel="prefetch" href="/assets/64.html.ff458748.js"><link rel="prefetch" href="/assets/65.html.a1f18939.js"><link rel="prefetch" href="/assets/66.html.d3ebfa1b.js"><link rel="prefetch" href="/assets/67.html.3fefb232.js"><link rel="prefetch" href="/assets/68.html.6b3eacef.js"><link rel="prefetch" href="/assets/69.html.13709c4e.js"><link rel="prefetch" href="/assets/7.html.44323637.js"><link rel="prefetch" href="/assets/70.html.1b09fdec.js"><link rel="prefetch" href="/assets/71.html.fc91e357.js"><link rel="prefetch" href="/assets/72.html.3ed54957.js"><link rel="prefetch" href="/assets/73.html.3269221e.js"><link rel="prefetch" href="/assets/74.html.d36867b2.js"><link rel="prefetch" href="/assets/75.html.8b1ecf89.js"><link rel="prefetch" href="/assets/76.html.6edcd166.js"><link rel="prefetch" href="/assets/77.html.e7635ab7.js"><link rel="prefetch" href="/assets/78.html.0de8f8e0.js"><link rel="prefetch" href="/assets/79.html.b84c0c1d.js"><link rel="prefetch" href="/assets/8.html.fbdd9051.js"><link rel="prefetch" href="/assets/80.html.72b53b23.js"><link rel="prefetch" href="/assets/81.html.2df80b97.js"><link rel="prefetch" href="/assets/82.html.ad487a1e.js"><link rel="prefetch" href="/assets/83.html.c2f31839.js"><link rel="prefetch" href="/assets/84.html.8f08ca4d.js"><link rel="prefetch" href="/assets/85.html.58986e20.js"><link rel="prefetch" href="/assets/86.html.b208cc40.js"><link rel="prefetch" href="/assets/87.html.c3518680.js"><link rel="prefetch" href="/assets/88.html.4987ffcc.js"><link rel="prefetch" href="/assets/89.html.ba926430.js"><link rel="prefetch" href="/assets/9.html.d767983e.js"><link rel="prefetch" href="/assets/90.html.21f82605.js"><link rel="prefetch" href="/assets/91.html.b7301274.js"><link rel="prefetch" href="/assets/92.html.3662bc0c.js"><link rel="prefetch" href="/assets/93.html.e2ac0831.js"><link rel="prefetch" href="/assets/94.html.02d9e407.js"><link rel="prefetch" href="/assets/95.html.10a9639a.js"><link rel="prefetch" href="/assets/96.html.62960ce9.js"><link rel="prefetch" href="/assets/97.html.d0ab9bbe.js"><link rel="prefetch" href="/assets/98.html.89ca1b0b.js"><link rel="prefetch" href="/assets/99.html.5143f23b.js"><link rel="prefetch" href="/assets/index.html.35638118.js"><link rel="prefetch" href="/assets/1.html.f9754f70.js"><link rel="prefetch" href="/assets/10.html.771c935d.js"><link rel="prefetch" href="/assets/11.html.dbe231d8.js"><link rel="prefetch" href="/assets/12.html.364990b3.js"><link rel="prefetch" href="/assets/13.html.8277421b.js"><link rel="prefetch" href="/assets/14.html.2fbc6bac.js"><link rel="prefetch" href="/assets/15.html.9615dd08.js"><link rel="prefetch" href="/assets/16.html.9e7143eb.js"><link rel="prefetch" href="/assets/17.html.906b26ad.js"><link rel="prefetch" href="/assets/18.html.684766fb.js"><link rel="prefetch" href="/assets/19.html.1849e5be.js"><link rel="prefetch" href="/assets/2.html.19547058.js"><link rel="prefetch" href="/assets/20.html.1aff257d.js"><link rel="prefetch" href="/assets/21.html.63240d41.js"><link rel="prefetch" href="/assets/22.html.91411000.js"><link rel="prefetch" href="/assets/23.html.446233a7.js"><link rel="prefetch" href="/assets/24.html.11ef42fa.js"><link rel="prefetch" href="/assets/25.html.0bdcb0d9.js"><link rel="prefetch" href="/assets/26.html.e1263f4d.js"><link rel="prefetch" href="/assets/27.html.83633590.js"><link rel="prefetch" href="/assets/28.html.3a410de5.js"><link rel="prefetch" href="/assets/29.html.53c2ae75.js"><link rel="prefetch" href="/assets/3.html.8e7d4424.js"><link rel="prefetch" href="/assets/30.html.20bdaeb9.js"><link rel="prefetch" href="/assets/31.html.92c9e23b.js"><link rel="prefetch" href="/assets/32.html.313828c7.js"><link rel="prefetch" href="/assets/33.html.37a11ff5.js"><link rel="prefetch" href="/assets/34.html.0c0e97fb.js"><link rel="prefetch" href="/assets/35.html.c389cd29.js"><link rel="prefetch" href="/assets/36.html.e445a267.js"><link rel="prefetch" href="/assets/37.html.9d35d430.js"><link rel="prefetch" href="/assets/38.html.52905990.js"><link rel="prefetch" href="/assets/39.html.099ea8ee.js"><link rel="prefetch" href="/assets/4.html.71361f7b.js"><link rel="prefetch" href="/assets/40.html.6a94f9a7.js"><link rel="prefetch" href="/assets/41.html.c302f271.js"><link rel="prefetch" href="/assets/42.html.42f70d7c.js"><link rel="prefetch" href="/assets/43.html.5ee2a21b.js"><link rel="prefetch" href="/assets/44.html.9dc19608.js"><link rel="prefetch" href="/assets/45.html.65a00f64.js"><link rel="prefetch" href="/assets/46.html.3f216863.js"><link rel="prefetch" href="/assets/47.html.771bca91.js"><link rel="prefetch" href="/assets/48.html.c9fdb58d.js"><link rel="prefetch" href="/assets/49.html.2cd1d985.js"><link rel="prefetch" href="/assets/5.html.de603fcb.js"><link rel="prefetch" href="/assets/50.html.494b0ca7.js"><link rel="prefetch" href="/assets/51.html.51a4ea70.js"><link rel="prefetch" href="/assets/52.html.7fbf333e.js"><link rel="prefetch" href="/assets/53.html.3d3c9f66.js"><link rel="prefetch" href="/assets/54.html.c41944b8.js"><link rel="prefetch" href="/assets/55.html.6cac9530.js"><link rel="prefetch" href="/assets/56.html.f3d1621a.js"><link rel="prefetch" href="/assets/57.html.3fb6f308.js"><link rel="prefetch" href="/assets/58.html.e98a53c6.js"><link rel="prefetch" href="/assets/59.html.efc1a270.js"><link rel="prefetch" href="/assets/6.html.929b351a.js"><link rel="prefetch" href="/assets/60.html.895494dd.js"><link rel="prefetch" href="/assets/61.html.4fff4e8f.js"><link rel="prefetch" href="/assets/62.html.7f0dc57f.js"><link rel="prefetch" href="/assets/63.html.d3d63fbd.js"><link rel="prefetch" href="/assets/64.html.d81518de.js"><link rel="prefetch" href="/assets/65.html.5a2a423c.js"><link rel="prefetch" href="/assets/66.html.09006efe.js"><link rel="prefetch" href="/assets/67.html.c44147c4.js"><link rel="prefetch" href="/assets/68.html.5123bdda.js"><link rel="prefetch" href="/assets/69.html.709fcbfa.js"><link rel="prefetch" href="/assets/7.html.727901c0.js"><link rel="prefetch" href="/assets/70.html.d5175b4e.js"><link rel="prefetch" href="/assets/71.html.5c7276ad.js"><link rel="prefetch" href="/assets/72.html.be0505f9.js"><link rel="prefetch" href="/assets/73.html.945cee02.js"><link rel="prefetch" href="/assets/74.html.ed0427d0.js"><link rel="prefetch" href="/assets/75.html.22eaa4c1.js"><link rel="prefetch" href="/assets/76.html.83a60559.js"><link rel="prefetch" href="/assets/77.html.6a485035.js"><link rel="prefetch" href="/assets/78.html.5184af63.js"><link rel="prefetch" href="/assets/79.html.f31f80ee.js"><link rel="prefetch" href="/assets/8.html.0592d8bf.js"><link rel="prefetch" href="/assets/80.html.71fe2de3.js"><link rel="prefetch" href="/assets/81.html.674b9f45.js"><link rel="prefetch" href="/assets/82.html.84a9da67.js"><link rel="prefetch" href="/assets/83.html.f9366f23.js"><link rel="prefetch" href="/assets/84.html.077d9bdc.js"><link rel="prefetch" href="/assets/85.html.afe84b99.js"><link rel="prefetch" href="/assets/86.html.0cab34db.js"><link rel="prefetch" href="/assets/87.html.f2d70c50.js"><link rel="prefetch" href="/assets/88.html.3842a471.js"><link rel="prefetch" href="/assets/89.html.bd36ae29.js"><link rel="prefetch" href="/assets/9.html.939fa387.js"><link rel="prefetch" href="/assets/90.html.59d1af05.js"><link rel="prefetch" href="/assets/91.html.bff9db18.js"><link rel="prefetch" href="/assets/92.html.8d1d3932.js"><link rel="prefetch" href="/assets/93.html.2e25826f.js"><link rel="prefetch" href="/assets/94.html.3bf21ffb.js"><link rel="prefetch" href="/assets/95.html.703f578c.js"><link rel="prefetch" href="/assets/96.html.b168fbc0.js"><link rel="prefetch" href="/assets/97.html.9a9e7eb7.js"><link rel="prefetch" href="/assets/98.html.dba9b839.js"><link rel="prefetch" href="/assets/99.html.403135da.js"><link rel="prefetch" href="/assets/index.html.c8c6869b.js"><link rel="prefetch" href="/assets/1.html.fefabf1f.js"><link rel="prefetch" href="/assets/10.html.a591fdaf.js"><link rel="prefetch" href="/assets/11.html.f0c58879.js"><link rel="prefetch" href="/assets/12.html.6174ec90.js"><link rel="prefetch" href="/assets/13.html.181888e9.js"><link rel="prefetch" href="/assets/14.html.7b106669.js"><link rel="prefetch" href="/assets/15.html.c0e4acaa.js"><link rel="prefetch" href="/assets/16.html.7a3ba1ea.js"><link rel="prefetch" href="/assets/17.html.7a0b131d.js"><link rel="prefetch" href="/assets/18.html.0515d257.js"><link rel="prefetch" href="/assets/19.html.f9a1dad0.js"><link rel="prefetch" href="/assets/2.html.47656e60.js"><link rel="prefetch" href="/assets/20.html.7990e495.js"><link rel="prefetch" href="/assets/21.html.10de0a75.js"><link rel="prefetch" href="/assets/22.html.ccdeb6c4.js"><link rel="prefetch" href="/assets/23.html.371d6681.js"><link rel="prefetch" href="/assets/24.html.1e3b14eb.js"><link rel="prefetch" href="/assets/25.html.ce330676.js"><link rel="prefetch" href="/assets/26.html.d044406f.js"><link rel="prefetch" href="/assets/27.html.ccc926f6.js"><link rel="prefetch" href="/assets/28.html.49f5cbc7.js"><link rel="prefetch" href="/assets/29.html.f44fb171.js"><link rel="prefetch" href="/assets/3.html.44eda9ad.js"><link rel="prefetch" href="/assets/30.html.71962bb9.js"><link rel="prefetch" href="/assets/31.html.05d73e5f.js"><link rel="prefetch" href="/assets/32.html.e98a73d9.js"><link rel="prefetch" href="/assets/33.html.55b3c6fb.js"><link rel="prefetch" href="/assets/34.html.5146048c.js"><link rel="prefetch" href="/assets/35.html.51cb1df4.js"><link rel="prefetch" href="/assets/36.html.dea92735.js"><link rel="prefetch" href="/assets/37.html.4987df3a.js"><link rel="prefetch" href="/assets/38.html.94359779.js"><link rel="prefetch" href="/assets/39.html.e9fb19b6.js"><link rel="prefetch" href="/assets/4.html.11bb9c93.js"><link rel="prefetch" href="/assets/40.html.12ce2063.js"><link rel="prefetch" href="/assets/41.html.17b39dbf.js"><link rel="prefetch" href="/assets/42.html.737c2f7f.js"><link rel="prefetch" href="/assets/43.html.4aa549bb.js"><link rel="prefetch" href="/assets/44.html.461dd21b.js"><link rel="prefetch" href="/assets/45.html.f7fa8b44.js"><link rel="prefetch" href="/assets/46.html.0c1c3d86.js"><link rel="prefetch" href="/assets/47.html.7a6006c3.js"><link rel="prefetch" href="/assets/48.html.876530ae.js"><link rel="prefetch" href="/assets/49.html.93195ef1.js"><link rel="prefetch" href="/assets/5.html.d52a2513.js"><link rel="prefetch" href="/assets/50.html.ae771c42.js"><link rel="prefetch" href="/assets/6.html.6207e399.js"><link rel="prefetch" href="/assets/7.html.60b74bd7.js"><link rel="prefetch" href="/assets/8.html.4ebadc89.js"><link rel="prefetch" href="/assets/9.html.38305fea.js"><link rel="prefetch" href="/assets/k8s_011.html.a02b632d.js"><link rel="prefetch" href="/assets/k8s_012.html.43d51b72.js"><link rel="prefetch" href="/assets/k8s_013.html.ec5b47f7.js"><link rel="prefetch" href="/assets/k8s_014.html.f6d97c90.js"><link rel="prefetch" href="/assets/k8s_015.html.e0a1919b.js"><link rel="prefetch" href="/assets/k8s_016.html.3974eb6c.js"><link rel="prefetch" href="/assets/k8s_017.html.75871624.js"><link rel="prefetch" href="/assets/k8s_018.html.12099bf7.js"><link rel="prefetch" href="/assets/k8s_019.html.056e3a37.js"><link rel="prefetch" href="/assets/k8s_020.html.81fc58d1.js"><link rel="prefetch" href="/assets/k8s_021.html.28a3099b.js"><link rel="prefetch" href="/assets/k8s_022.html.bd4c9467.js"><link rel="prefetch" href="/assets/k8s_023.html.ffd7194a.js"><link rel="prefetch" href="/assets/k8s_024.html.3422943c.js"><link rel="prefetch" href="/assets/k8s_025.html.29b4b1e1.js"><link rel="prefetch" href="/assets/k8s_026.html.37a39c28.js"><link rel="prefetch" href="/assets/k8s_027.html.ffb2e25f.js"><link rel="prefetch" href="/assets/k8s_028.html.d98c6ad6.js"><link rel="prefetch" href="/assets/k8s_029.html.ca41febf.js"><link rel="prefetch" href="/assets/k8s_030.html.9902d045.js"><link rel="prefetch" href="/assets/README (copy).html.e4b91025.js"><link rel="prefetch" href="/assets/index.html.32aff7af.js"><link rel="prefetch" href="/assets/1.html.bd959b6e.js"><link rel="prefetch" href="/assets/10.html.ae2469e0.js"><link rel="prefetch" href="/assets/11.html.cf3c12f9.js"><link rel="prefetch" href="/assets/12.html.a0411a0f.js"><link rel="prefetch" href="/assets/13.html.2caa0b00.js"><link rel="prefetch" href="/assets/14.html.381371db.js"><link rel="prefetch" href="/assets/15.html.e47b1665.js"><link rel="prefetch" href="/assets/16.html.30b1bf5d.js"><link rel="prefetch" href="/assets/17.html.073b9d56.js"><link rel="prefetch" href="/assets/18.html.8c025525.js"><link rel="prefetch" href="/assets/19.html.f06d2ea4.js"><link rel="prefetch" href="/assets/2.html.c24a2383.js"><link rel="prefetch" href="/assets/20.html.9e702c70.js"><link rel="prefetch" href="/assets/21.html.087be0ef.js"><link rel="prefetch" href="/assets/22.html.67972d7c.js"><link rel="prefetch" href="/assets/23.html.7f287dfd.js"><link rel="prefetch" href="/assets/24.html.e8034405.js"><link rel="prefetch" href="/assets/25.html.8bdb4208.js"><link rel="prefetch" href="/assets/26.html.52f08579.js"><link rel="prefetch" href="/assets/27.html.16632077.js"><link rel="prefetch" href="/assets/28.html.6d11f2d1.js"><link rel="prefetch" href="/assets/29.html.059e6730.js"><link rel="prefetch" href="/assets/3.html.b3db0053.js"><link rel="prefetch" href="/assets/30.html.a53b02db.js"><link rel="prefetch" href="/assets/31.html.0b37e7ce.js"><link rel="prefetch" href="/assets/32.html.cea0c777.js"><link rel="prefetch" href="/assets/33.html.ff558a34.js"><link rel="prefetch" href="/assets/34.html.e8b4b97e.js"><link rel="prefetch" href="/assets/35.html.cb802a9c.js"><link rel="prefetch" href="/assets/36.html.a719dfcb.js"><link rel="prefetch" href="/assets/37.html.d139e2b1.js"><link rel="prefetch" href="/assets/38.html.89fc986d.js"><link rel="prefetch" href="/assets/39.html.f9fda674.js"><link rel="prefetch" href="/assets/4.html.0f09f509.js"><link rel="prefetch" href="/assets/40.html.8a6f76c5.js"><link rel="prefetch" href="/assets/41.html.da32683f.js"><link rel="prefetch" href="/assets/42.html.19b82696.js"><link rel="prefetch" href="/assets/43.html.d3c5a1fb.js"><link rel="prefetch" href="/assets/44.html.37c86fd1.js"><link rel="prefetch" href="/assets/45.html.49d43e8d.js"><link rel="prefetch" href="/assets/46.html.c897c137.js"><link rel="prefetch" href="/assets/47.html.9fc11c19.js"><link rel="prefetch" href="/assets/48.html.61399716.js"><link rel="prefetch" href="/assets/49.html.4bff12f5.js"><link rel="prefetch" href="/assets/5.html.c137122b.js"><link rel="prefetch" href="/assets/6.html.082624e8.js"><link rel="prefetch" href="/assets/7.html.a4ae3c8b.js"><link rel="prefetch" href="/assets/8.html.9f5571b9.js"><link rel="prefetch" href="/assets/9.html.9d8ed5f6.js"><link rel="prefetch" href="/assets/404.html.c3e557d0.js"><link rel="prefetch" href="/assets/index.html.191f4a0b.js"><link rel="prefetch" href="/assets/1.html.4ec29260.js"><link rel="prefetch" href="/assets/10.html.3c7b23be.js"><link rel="prefetch" href="/assets/11.html.861b19b2.js"><link rel="prefetch" href="/assets/12.html.9507b633.js"><link rel="prefetch" href="/assets/13.html.71a4d365.js"><link rel="prefetch" href="/assets/14.html.ed05dc49.js"><link rel="prefetch" href="/assets/16.html.344e7bb1.js"><link rel="prefetch" href="/assets/17.html.a5b807bf.js"><link rel="prefetch" href="/assets/18.html.e958973d.js"><link rel="prefetch" href="/assets/19.html.839a5f2c.js"><link rel="prefetch" href="/assets/2.html.3891e5d7.js"><link rel="prefetch" href="/assets/20.html.ebc6343d.js"><link rel="prefetch" href="/assets/21.html.06b07ae1.js"><link rel="prefetch" href="/assets/22.html.22575279.js"><link rel="prefetch" href="/assets/23.html.32cfe536.js"><link rel="prefetch" href="/assets/24.html.6ea7b87a.js"><link rel="prefetch" href="/assets/25.html.3536cb6c.js"><link rel="prefetch" href="/assets/26.html.f2b40fb1.js"><link rel="prefetch" href="/assets/27.html.5f58c848.js"><link rel="prefetch" href="/assets/28.html.7c32a869.js"><link rel="prefetch" href="/assets/29.html.e11ae023.js"><link rel="prefetch" href="/assets/3.html.1b213da5.js"><link rel="prefetch" href="/assets/30.html.567618df.js"><link rel="prefetch" href="/assets/31.html.ce18efa7.js"><link rel="prefetch" href="/assets/32.html.4a0e3454.js"><link rel="prefetch" href="/assets/33.html.f8ede20b.js"><link rel="prefetch" href="/assets/34.html.43c63270.js"><link rel="prefetch" href="/assets/35.html.3f5a4f24.js"><link rel="prefetch" href="/assets/36.html.84f09dfa.js"><link rel="prefetch" href="/assets/37.html.ddf4e039.js"><link rel="prefetch" href="/assets/38.html.82556aea.js"><link rel="prefetch" href="/assets/39.html.97cc8b5a.js"><link rel="prefetch" href="/assets/4.html.6bc1a806.js"><link rel="prefetch" href="/assets/40.html.f45b98f4.js"><link rel="prefetch" href="/assets/41.html.eae7ba0c.js"><link rel="prefetch" href="/assets/42.html.ec86a759.js"><link rel="prefetch" href="/assets/43.html.114f7bbd.js"><link rel="prefetch" href="/assets/44.html.e4d99f95.js"><link rel="prefetch" href="/assets/45.html.a5857cc5.js"><link rel="prefetch" href="/assets/46.html.961e0cb2.js"><link rel="prefetch" href="/assets/47.html.5863821a.js"><link rel="prefetch" href="/assets/48.html.54a16b78.js"><link rel="prefetch" href="/assets/49.html.00ac93ec.js"><link rel="prefetch" href="/assets/5.html.28204d61.js"><link rel="prefetch" href="/assets/50.html.2e3278b3.js"><link rel="prefetch" href="/assets/51.html.e44b0247.js"><link rel="prefetch" href="/assets/52.html.f7f0710a.js"><link rel="prefetch" href="/assets/53.html.45737587.js"><link rel="prefetch" href="/assets/54.html.786846ca.js"><link rel="prefetch" href="/assets/55.html.e9e1e623.js"><link rel="prefetch" href="/assets/56.html.eb65a293.js"><link rel="prefetch" href="/assets/57.html.e33e0fdd.js"><link rel="prefetch" href="/assets/58.html.33155b42.js"><link rel="prefetch" href="/assets/59.html.25ad97ab.js"><link rel="prefetch" href="/assets/6.html.89852080.js"><link rel="prefetch" href="/assets/60.html.d165658b.js"><link rel="prefetch" href="/assets/61.html.741230e6.js"><link rel="prefetch" href="/assets/62.html.75931223.js"><link rel="prefetch" href="/assets/63.html.a5009279.js"><link rel="prefetch" href="/assets/64.html.ce642fa6.js"><link rel="prefetch" href="/assets/65.html.6d1b9915.js"><link rel="prefetch" href="/assets/66.html.7852986d.js"><link rel="prefetch" href="/assets/67.html.f1f39643.js"><link rel="prefetch" href="/assets/68.html.02365f3c.js"><link rel="prefetch" href="/assets/69.html.7580c5ca.js"><link rel="prefetch" href="/assets/7.html.c010c38a.js"><link rel="prefetch" href="/assets/70.html.36280ba5.js"><link rel="prefetch" href="/assets/71.html.0f917ded.js"><link rel="prefetch" href="/assets/72.html.c00de096.js"><link rel="prefetch" href="/assets/73.html.f28b04cc.js"><link rel="prefetch" href="/assets/74.html.bf556391.js"><link rel="prefetch" href="/assets/75.html.bd15e9d8.js"><link rel="prefetch" href="/assets/76.html.e682f72f.js"><link rel="prefetch" href="/assets/77.html.6ef4a26c.js"><link rel="prefetch" href="/assets/78.html.13cbc6fc.js"><link rel="prefetch" href="/assets/79.html.0ebd1688.js"><link rel="prefetch" href="/assets/8.html.093defb2.js"><link rel="prefetch" href="/assets/80.html.40f20277.js"><link rel="prefetch" href="/assets/81.html.879bb527.js"><link rel="prefetch" href="/assets/82.html.ae0a8df8.js"><link rel="prefetch" href="/assets/83.html.db1315ce.js"><link rel="prefetch" href="/assets/84.html.95368be5.js"><link rel="prefetch" href="/assets/85.html.d41b06c6.js"><link rel="prefetch" href="/assets/86.html.8bef7adb.js"><link rel="prefetch" href="/assets/87.html.9e98a21c.js"><link rel="prefetch" href="/assets/88.html.920b6ccb.js"><link rel="prefetch" href="/assets/89.html.21615925.js"><link rel="prefetch" href="/assets/9.html.5071b80b.js"><link rel="prefetch" href="/assets/90.html.e529e421.js"><link rel="prefetch" href="/assets/91.html.9ca775b8.js"><link rel="prefetch" href="/assets/92.html.6dac918e.js"><link rel="prefetch" href="/assets/93.html.34540b05.js"><link rel="prefetch" href="/assets/94.html.d72894cf.js"><link rel="prefetch" href="/assets/95.html.1edd2d39.js"><link rel="prefetch" href="/assets/96.html.5cf06d75.js"><link rel="prefetch" href="/assets/97.html.a54690ac.js"><link rel="prefetch" href="/assets/98.html.d6ee6ab1.js"><link rel="prefetch" href="/assets/99.html.7a64767a.js"><link rel="prefetch" href="/assets/index.html.56da6443.js"><link rel="prefetch" href="/assets/1.html.e4a7cb40.js"><link rel="prefetch" href="/assets/10.html.840f0efa.js"><link rel="prefetch" href="/assets/11.html.4c84f07b.js"><link rel="prefetch" href="/assets/12.html.66f42a0f.js"><link rel="prefetch" href="/assets/13.html.6c83cbda.js"><link rel="prefetch" href="/assets/14.html.c21d9777.js"><link rel="prefetch" href="/assets/15.html.b9fbee43.js"><link rel="prefetch" href="/assets/16.html.44eb93b5.js"><link rel="prefetch" href="/assets/17.html.607d3bc6.js"><link rel="prefetch" href="/assets/18.html.8fb19b84.js"><link rel="prefetch" href="/assets/19.html.2a7feebb.js"><link rel="prefetch" href="/assets/2.html.875504ef.js"><link rel="prefetch" href="/assets/20.html.fa7bdffd.js"><link rel="prefetch" href="/assets/21.html.f38b6bd1.js"><link rel="prefetch" href="/assets/22.html.8337f608.js"><link rel="prefetch" href="/assets/23.html.dd5098a1.js"><link rel="prefetch" href="/assets/24.html.3e8197e4.js"><link rel="prefetch" href="/assets/25.html.c23c5458.js"><link rel="prefetch" href="/assets/26.html.b56969c1.js"><link rel="prefetch" href="/assets/27.html.1f6d34b7.js"><link rel="prefetch" href="/assets/28.html.0551287e.js"><link rel="prefetch" href="/assets/29.html.09e824d6.js"><link rel="prefetch" href="/assets/3.html.e0339c43.js"><link rel="prefetch" href="/assets/30.html.2f6907e5.js"><link rel="prefetch" href="/assets/31.html.5962e154.js"><link rel="prefetch" href="/assets/32.html.7733b615.js"><link rel="prefetch" href="/assets/33.html.9accd247.js"><link rel="prefetch" href="/assets/34.html.387b7aee.js"><link rel="prefetch" href="/assets/35.html.08ba59a5.js"><link rel="prefetch" href="/assets/36.html.9fcb2293.js"><link rel="prefetch" href="/assets/37.html.e57aed1e.js"><link rel="prefetch" href="/assets/38.html.11e22ddc.js"><link rel="prefetch" href="/assets/39.html.c5dccf07.js"><link rel="prefetch" href="/assets/4.html.76308a26.js"><link rel="prefetch" href="/assets/40.html.433c345a.js"><link rel="prefetch" href="/assets/41.html.81fa70c6.js"><link rel="prefetch" href="/assets/42.html.943bf70f.js"><link rel="prefetch" href="/assets/43.html.f1e8d587.js"><link rel="prefetch" href="/assets/44.html.71f6cf08.js"><link rel="prefetch" href="/assets/45.html.b15b8a02.js"><link rel="prefetch" href="/assets/46.html.de670e6e.js"><link rel="prefetch" href="/assets/47.html.2763e98a.js"><link rel="prefetch" href="/assets/48.html.c5a8f053.js"><link rel="prefetch" href="/assets/49.html.1bf69bf2.js"><link rel="prefetch" href="/assets/5.html.ac63a253.js"><link rel="prefetch" href="/assets/50.html.028c83fb.js"><link rel="prefetch" href="/assets/51.html.b2b46612.js"><link rel="prefetch" href="/assets/52.html.2ddb2444.js"><link rel="prefetch" href="/assets/53.html.cd2a2f58.js"><link rel="prefetch" href="/assets/54.html.7ca76826.js"><link rel="prefetch" href="/assets/55.html.a37c076b.js"><link rel="prefetch" href="/assets/56.html.7c4d4704.js"><link rel="prefetch" href="/assets/57.html.b2b5cad9.js"><link rel="prefetch" href="/assets/58.html.cc5d8bea.js"><link rel="prefetch" href="/assets/59.html.4715fc71.js"><link rel="prefetch" href="/assets/6.html.2d619dc3.js"><link rel="prefetch" href="/assets/60.html.1f78d3fb.js"><link rel="prefetch" href="/assets/61.html.3ff77192.js"><link rel="prefetch" href="/assets/62.html.a99cf103.js"><link rel="prefetch" href="/assets/63.html.028d66c3.js"><link rel="prefetch" href="/assets/64.html.45a6827c.js"><link rel="prefetch" href="/assets/65.html.f374d27d.js"><link rel="prefetch" href="/assets/66.html.05d3a9f0.js"><link rel="prefetch" href="/assets/67.html.7b6f5630.js"><link rel="prefetch" href="/assets/68.html.b22c7295.js"><link rel="prefetch" href="/assets/69.html.f093d2b9.js"><link rel="prefetch" href="/assets/7.html.f4333546.js"><link rel="prefetch" href="/assets/70.html.5b56ede3.js"><link rel="prefetch" href="/assets/71.html.297d2946.js"><link rel="prefetch" href="/assets/72.html.e3e4fb97.js"><link rel="prefetch" href="/assets/73.html.71d7c612.js"><link rel="prefetch" href="/assets/74.html.ffb3f893.js"><link rel="prefetch" href="/assets/75.html.c2cc9461.js"><link rel="prefetch" href="/assets/76.html.721bbde0.js"><link rel="prefetch" href="/assets/77.html.2fc12bca.js"><link rel="prefetch" href="/assets/78.html.3581dd0e.js"><link rel="prefetch" href="/assets/79.html.4589593c.js"><link rel="prefetch" href="/assets/8.html.db6e4689.js"><link rel="prefetch" href="/assets/80.html.d3217b18.js"><link rel="prefetch" href="/assets/81.html.4f891b52.js"><link rel="prefetch" href="/assets/82.html.5061fd7c.js"><link rel="prefetch" href="/assets/83.html.3755494a.js"><link rel="prefetch" href="/assets/84.html.6b7c7416.js"><link rel="prefetch" href="/assets/85.html.6a198e7a.js"><link rel="prefetch" href="/assets/86.html.4d1c1e86.js"><link rel="prefetch" href="/assets/87.html.9f7896b4.js"><link rel="prefetch" href="/assets/88.html.b3cd21fd.js"><link rel="prefetch" href="/assets/89.html.17bc30f0.js"><link rel="prefetch" href="/assets/9.html.129e66cb.js"><link rel="prefetch" href="/assets/90.html.f71650af.js"><link rel="prefetch" href="/assets/91.html.42e04865.js"><link rel="prefetch" href="/assets/92.html.b045f825.js"><link rel="prefetch" href="/assets/93.html.27d6fc0d.js"><link rel="prefetch" href="/assets/94.html.04668423.js"><link rel="prefetch" href="/assets/95.html.87705813.js"><link rel="prefetch" href="/assets/96.html.9e67fc47.js"><link rel="prefetch" href="/assets/97.html.554c27cc.js"><link rel="prefetch" href="/assets/98.html.1552ff97.js"><link rel="prefetch" href="/assets/99.html.7818c5b1.js"><link rel="prefetch" href="/assets/index.html.ed9cee98.js"><link rel="prefetch" href="/assets/1.html.3f9318ed.js"><link rel="prefetch" href="/assets/10.html.affb4327.js"><link rel="prefetch" href="/assets/11.html.3d32e342.js"><link rel="prefetch" href="/assets/12.html.c95d2d8b.js"><link rel="prefetch" href="/assets/13.html.2553ced2.js"><link rel="prefetch" href="/assets/14.html.1b24134a.js"><link rel="prefetch" href="/assets/15.html.d8104217.js"><link rel="prefetch" href="/assets/16.html.551b5085.js"><link rel="prefetch" href="/assets/17.html.42611eff.js"><link rel="prefetch" href="/assets/18.html.525cf060.js"><link rel="prefetch" href="/assets/19.html.84600575.js"><link rel="prefetch" href="/assets/2.html.0c78b713.js"><link rel="prefetch" href="/assets/20.html.b4ee7722.js"><link rel="prefetch" href="/assets/21.html.cb09baa4.js"><link rel="prefetch" href="/assets/22.html.5d76493d.js"><link rel="prefetch" href="/assets/23.html.9bcbda8d.js"><link rel="prefetch" href="/assets/24.html.36de0fc8.js"><link rel="prefetch" href="/assets/25.html.29beba20.js"><link rel="prefetch" href="/assets/26.html.5e5934eb.js"><link rel="prefetch" href="/assets/27.html.7e1c1609.js"><link rel="prefetch" href="/assets/28.html.0e8bfe44.js"><link rel="prefetch" href="/assets/29.html.ff34df05.js"><link rel="prefetch" href="/assets/3.html.557c5279.js"><link rel="prefetch" href="/assets/30.html.64bed6d4.js"><link rel="prefetch" href="/assets/31.html.7a49081e.js"><link rel="prefetch" href="/assets/32.html.0485dceb.js"><link rel="prefetch" href="/assets/33.html.3dc0f63e.js"><link rel="prefetch" href="/assets/34.html.d4c7166c.js"><link rel="prefetch" href="/assets/35.html.bfed1a9e.js"><link rel="prefetch" href="/assets/36.html.9f505359.js"><link rel="prefetch" href="/assets/37.html.172b5db3.js"><link rel="prefetch" href="/assets/38.html.3a651ab1.js"><link rel="prefetch" href="/assets/39.html.50ad53f7.js"><link rel="prefetch" href="/assets/4.html.ffcac861.js"><link rel="prefetch" href="/assets/40.html.76ed3d11.js"><link rel="prefetch" href="/assets/41.html.2a45421e.js"><link rel="prefetch" href="/assets/42.html.72182be5.js"><link rel="prefetch" href="/assets/43.html.d1ebaa38.js"><link rel="prefetch" href="/assets/44.html.2544a574.js"><link rel="prefetch" href="/assets/45.html.a72a4a7b.js"><link rel="prefetch" href="/assets/46.html.7cfe4f15.js"><link rel="prefetch" href="/assets/47.html.986149fb.js"><link rel="prefetch" href="/assets/48.html.31433a28.js"><link rel="prefetch" href="/assets/49.html.00a87307.js"><link rel="prefetch" href="/assets/5.html.51af0721.js"><link rel="prefetch" href="/assets/50.html.8e0d2d00.js"><link rel="prefetch" href="/assets/6.html.e5644de5.js"><link rel="prefetch" href="/assets/7.html.76da9d23.js"><link rel="prefetch" href="/assets/8.html.02203470.js"><link rel="prefetch" href="/assets/9.html.9dd830f8.js"><link rel="prefetch" href="/assets/k8s_011.html.67c5a7f0.js"><link rel="prefetch" href="/assets/k8s_012.html.efb6b09a.js"><link rel="prefetch" href="/assets/k8s_013.html.8c171078.js"><link rel="prefetch" href="/assets/k8s_014.html.62e132d9.js"><link rel="prefetch" href="/assets/k8s_015.html.bbc8627f.js"><link rel="prefetch" href="/assets/k8s_016.html.345e5904.js"><link rel="prefetch" href="/assets/k8s_017.html.a9fcdaf8.js"><link rel="prefetch" href="/assets/k8s_018.html.498439dc.js"><link rel="prefetch" href="/assets/k8s_019.html.3344e162.js"><link rel="prefetch" href="/assets/k8s_020.html.f79c1d9f.js"><link rel="prefetch" href="/assets/k8s_021.html.e518d497.js"><link rel="prefetch" href="/assets/k8s_022.html.65415a20.js"><link rel="prefetch" href="/assets/k8s_023.html.57c18fe1.js"><link rel="prefetch" href="/assets/k8s_024.html.88cc1fc7.js"><link rel="prefetch" href="/assets/k8s_025.html.0f662b72.js"><link rel="prefetch" href="/assets/k8s_026.html.4a187a7a.js"><link rel="prefetch" href="/assets/k8s_027.html.e258f94e.js"><link rel="prefetch" href="/assets/k8s_028.html.980aa3d8.js"><link rel="prefetch" href="/assets/k8s_029.html.503d9c3d.js"><link rel="prefetch" href="/assets/k8s_030.html.faaff96e.js"><link rel="prefetch" href="/assets/README (copy).html.754fbb2c.js"><link rel="prefetch" href="/assets/index.html.6ca7e888.js"><link rel="prefetch" href="/assets/1.html.cb760536.js"><link rel="prefetch" href="/assets/10.html.7f56d429.js"><link rel="prefetch" href="/assets/11.html.1a54a38a.js"><link rel="prefetch" href="/assets/12.html.994c3e74.js"><link rel="prefetch" href="/assets/13.html.988ed391.js"><link rel="prefetch" href="/assets/14.html.0d007382.js"><link rel="prefetch" href="/assets/15.html.92dbc38c.js"><link rel="prefetch" href="/assets/16.html.413a0ada.js"><link rel="prefetch" href="/assets/17.html.ddcbe932.js"><link rel="prefetch" href="/assets/18.html.98933bee.js"><link rel="prefetch" href="/assets/19.html.388fe393.js"><link rel="prefetch" href="/assets/2.html.8acab234.js"><link rel="prefetch" href="/assets/20.html.1990b4cc.js"><link rel="prefetch" href="/assets/21.html.1ee082f6.js"><link rel="prefetch" href="/assets/22.html.2b206f1d.js"><link rel="prefetch" href="/assets/23.html.75e19aa1.js"><link rel="prefetch" href="/assets/24.html.fad01e9c.js"><link rel="prefetch" href="/assets/25.html.85b891ca.js"><link rel="prefetch" href="/assets/26.html.43e9ea0c.js"><link rel="prefetch" href="/assets/27.html.013877bf.js"><link rel="prefetch" href="/assets/28.html.52ba0c82.js"><link rel="prefetch" href="/assets/29.html.a25da5c3.js"><link rel="prefetch" href="/assets/3.html.543cc3e4.js"><link rel="prefetch" href="/assets/30.html.ac1de86c.js"><link rel="prefetch" href="/assets/31.html.77c899dd.js"><link rel="prefetch" href="/assets/32.html.f46ecb73.js"><link rel="prefetch" href="/assets/33.html.89db46aa.js"><link rel="prefetch" href="/assets/34.html.45be5472.js"><link rel="prefetch" href="/assets/35.html.32b5121e.js"><link rel="prefetch" href="/assets/36.html.add5d48d.js"><link rel="prefetch" href="/assets/37.html.efcdac82.js"><link rel="prefetch" href="/assets/38.html.f4d61a3e.js"><link rel="prefetch" href="/assets/39.html.6f63f507.js"><link rel="prefetch" href="/assets/4.html.2762e4a5.js"><link rel="prefetch" href="/assets/40.html.71a3bf51.js"><link rel="prefetch" href="/assets/41.html.92ba1e97.js"><link rel="prefetch" href="/assets/42.html.3531a0ef.js"><link rel="prefetch" href="/assets/43.html.e7742384.js"><link rel="prefetch" href="/assets/44.html.660dac30.js"><link rel="prefetch" href="/assets/45.html.b4155efe.js"><link rel="prefetch" href="/assets/46.html.48f2794b.js"><link rel="prefetch" href="/assets/47.html.c9dce373.js"><link rel="prefetch" href="/assets/48.html.0c44f187.js"><link rel="prefetch" href="/assets/49.html.0272e4c0.js"><link rel="prefetch" href="/assets/5.html.ecf6d16f.js"><link rel="prefetch" href="/assets/6.html.ff504212.js"><link rel="prefetch" href="/assets/7.html.8c01bcac.js"><link rel="prefetch" href="/assets/8.html.8df98e5c.js"><link rel="prefetch" href="/assets/9.html.050d112f.js"><link rel="prefetch" href="/assets/404.html.80625ca2.js">
    <link rel="stylesheet" href="/assets/style.57cbcbfb.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="åˆ‡æ¢ä¾§è¾¹æ " aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name can-hide">ä½ å¥½</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ¤µå…³äºæˆ‘"><span class="title">ğŸ¤µå…³äºæˆ‘</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ¤µå…³äºæˆ‘"><span class="title">ğŸ¤µå…³äºæˆ‘</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/3293172751/cs-awesome-Block_Chain" target="_self" aria-label="Githubä»“åº“"><!--[--><!--]--> Githubä»“åº“ <!----><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="http://nsddd.top" target="_self" aria-label="æˆ‘çš„åšå®¢"><!--[--><!--]--> æˆ‘çš„åšå®¢ <!----><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.zhihu.com/people/3293172751" rel="noopener noreferrer" target="_blank" aria-label="çŸ¥ä¹"><!--[--><!--]--> çŸ¥ä¹ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/C-UB/" rel="noopener noreferrer" target="_blank" aria-label="â›“ï¸é“¾å­¦ç¤¾ç»„ç»‡"><!--[--><!--]--> â›“ï¸é“¾å­¦ç¤¾ç»„ç»‡ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/" class="" aria-label="ğŸ é¦–é¡µ"><!--[--><!--]--> ğŸ é¦–é¡µ <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://go.nsddd.top" rel="noopener noreferrer" target="_blank" aria-label="ğŸ“šGoè¯­è¨€å­¦ä¹ "><!--[--><!--]--> ğŸ“šGoè¯­è¨€å­¦ä¹  <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a href="/Cloud-Native-k8s/" class="router-link-active" aria-label="âš¡ k8så­¦ä¹ ç¯‡"><!--[--><!--]--> âš¡ k8så­¦ä¹ ç¯‡ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/markdown/" class="" aria-label="âš¡ dockerå­¦ä¹ ç¯‡"><!--[--><!--]--> âš¡ dockerå­¦ä¹ ç¯‡ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Cloud-Native/" class="" aria-label="ğŸ„â€â™‚ï¸ äº‘åŸç”Ÿå­¦ä¹ ç¯‡"><!--[--><!--]--> ğŸ„â€â™‚ï¸ äº‘åŸç”Ÿå­¦ä¹ ç¯‡ <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/3293172751/awesome-docker" rel="noopener noreferrer" target="_blank" aria-label="æŸ¥çœ‹æºç "><!--[--><!--]--> æŸ¥çœ‹æºç  <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="åˆ‡æ¢é¢œè‰²æ¨¡å¼"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ¤µå…³äºæˆ‘"><span class="title">ğŸ¤µå…³äºæˆ‘</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ¤µå…³äºæˆ‘"><span class="title">ğŸ¤µå…³äºæˆ‘</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/3293172751/cs-awesome-Block_Chain" target="_self" aria-label="Githubä»“åº“"><!--[--><!--]--> Githubä»“åº“ <!----><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="http://nsddd.top" target="_self" aria-label="æˆ‘çš„åšå®¢"><!--[--><!--]--> æˆ‘çš„åšå®¢ <!----><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.zhihu.com/people/3293172751" rel="noopener noreferrer" target="_blank" aria-label="çŸ¥ä¹"><!--[--><!--]--> çŸ¥ä¹ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/C-UB/" rel="noopener noreferrer" target="_blank" aria-label="â›“ï¸é“¾å­¦ç¤¾ç»„ç»‡"><!--[--><!--]--> â›“ï¸é“¾å­¦ç¤¾ç»„ç»‡ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/" class="" aria-label="ğŸ é¦–é¡µ"><!--[--><!--]--> ğŸ é¦–é¡µ <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://go.nsddd.top" rel="noopener noreferrer" target="_blank" aria-label="ğŸ“šGoè¯­è¨€å­¦ä¹ "><!--[--><!--]--> ğŸ“šGoè¯­è¨€å­¦ä¹  <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a href="/Cloud-Native-k8s/" class="router-link-active" aria-label="âš¡ k8så­¦ä¹ ç¯‡"><!--[--><!--]--> âš¡ k8så­¦ä¹ ç¯‡ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/markdown/" class="" aria-label="âš¡ dockerå­¦ä¹ ç¯‡"><!--[--><!--]--> âš¡ dockerå­¦ä¹ ç¯‡ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Cloud-Native/" class="" aria-label="ğŸ„â€â™‚ï¸ äº‘åŸç”Ÿå­¦ä¹ ç¯‡"><!--[--><!--]--> ğŸ„â€â™‚ï¸ äº‘åŸç”Ÿå­¦ä¹ ç¯‡ <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/3293172751/awesome-docker" rel="noopener noreferrer" target="_blank" aria-label="æŸ¥çœ‹æºç "><!--[--><!--]--> æŸ¥çœ‹æºç  <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/" class="sidebar-item sidebar-heading" aria-label="ğŸ å›åˆ°ä¸»é¡µ"><!--[--><!--]--> ğŸ å›åˆ°ä¸»é¡µ <!--[--><!--]--></a><!----></li><li><a class="external-link sidebar-item sidebar-heading" href="https://xxw.nsddd.top/s/wRSz" rel="noopener noreferrer" target="_blank" aria-label="ğŸ’±ä¸ªäººäº‘ç›˜åœ°å€"><!--[--><!--]--> ğŸ’±ä¸ªäººäº‘ç›˜åœ°å€ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading active">âš¡ k8säº‘åŸç”Ÿå­¦ä¹ ç¯‡ <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/Cloud-Native-k8s/1.html" class="sidebar-item" aria-label="ç¬¬1èŠ‚ äº‘å¹³å°"><!--[--><!--]--> ç¬¬1èŠ‚ äº‘å¹³å° <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/2.html" class="sidebar-item" aria-label="ç¬¬2èŠ‚ dockerå®ç”¨æ“ä½œ"><!--[--><!--]--> ç¬¬2èŠ‚ dockerå®ç”¨æ“ä½œ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/3.html" class="sidebar-item" aria-label="ç¬¬3èŠ‚ dockerä¸‰é©¾é©¬è½¦"><!--[--><!--]--> ç¬¬3èŠ‚ dockerä¸‰é©¾é©¬è½¦ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/4.html" class="sidebar-item" aria-label="ç¬¬4èŠ‚ kubernetes(k8s)æ•™ç¨‹"><!--[--><!--]--> ç¬¬4èŠ‚ kubernetes(k8s)æ•™ç¨‹ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/5.html" class="sidebar-item" aria-label="ç¬¬5èŠ‚ é›†ç¾¤æ­å»º"><!--[--><!--]--> ç¬¬5èŠ‚ é›†ç¾¤æ­å»º <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/6.html" class="sidebar-item" aria-label="ç¬¬6èŠ‚ sealosæ­å»ºk8s"><!--[--><!--]--> ç¬¬6èŠ‚ sealosæ­å»ºk8s <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/7.html" class="sidebar-item" aria-label="ç¬¬7èŠ‚ k8såœ¨çº¿å®éªŒå­¦ä¹ å¹³å°"><!--[--><!--]--> ç¬¬7èŠ‚ k8såœ¨çº¿å®éªŒå­¦ä¹ å¹³å° <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/8.html" class="sidebar-item" aria-label="ç¬¬8èŠ‚ å›¾å½¢ç•Œé¢å’Œå‘½åç©ºé—´"><!--[--><!--]--> ç¬¬8èŠ‚ å›¾å½¢ç•Œé¢å’Œå‘½åç©ºé—´ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/9.html" class="sidebar-item" aria-label="ç¬¬9èŠ‚ Pod"><!--[--><!--]--> ç¬¬9èŠ‚ Pod <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/10.html" class="sidebar-item" aria-label="ç¬¬10èŠ‚ Deployment"><!--[--><!--]--> ç¬¬10èŠ‚ Deployment <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/11.html" class="sidebar-item" aria-label="ç¬¬11èŠ‚ service"><!--[--><!--]--> ç¬¬11èŠ‚ service <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/12.html" class="sidebar-item" aria-label="ç¬¬12èŠ‚ Ingress"><!--[--><!--]--> ç¬¬12èŠ‚ Ingress <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/13.html" class="sidebar-item" aria-label="ç¬¬13èŠ‚ å­˜å‚¨æŠ½è±¡"><!--[--><!--]--> ç¬¬13èŠ‚ å­˜å‚¨æŠ½è±¡ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/14.html" class="sidebar-item" aria-label="ç¬¬14èŠ‚ k3s"><!--[--><!--]--> ç¬¬14èŠ‚ k3s <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native-k8s/15.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="ç¬¬15èŠ‚ k3s è¡¥å……"><!--[--><!--]--> ç¬¬15èŠ‚ k3s è¡¥å…… <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#èµ„æºåˆ†æ" class="router-link-active router-link-exact-active sidebar-item" aria-label="èµ„æºåˆ†æ"><!--[--><!--]--> èµ„æºåˆ†æ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#è„šæœ¬å®‰è£…é€‰é¡¹" class="router-link-active router-link-exact-active sidebar-item" aria-label="è„šæœ¬å®‰è£…é€‰é¡¹"><!--[--><!--]--> è„šæœ¬å®‰è£…é€‰é¡¹ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#å¯¹äºŒè¿›åˆ¶çš„å®‰è£…é«˜çº§è¡¥å……" class="router-link-active router-link-exact-active sidebar-item" aria-label="å¯¹äºŒè¿›åˆ¶çš„å®‰è£…é«˜çº§è¡¥å……"><!--[--><!--]--> å¯¹äºŒè¿›åˆ¶çš„å®‰è£…é«˜çº§è¡¥å…… <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#é€šè¿‡é…ç½®æ–‡ä»¶å¯åŠ¨-k3s" class="router-link-active router-link-exact-active sidebar-item" aria-label="é€šè¿‡é…ç½®æ–‡ä»¶å¯åŠ¨ K3s"><!--[--><!--]--> é€šè¿‡é…ç½®æ–‡ä»¶å¯åŠ¨ K3s <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#k3s-server-agent-é…ç½®" class="router-link-active router-link-exact-active sidebar-item" aria-label="K3s Server/Agent é…ç½®"><!--[--><!--]--> K3s Server/Agent é…ç½® <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#ç½‘ç»œé€‰é¡¹" class="router-link-active router-link-exact-active sidebar-item" aria-label="ç½‘ç»œé€‰é¡¹"><!--[--><!--]--> ç½‘ç»œé€‰é¡¹ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#è‡ªå®šä¹‰-cni" class="router-link-active router-link-exact-active sidebar-item" aria-label="è‡ªå®šä¹‰ CNI"><!--[--><!--]--> è‡ªå®šä¹‰ CNI <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#ä½¿ç”¨å¤–éƒ¨æ•°æ®åº“å®ç°é«˜å¯ç”¨å®‰è£…" class="router-link-active router-link-exact-active sidebar-item" aria-label="ä½¿ç”¨å¤–éƒ¨æ•°æ®åº“å®ç°é«˜å¯ç”¨å®‰è£…"><!--[--><!--]--> ä½¿ç”¨å¤–éƒ¨æ•°æ®åº“å®ç°é«˜å¯ç”¨å®‰è£… <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#end-é“¾æ¥" class="router-link-active router-link-exact-active sidebar-item" aria-label="END é“¾æ¥"><!--[--><!--]--> END é“¾æ¥ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/Cloud-Native-k8s/16.html" class="sidebar-item" aria-label="ç¬¬16èŠ‚ Treafik LB"><!--[--><!--]--> ç¬¬16èŠ‚ Treafik LB <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/17.html" class="sidebar-item" aria-label="ç¬¬17èŠ‚ Service LB"><!--[--><!--]--> ç¬¬17èŠ‚ Service LB <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/18.html" class="sidebar-item" aria-label="ç¬¬18èŠ‚kubernetes API è®¿é—®æ§åˆ¶"><!--[--><!--]--> ç¬¬18èŠ‚kubernetes API è®¿é—®æ§åˆ¶ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/19.html" class="sidebar-item" aria-label="ç¬¬19èŠ‚  StatefulSet"><!--[--><!--]--> ç¬¬19èŠ‚  StatefulSet <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/20.html" class="sidebar-item" aria-label="ç¬¬20èŠ‚ è¡¥å……kubernetesçš„å¼€æ”¾æ¥å£"><!--[--><!--]--> ç¬¬20èŠ‚ è¡¥å……kubernetesçš„å¼€æ”¾æ¥å£ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/21.html" class="sidebar-item" aria-label="ç¬¬21èŠ‚ Minikube"><!--[--><!--]--> ç¬¬21èŠ‚ Minikube <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/22.html" class="sidebar-item" aria-label="ç¬¬22èŠ‚ è¿è¡Œæœ‰çŠ¶æ€åº”ç”¨"><!--[--><!--]--> ç¬¬22èŠ‚ è¿è¡Œæœ‰çŠ¶æ€åº”ç”¨ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/23.html" class="sidebar-item" aria-label="ç¬¬23èŠ‚ Kubeconfig &amp;&amp; token"><!--[--><!--]--> ç¬¬23èŠ‚ Kubeconfig &amp;&amp; token <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/24.html" class="sidebar-item" aria-label="ç¬¬24èŠ‚ ETCD"><!--[--><!--]--> ç¬¬24èŠ‚ ETCD <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/25.html" class="sidebar-item" aria-label="ç¬¬25èŠ‚ raft ç®—æ³•"><!--[--><!--]--> ç¬¬25èŠ‚ raft ç®—æ³• <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/26.html" class="sidebar-item" aria-label="ç¬¬26èŠ‚ helm æ•™ç¨‹"><!--[--><!--]--> ç¬¬26èŠ‚ helm æ•™ç¨‹ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/27.html" class="sidebar-item" aria-label="ç¬¬27èŠ‚"><!--[--><!--]--> ç¬¬27èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/28.html" class="sidebar-item" aria-label="ç¬¬28èŠ‚"><!--[--><!--]--> ç¬¬28èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/29.html" class="sidebar-item" aria-label="ç¬¬29èŠ‚"><!--[--><!--]--> ç¬¬29èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/30.html" class="sidebar-item" aria-label="ç¬¬30èŠ‚"><!--[--><!--]--> ç¬¬30èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/31.html" class="sidebar-item" aria-label="ç¬¬31èŠ‚"><!--[--><!--]--> ç¬¬31èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/32.html" class="sidebar-item" aria-label="ç¬¬32èŠ‚"><!--[--><!--]--> ç¬¬32èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/33.html" class="sidebar-item" aria-label="ç¬¬33èŠ‚"><!--[--><!--]--> ç¬¬33èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/34.html" class="sidebar-item" aria-label="ç¬¬34èŠ‚"><!--[--><!--]--> ç¬¬34èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/35.html" class="sidebar-item" aria-label="ç¬¬35èŠ‚"><!--[--><!--]--> ç¬¬35èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/36.html" class="sidebar-item" aria-label="ç¬¬36èŠ‚"><!--[--><!--]--> ç¬¬36èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/37.html" class="sidebar-item" aria-label="ç¬¬37èŠ‚"><!--[--><!--]--> ç¬¬37èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/38.html" class="sidebar-item" aria-label="ç¬¬38èŠ‚"><!--[--><!--]--> ç¬¬38èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/39.html" class="sidebar-item" aria-label="ç¬¬39èŠ‚"><!--[--><!--]--> ç¬¬39èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/40.html" class="sidebar-item" aria-label="ç¬¬40èŠ‚"><!--[--><!--]--> ç¬¬40èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/41.html" class="sidebar-item" aria-label="ç¬¬41èŠ‚"><!--[--><!--]--> ç¬¬41èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/42.html" class="sidebar-item" aria-label="ç¬¬42èŠ‚"><!--[--><!--]--> ç¬¬42èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/43.html" class="sidebar-item" aria-label="ç¬¬43èŠ‚"><!--[--><!--]--> ç¬¬43èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/44.html" class="sidebar-item" aria-label="ç¬¬44èŠ‚"><!--[--><!--]--> ç¬¬44èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/45.html" class="sidebar-item" aria-label="ç¬¬45èŠ‚"><!--[--><!--]--> ç¬¬45èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/46.html" class="sidebar-item" aria-label="ç¬¬46èŠ‚"><!--[--><!--]--> ç¬¬46èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/47.html" class="sidebar-item" aria-label="ç¬¬47èŠ‚"><!--[--><!--]--> ç¬¬47èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/48.html" class="sidebar-item" aria-label="ç¬¬48èŠ‚"><!--[--><!--]--> ç¬¬48èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/49.html" class="sidebar-item" aria-label="ç¬¬49èŠ‚"><!--[--><!--]--> ç¬¬49èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native-k8s/50.html" class="sidebar-item" aria-label="ç¬¬50èŠ‚"><!--[--><!--]--> ç¬¬50èŠ‚ <!--[--><!--]--></a><!----></li><li><a class="external-link sidebar-item" href="https://nsddd.top/archives/contributors" rel="noopener noreferrer" target="_blank" aria-label="ğŸ’å¦‚ä½•å‚ä¸è´¡çŒ®ï¼Ÿ"><!--[--><!--]--> ğŸ’å¦‚ä½•å‚ä¸è´¡çŒ®ï¼Ÿ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><ul><li><a href="http://nsddd.top" target="_blank" rel="noopener noreferrer">author<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h1 id="ç¬¬15èŠ‚-k3s-è¡¥å……" tabindex="-1"><a class="header-anchor" href="#ç¬¬15èŠ‚-k3s-è¡¥å……" aria-hidden="true">#</a> ç¬¬15èŠ‚ k3s è¡¥å……</h1><div><a href="14.md" style="float:left;">â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”— </a><a href="16.md" style="float:right;"> â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div><br><blockquote><p>â¤ï¸ğŸ’•ğŸ’•æ–°æ—¶ä»£æ‹¥æŠ±äº‘åŸç”Ÿï¼Œäº‘åŸç”Ÿå…·æœ‰ç¯å¢ƒç»Ÿä¸€ã€æŒ‰éœ€ä»˜è´¹ã€å³å¼€å³ç”¨ã€ç¨³å®šæ€§å¼ºç‰¹ç‚¹ã€‚Myblog:<a href="http://nsddd.top/" target="_blank" rel="noopener noreferrer">http://nsddd.top<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><hr><nav class="table-of-contents"><ul><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#èµ„æºåˆ†æ" class="router-link-active router-link-exact-active">èµ„æºåˆ†æ</a><ul><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#usr-local-bin-é‡è¦äºŒè¿›åˆ¶" class="router-link-active router-link-exact-active">/usr/local/bin é‡è¦äºŒè¿›åˆ¶</a></li></ul></li><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#è„šæœ¬å®‰è£…é€‰é¡¹" class="router-link-active router-link-exact-active">è„šæœ¬å®‰è£…é€‰é¡¹</a><ul><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#æ€»ç»“" class="router-link-active router-link-exact-active">æ€»ç»“</a></li></ul></li><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#å¯¹äºŒè¿›åˆ¶çš„å®‰è£…é«˜çº§è¡¥å……" class="router-link-active router-link-exact-active">å¯¹äºŒè¿›åˆ¶çš„å®‰è£…é«˜çº§è¡¥å……</a></li><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#é€šè¿‡é…ç½®æ–‡ä»¶å¯åŠ¨-k3s" class="router-link-active router-link-exact-active">é€šè¿‡é…ç½®æ–‡ä»¶å¯åŠ¨ K3s</a></li><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#k3s-server-agent-é…ç½®" class="router-link-active router-link-exact-active">K3s Server/Agent é…ç½®</a></li><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#ç½‘ç»œé€‰é¡¹" class="router-link-active router-link-exact-active">ç½‘ç»œé€‰é¡¹</a><ul><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#flannel-é€‰é¡¹" class="router-link-active router-link-exact-active">Flannel é€‰é¡¹</a></li><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#flannel-backend-ä½¿ç”¨-host-gw" class="router-link-active router-link-exact-active">flannel-backend ä½¿ç”¨ host-gw</a></li><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#å¯ç”¨-directrouting" class="router-link-active router-link-exact-active">å¯ç”¨ Directrouting</a></li></ul></li><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#è‡ªå®šä¹‰-cni" class="router-link-active router-link-exact-active">è‡ªå®šä¹‰ CNI</a></li><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#ä½¿ç”¨å¤–éƒ¨æ•°æ®åº“å®ç°é«˜å¯ç”¨å®‰è£…" class="router-link-active router-link-exact-active">ä½¿ç”¨å¤–éƒ¨æ•°æ®åº“å®ç°é«˜å¯ç”¨å®‰è£…</a><ul><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#ç¯å¢ƒå‡†å¤‡" class="router-link-active router-link-exact-active">ç¯å¢ƒå‡†å¤‡</a></li></ul></li><li><a aria-current="page" href="/Cloud-Native-k8s/15.html#end-é“¾æ¥" class="router-link-active router-link-exact-active">END é“¾æ¥</a></li></ul></nav><p>[TOC]</p><div class="custom-container danger"><p class="custom-container-title">è­¦å‘Š</p><p>é¡µé¢å†…å®¹å¤ªå¤šå¡é¡¿ï¼Œæ–°å¼€ååŠéƒ¨åˆ†è¡¥å……~</p><ul><li><a href="https://docker.nsddd.top/Cloud-Native/7.html" target="_blank" rel="noopener noreferrer">k3s vs k0s<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul></div><h2 id="èµ„æºåˆ†æ" tabindex="-1"><a class="header-anchor" href="#èµ„æºåˆ†æ" aria-hidden="true">#</a> èµ„æºåˆ†æ</h2><p>èµ„æºå ç”¨ç‡ä½æ˜¯ k3s çªå‡ºçš„ç‰¹ç‚¹ï¼Œé’ˆå¯¹ k3s ç‰¹æ€§ï¼Œåˆ†æèµ„æºçš„å ç”¨ï¼š</p><p><strong>å½±å“èµ„æºåˆ©ç”¨ç‡çš„å› ç´ ï¼š</strong></p><ul><li><p><code>K3s server</code>ï¼šK3s server çš„åˆ©ç”¨ç‡æ•°æ®ä¸»è¦æ˜¯ç”±æ”¯æŒ Kubernetes æ•°æ®å­˜å‚¨ï¼ˆkine æˆ– etcdï¼‰ã€API Serverã€Controller-Manager å’Œ Scheduler æ§åˆ¶ã€‚ <strong>åˆ›å»º/ä¿®æ”¹/åˆ é™¤</strong> èµ„æºå°†å¯¼è‡´æš‚æ—¶çš„åˆ©ç”¨ç‡ä¸Šå‡ã€‚å¤§é‡ä½¿ç”¨ Kubernetes æ•°æ®å­˜å‚¨çš„ operators æˆ–åº”ç”¨ç¨‹åºä¹Ÿå°†å¢åŠ  server çš„èµ„æºéœ€æ±‚ã€‚</p></li><li><p><code>K3s agent</code>ï¼šç®¡ç†é•œåƒã€æä¾› <strong>å­˜å‚¨æˆ–åˆ›å»º/é”€æ¯å®¹å™¨</strong> çš„æ“ä½œå°†å¯¼è‡´åˆ©ç”¨ç‡çš„æš‚æ—¶ä¸Šå‡ï¼Œæ‹‰å–é•œåƒé€šå¸¸ä¼šå½±å“ CPU å’Œ IOï¼Œå› ä¸ºå®ƒä»¬æ¶‰åŠå°†é•œåƒå†…å®¹è§£å‹åˆ°ç£ç›˜ã€‚å¦‚æœå¯èƒ½çš„è¯ï¼Œå·¥ä½œè´Ÿè½½å­˜å‚¨(pod ä¸´æ—¶å­˜å‚¨å’Œå·)åº”è¯¥ä¸ agent ç»„ä»¶(/var/lib/rancher/k3s/agent)éš”ç¦»ï¼Œä»¥ç¡®ä¿ä¸ä¼šå‡ºç°èµ„æºå†²çªã€‚</p></li></ul><p><strong>é˜²æ­¢ agent å’Œå·¥ä½œè´Ÿè½½å¹²æ‰°é›†ç¾¤æ•°æ®å­˜å‚¨ï¼š</strong></p><ul><li><p>åœ¨ <code>server</code> èŠ‚ç‚¹è¿è¡Œå·¥ä½œè´Ÿè½½ pod æ—¶ï¼Œåº”ç¡®ä¿ <code>agent</code> å’Œå·¥ä½œè´Ÿè½½ <code>IOPS</code> ä¸å¹²æ‰°æ•°æ®å­˜å‚¨ã€‚</p></li><li><p>å°† <code>server</code> ç»„ä»¶ï¼ˆ/var/lib/rancher/k3s/serverï¼‰ä¸ <code>agent</code> ç»„ä»¶ï¼ˆ/var/lib/rancher/k3s/agentï¼‰æ”¾åœ¨ä¸åŒçš„å­˜å‚¨ä»‹è´¨ä¸Šï¼Œåè€…åŒ…æ‹¬ containerd é•œåƒå­˜å‚¨ã€‚</p></li><li><p>å·¥ä½œè´Ÿè½½å­˜å‚¨ï¼ˆpod ä¸´æ—¶å­˜å‚¨å’Œå·ï¼‰ä¹Ÿåº”è¯¥ä¸æ•°æ®å­˜å‚¨éš”ç¦»ã€‚</p></li></ul><h3 id="usr-local-bin-é‡è¦äºŒè¿›åˆ¶" tabindex="-1"><a class="header-anchor" href="#usr-local-bin-é‡è¦äºŒè¿›åˆ¶" aria-hidden="true">#</a> /usr/local/bin é‡è¦äºŒè¿›åˆ¶</h3><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p>åé¢çš„æµ‹è¯•éƒ½æ˜¯å’Œ <code>/usr/local/bin</code> æ¯æ¯ç›¸å…³ï¼Œå°±æ¯”å¦‚è¯´æ¯ä¸€æ¬¡æµ‹è¯•åˆ é™¤ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>/usr/local/bin/k3s-uninstall.sh 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>åŒæ ·çš„è¿˜æœ‰åœæ­¢ k3sï¼š</strong></p><p>ä¸ºäº†åœ¨å‡çº§æœŸé—´å®ç°é«˜å¯ç”¨æ€§ï¼ŒK3s å®¹å™¨åœ¨ K3s æœåŠ¡åœæ­¢æ—¶ä¼šç»§ç»­è¿è¡Œã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>/usr/local/bin/k3s-killall.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>killall è„šæœ¬èƒ½æ¸…ç†å®¹å™¨ã€K3s ç›®å½•å’Œç½‘ç»œç»„ä»¶ï¼ŒåŒæ—¶è¿˜èƒ½åˆ é™¤ iptables é“¾ä»¥åŠæ‰€æœ‰ç›¸å…³è§„åˆ™ã€‚é›†ç¾¤æ•°æ®ä¸ä¼šè¢«åˆ é™¤ã€‚</p><p>ğŸ„â€â™‚ï¸ åŒæ ·å¯ä»¥ä½¿ç”¨ <code>systemctl start k3s</code> ï¼Œç›®å‰å‘ç°æ•ˆæœä¸€æ ·ï¼Œå¦‚æœä½ è§‰å¾—ä¸ä¸€æ ·ï¼Œè”ç³»ä¸‹æˆ‘~</p><p><strong>å½“ç„¶ k3s éƒ½æ˜¯å›´ç»•ç€ k3s è„šæœ¬ä¸ºä¸­å¿ƒçš„ï¼š</strong></p></div><h2 id="è„šæœ¬å®‰è£…é€‰é¡¹" tabindex="-1"><a class="header-anchor" href="#è„šæœ¬å®‰è£…é€‰é¡¹" aria-hidden="true">#</a> è„šæœ¬å®‰è£…é€‰é¡¹</h2><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p>æˆ‘ä»¬ç°åœ¨å·²ç»çŸ¥é“äº†å…³äºè„šæœ¬çš„é€‰é¡¹ä¸¤ç§æ–¹å¼ï¼Œ<strong>ç¯å¢ƒå˜é‡</strong> æˆ–è€… <strong>æ ‡å¿—</strong> ã€‚</p><p>âš ï¸ æ³¨æ„ï¼Œå¦‚æœä½ é€‰æ‹© <strong>ä¸‹è½½install.sh</strong> ä½¿ç”¨ https://ghproxy.com ï¼Œåé¢çš„æ‰€æœ‰è„šæœ¬æˆ‘éƒ½æ˜¯ä½¿ç”¨ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn   <span class="token assign-left variable">INSTALL_K3S_SYMLINK</span><span class="token operator">=</span>skip  <span class="token function">sh</span> install.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä»¥ &quot;K3S_&quot;å¼€å¤´çš„ç¯å¢ƒå˜é‡å°†è¢«ä¿ç•™ï¼Œä¾› systemd å’Œ openrc æœåŠ¡ä½¿ç”¨ã€‚</p><p>åœ¨æ²¡æœ‰æ˜ç¡®è®¾ç½® exec å‘½ä»¤çš„æƒ…å†µä¸‹è®¾ç½®<code>K3S_URL</code>ï¼Œä¼šå°†å‘½ä»¤é»˜è®¤ä¸º &quot;agent&quot;ã€‚</p><p>è¿è¡Œ agent æ—¶è¿˜å¿…é¡»è®¾ç½®<code>K3S_TOKEN</code>ã€‚</p></div><p><code>INSTALL_K3S_SKIP_DOWNLOAD</code> -- (ç”¨äºç¦»çº¿å®‰è£…) å¦‚æœè®¾ç½®ä¸º &quot;true &quot;å°†ä¸ä¼šä¸‹è½½ K3s çš„å“ˆå¸Œå€¼æˆ–äºŒè¿›åˆ¶ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
    <span class="token assign-left variable">INSTALL_K3S_SKIP_DOWNLOAD</span><span class="token operator">=</span>true <span class="token punctuation">\</span>
    <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>INSTALL_K3S_SYMLINK</code> -- é»˜è®¤æƒ…å†µä¸‹ï¼Œå¦‚æœè·¯å¾„ä¸­ä¸å­˜åœ¨å‘½ä»¤ï¼Œå°†ä¸º <code>kubectl</code>ã€<code>crictl</code> å’Œ <code>ctr</code> äºŒè¿›åˆ¶æ–‡ä»¶åˆ›å»ºç¬¦å·é“¾æ¥ã€‚å¦‚æœè®¾ç½®ä¸º <code>&#39;skip&#39;</code> å°†ä¸ä¼šåˆ›å»ºç¬¦å·é“¾æ¥ï¼Œè€Œ <code>&#39;force&#39;</code> å°†è¦†ç›–ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
  <span class="token assign-left variable">INSTALL_K3S_SYMLINK</span><span class="token operator">=</span>skip <span class="token punctuation">\</span>
  <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>æµ‹è¯•(é»˜è®¤æƒ…å†µï¼‰ï¼š</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@etcnode01:/usr/local/bin<span class="token comment"># ls -al</span>
total <span class="token number">66164</span>
drwxr-xr-x  <span class="token number">2</span> root root     <span class="token number">4096</span> Nov <span class="token number">26</span> 09:40 <span class="token builtin class-name">.</span>
drwxr-xr-x <span class="token number">10</span> root root     <span class="token number">4096</span> Aug <span class="token number">31</span> 06:52 <span class="token punctuation">..</span>
lrwxrwxrwx  <span class="token number">1</span> root root        <span class="token number">3</span> Nov <span class="token number">26</span> 06:19 crictl -<span class="token operator">&gt;</span> k3s
-rwxr-xr-x  <span class="token number">1</span> root root <span class="token number">67735552</span> Nov <span class="token number">26</span> 06:19 k3s
-rwxr-xr-x  <span class="token number">1</span> root root     <span class="token number">1433</span> Nov <span class="token number">26</span> 06:19 k3s-agent-uninstall.sh
-rwxr-xr-x  <span class="token number">1</span> root root     <span class="token number">2026</span> Nov <span class="token number">26</span> 06:19 k3s-killall.sh
lrwxrwxrwx  <span class="token number">1</span> root root        <span class="token number">3</span> Nov <span class="token number">26</span> 06:19 kubectl -<span class="token operator">&gt;</span> k3s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµ‹è¯•ï¼ˆæŒ‡å®šç¯å¢ƒå˜é‡ï¼‰ï¼š</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@cubmaster01:/usr/local/bin<span class="token comment"># ls -al</span>
total <span class="token number">66168</span>
drwxr-xr-x  <span class="token number">2</span> root root     <span class="token number">4096</span> Nov <span class="token number">26</span> <span class="token number">11</span>:16 <span class="token builtin class-name">.</span>
drwxr-xr-x <span class="token number">10</span> root root     <span class="token number">4096</span> Aug <span class="token number">31</span> 06:52 <span class="token punctuation">..</span>
-rwxr-xr-x  <span class="token number">1</span> root root <span class="token number">67735552</span> Nov <span class="token number">26</span> <span class="token number">11</span>:16 k3s
-rwxr-xr-x  <span class="token number">1</span> root root     <span class="token number">2026</span> Nov <span class="token number">26</span> <span class="token number">11</span>:16 k3s-killall.sh
-rwxr-xr-x  <span class="token number">1</span> root root     <span class="token number">1397</span> Nov <span class="token number">26</span> <span class="token number">11</span>:16 k3s-uninstall.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><div class="custom-container warning"><p class="custom-container-title">æ³¨æ„</p><p>âš ï¸ æˆ‘åœ¨ä¸Šä¸€èŠ‚ä»‹ç»äº†ä½¿ç”¨ <strong>åˆ«å</strong> ï¼Œå®ƒå¯ä»¥æ´¾ä¸Šç”¨åœºäº†ã€‚</p></div><p><code>INSTALL_K3S_SKIP_ENABLE</code> -- å¦‚æœè®¾ç½®ä¸º &quot;true&quot;ï¼Œå°†ä¸å¯ç”¨æˆ–å¯åŠ¨ K3s æœåŠ¡ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
  <span class="token assign-left variable">INSTALL_K3S_SKIP_ENABLE</span><span class="token operator">=</span>true <span class="token punctuation">\</span>
  <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>å¼€å¯ï¼š</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemctl start k3s
kubectl get nodes
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p><code>INSTALL_K3S_SKIP_START</code> -- å¦‚æœè®¾ç½®ä¸º &quot;true &quot;å°†ä¸ä¼šå¯åŠ¨ K3s æœåŠ¡ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
  <span class="token assign-left variable">INSTALL_K3S_SKIP_START</span><span class="token operator">=</span>true <span class="token punctuation">\</span>
  <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>INSTALL_K3S_VERSION</code> -- ä» Github ä¸‹è½½ K3s çš„ç‰ˆæœ¬ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œå°†å°è¯•ä»&quot;stable&quot;é¢‘é“ä¸‹è½½ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
  <span class="token assign-left variable">INSTALL_K3S_VERSION</span><span class="token operator">=</span><span class="token string">&quot;v1.19.9+k3s1&quot;</span> <span class="token punctuation">\</span>
  <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ³¨æ„åé¢æ˜¯ <code>+</code></p></blockquote><p><code>INSTALL_K3S_BIN_DIR</code> -- å®‰è£… K3s äºŒè¿›åˆ¶æ–‡ä»¶ã€é“¾æ¥å’Œå¸è½½è„šæœ¬çš„ç›®å½•ï¼Œæˆ–è€…ä½¿ç”¨ <code>/usr/local/bin</code> ä½œä¸ºé»˜è®¤ç›®å½•ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
  <span class="token assign-left variable">INSTALL_K3S_BIN_DIR</span><span class="token operator">=</span>/opt/bin <span class="token punctuation">\</span>
  <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>INSTALL_K3S_BIN_DIR_READ_ONLY</code> -- å¦‚æœè®¾ç½®ä¸º true å°†ä¸ä¼šæŠŠæ–‡ä»¶å†™å…¥INSTALL_K3S_BIN_DIRï¼Œå¼ºåˆ¶è®¾ç½®INSTALL_K3S_SKIP_DOWNLOAD=trueã€‚</p><p><code>INSTALL_K3S_SKIP_DOWNLOAD</code> ä¼šåˆ›å»º <code>kubectl/crictl/ctr</code> ç­‰ï¼Œè€Œ <code>INSTALL_K3S_BIN_DIR_READ_ONLY</code> ä¸åˆ›å»ºã€‚</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>curl -sfL https://get.k3s.io | INSTALL_K3S_MIRROR=cn \
  INSTALL_K3S_BIN_DIR_READ_ONLY=true \
  sh -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>INSTALL_K3S_SYSTEMD_DIR</code> -- å®‰è£… systemd æœåŠ¡å’Œç¯å¢ƒæ–‡ä»¶çš„ç›®å½•ï¼Œæˆ–è€…ä½¿ç”¨/etc/systemd/system ä½œä¸ºé»˜è®¤ç›®å½•ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
  <span class="token assign-left variable">INSTALL_K3S_SYSTEMD_DIR</span><span class="token operator">=</span>/opt/systemd <span class="token punctuation">\</span>
  <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">æµ‹è¯•</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@cubmaster01:/workspces/runtime<span class="token comment"># INSTALL_K3S_MIRROR=cn   INSTALL_K3S_SYSTEMD_DIR=/opt/systemd sh install.sh </span>
root@cubmaster01:/opt/systemd<span class="token comment"># ls -al</span>
total <span class="token number">12</span>
drwxr-xr-x <span class="token number">2</span> root root <span class="token number">4096</span> Nov <span class="token number">26</span> <span class="token number">11</span>:53 <span class="token builtin class-name">.</span>
drwxr-xr-x <span class="token number">6</span> root root <span class="token number">4096</span> Nov <span class="token number">26</span> <span class="token number">11</span>:51 <span class="token punctuation">..</span>
-rw-r--r-- <span class="token number">1</span> root root  <span class="token number">829</span> Nov <span class="token number">26</span> <span class="token number">11</span>:53 k3s.service
-rw------- <span class="token number">1</span> root root    <span class="token number">0</span> Nov <span class="token number">26</span> <span class="token number">11</span>:53 k3s.service.env
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p><code>INSTALL_K3S_EXEC</code> -- å¸¦æœ‰æ ‡å¿—çš„å‘½ä»¤ï¼Œç”¨äºåœ¨æœåŠ¡ä¸­å¯åŠ¨ K3sã€‚<strong>å¦‚æœæœªæŒ‡å®šå‘½ä»¤ï¼Œå¹¶ä¸”è®¾ç½®äº† K3S_URLï¼Œå®ƒå°†é»˜è®¤ä¸ºâ€œagentâ€ã€‚å¦‚æœæœªè®¾ç½® K3S_URLï¼Œå®ƒå°†é»˜è®¤ä¸ºâ€œserverâ€ã€‚</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
  <span class="token assign-left variable">INSTALL_K3S_EXEC</span><span class="token operator">=</span><span class="token string">&quot;--docker&quot;</span> <span class="token punctuation">\</span>
  <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>**æœ€åçš„ systemd å‘½ä»¤è§£æä¸ºè¿™ä¸ªç¯å¢ƒå˜é‡å’Œè„šæœ¬å‚æ•°çš„ç»„åˆã€‚**ä¸ºäº†è¯´æ˜è¿™ä¸€ç‚¹ï¼Œä»¥ä¸‹å‘½ä»¤çš„ç»“æœä¸æ³¨å†Œä¸€ä¸ªæ²¡æœ‰ flannel çš„ server çš„è¡Œä¸ºç›¸åŒï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_EXEC</span><span class="token operator">=</span><span class="token string">&quot;--flannel-backend none&quot;</span> <span class="token function">sh</span> <span class="token parameter variable">-s</span> -
<span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_EXEC</span><span class="token operator">=</span><span class="token string">&quot;server --flannel-backend none&quot;</span> <span class="token function">sh</span> <span class="token parameter variable">-s</span> -
<span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_EXEC</span><span class="token operator">=</span><span class="token string">&quot;server&quot;</span> <span class="token function">sh</span> <span class="token parameter variable">-s</span> - --flannel-backend none
<span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token function">sh</span> <span class="token parameter variable">-s</span> - server --flannel-backend none
<span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token function">sh</span> <span class="token parameter variable">-s</span> - --flannel-backend none
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>INSTALL_K3S_NAME</code> -- è¦åˆ›å»ºçš„ <code>systemd</code> æœåŠ¡åç§°ï¼Œå¦‚æœä»¥æœåŠ¡å™¨æ–¹å¼è¿è¡Œ k3sï¼Œåˆ™é»˜è®¤ä¸º <code>&#39;k3s&#39;</code>ï¼›å¦‚æœä»¥ <code>agent</code> æ–¹å¼è¿è¡Œ <code>k3s</code>ï¼Œåˆ™é»˜è®¤ä¸º <code>&#39;k3s-agent&#39;</code> ã€‚å¦‚æœæŒ‡å®šäº†æœåŠ¡åï¼Œåˆ™æœåŠ¡åå°†ä»¥ <code>&#39;k3s-&#39;</code> ä¸ºå‰ç¼€ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
  <span class="token assign-left variable">INSTALL_K3S_NAME</span><span class="token operator">=</span><span class="token string">&quot;seal&quot;</span> <span class="token punctuation">\</span>
  <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>INSTALL_K3S_TYPE</code> -- è¦åˆ›å»ºçš„ systemd æœåŠ¡ç±»å‹ï¼Œé»˜è®¤ä¸º notify</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
  <span class="token assign-left variable">INSTALL_K3S_TYPE</span><span class="token operator">=</span><span class="token string">&quot;exec&quot;</span> <span class="token punctuation">\</span>
  <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>INSTALL_K3S_SKIP_SELINUX_RPM</code> -- å¦‚æœè®¾ç½®ä¸º <code>&quot;true &quot;</code> å°†è·³è¿‡ <code>k3s RPM</code> çš„è‡ªåŠ¨å®‰è£…ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
  <span class="token assign-left variable">INSTALL_K3S_SKIP_SELINUX_RPM</span><span class="token operator">=</span>true <span class="token punctuation">\</span>
  <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">K3s RPM</p><p><a href="https://en.wikipedia.org/wiki/Security-Enhanced_Linux" target="_blank" rel="noopener noreferrer">å®‰å…¨å¢å¼ºçš„ Linuxï¼ˆSELinuxï¼‰<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>æ˜¯å¯¹ Linux çš„å®‰å…¨å¢å¼ºã€‚</p><p>å®ƒç”± Red Hat å¼€å‘ï¼Œæ˜¯ Linux ä¸Šå¼ºåˆ¶æ€§è®¿é—®æ§åˆ¶ï¼ˆMACï¼‰çš„ä¸€ä¸ªå®ç°ã€‚å¼ºåˆ¶æ€§è®¿é—®æ§åˆ¶å…è®¸ç³»ç»Ÿç®¡ç†å‘˜å®šä¹‰åº”ç”¨ç¨‹åºå’Œç”¨æˆ·å¦‚ä½•è®¿é—®ä¸åŒçš„èµ„æºï¼Œå¦‚æ–‡ä»¶ã€è®¾å¤‡ã€ç½‘ç»œå’Œè¿›ç¨‹é—´é€šä¿¡ã€‚SELinux è¿˜é€šè¿‡ä½¿æ“ä½œç³»ç»Ÿåœ¨é»˜è®¤æƒ…å†µä¸‹å…·æœ‰é™åˆ¶æ€§è€Œå¢å¼ºäº†å®‰å…¨æ€§ã€‚</p><p>åœ¨å†å²ä¸Šè¢«æ”¿åºœæœºæ„ä½¿ç”¨åï¼ŒSELinux ç°åœ¨æ˜¯è¡Œä¸šæ ‡å‡†ï¼Œåœ¨ CentOS 7 å’Œ 8 ä¸Šé»˜è®¤å¯ç”¨ã€‚è¦æ£€æŸ¥ SELinux æ˜¯å¦åœ¨ä½ çš„ç³»ç»Ÿä¸Šå¯ç”¨å’Œæ‰§è¡Œï¼Œè¯·ä½¿ç”¨<code>getenforce</code>ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>getenforce
Enforcing
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></div><p><code>INSTALL_K3S_CHANNEL_URL</code> -- ç”¨äºè·å– K3s ä¸‹è½½ç½‘å€çš„é¢‘é“ URLã€‚é»˜è®¤ä¸º https://update.k3s.io/v1-release/channels ã€‚</p><p><code>INSTALL_K3S_CHANNEL</code> -- ç”¨äºè·å– K3s ä¸‹è½½ URL çš„é€šé“ã€‚é»˜è®¤å€¼ä¸º &quot;stable&quot;ã€‚é€‰é¡¹åŒ…æ‹¬ï¼š<code>stable</code>, <code>latest</code>, <code>testing</code>ã€‚</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>curl -sfL https://get.k3s.io | INSTALL_K3S_MIRROR=cn \
  INSTALL_K3S_CHANNEL=&quot;latest&quot; \
  sh -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>K3S_CONFIG_FILE</code> -- æŒ‡å®šé…ç½®æ–‡ä»¶çš„ä½ç½®ã€‚é»˜è®¤ç›®å½•ä¸º<code>/etc/rancher/k3s/config.yaml</code>ã€‚</p><div class="custom-container tip"><p class="custom-container-title">æˆ‘ä»¬å…ˆæŒ‡å®šä¸‹æ–‡ä»¶ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token operator">&gt;&gt;</span> /opt/config.yaml <span class="token operator">&lt;&lt;-</span><span class="token string">EOF
node-label:
- &quot;foo=bar&quot;
- &quot;something=amazing&quot;
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
  <span class="token assign-left variable">K3S_CONFIG_FILE</span><span class="token operator">=</span>/opt/config.yaml <span class="token punctuation">\</span>
  <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://sm.nsddd.top/smimage-20221126211751303.png" alt="image-20221126211751303"></p><p><code>K3S_TOKEN</code> -- ç”¨äºå°† server æˆ– agent åŠ å…¥é›†ç¾¤çš„å…±äº« secretã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
  <span class="token assign-left variable">K3S_TOKEN</span><span class="token operator">=</span>rancher-k3s <span class="token punctuation">\</span>
  <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">å¸Œæœ›ä½ å¯ä»¥æ‰¾åˆ°å®ƒçš„ä½ç½®</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">cat</span> /var/lib/rancher/k3s/server/token
K1042465c14be8de6a57c482b4162f673addcb652acb13c8119a9900b5d27c234f7::server:rancher-k3s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></div><p><code>K3S_TOKEN_FILE</code> -- æŒ‡å®š <code>cluster-secret</code>,<code>token</code> çš„æ–‡ä»¶ç›®å½•ã€‚</p><div class="custom-container tip"><p class="custom-container-title">æˆ‘ä»¬éœ€è¦å…ˆæŒ‡å®šæ–‡ä»¶</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">cat</span> <span class="token operator">&gt;&gt;</span> /opt/token.txt <span class="token operator">&lt;&lt;-</span><span class="token string">EOF
rancher-k3s
EOF</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
  <span class="token assign-left variable">K3S_TOKEN_FILE</span><span class="token operator">=</span>/opt/token.txt <span class="token punctuation">\</span>
  <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">å¸Œæœ›ä½ å¯ä»¥æ‰¾åˆ°å®ƒçš„ä½ç½®</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@cubmaster01:/workspces/runtime<span class="token comment"># cat /var/lib/rancher/k3s/server/token</span>
K10fbe884032e42976a1dd419e5d171b9bc38d50e13dc852afbc97ffb99c765f06e::server:rancher-k3s
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></div><h3 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a> æ€»ç»“</h3><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><ol><li>ä»¥ &quot;K3S_&quot;å¼€å¤´çš„ç¯å¢ƒå˜é‡å°†è¢«ä¿ç•™ï¼Œä¾› systemd å’Œ openrc æœåŠ¡ä½¿ç”¨ã€‚</li><li>åœ¨æ²¡æœ‰æ˜ç¡®è®¾ç½® exec å‘½ä»¤çš„æƒ…å†µä¸‹è®¾ç½® K3S_URLï¼Œä¼šå°†å‘½ä»¤é»˜è®¤ä¸º &quot;agent&quot;ã€‚</li><li>è¿è¡Œ agent æ—¶è¿˜å¿…é¡»è®¾ç½® K3S_TOKENã€‚</li></ol></div><h2 id="å¯¹äºŒè¿›åˆ¶çš„å®‰è£…é«˜çº§è¡¥å……" tabindex="-1"><a class="header-anchor" href="#å¯¹äºŒè¿›åˆ¶çš„å®‰è£…é«˜çº§è¡¥å……" aria-hidden="true">#</a> å¯¹äºŒè¿›åˆ¶çš„å®‰è£…é«˜çº§è¡¥å……</h2><p>å®‰è£…è„šæœ¬ä¸»è¦æ˜¯é…ç½® K3s ä½œä¸ºæœåŠ¡è¿è¡Œã€‚å¦‚æœä½ é€‰æ‹©ä¸ä½¿ç”¨è„šæœ¬ï¼Œä½ å¯ä»¥é€šè¿‡ <a href="https://github.com/rancher/k3s/releases/latest" target="_blank" rel="noopener noreferrer">å‘å¸ƒé¡µé¢<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ä¸‹è½½äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå°†å…¶æ”¾åœ¨ä½ çš„ç¯å¢ƒå˜é‡è·¯å¾„ä¸Šï¼Œç„¶åæ‰§è¡Œå®ƒæ¥è¿è¡Œ K3sã€‚K3s äºŒè¿›åˆ¶æ”¯æŒä»¥ä¸‹å‘½ä»¤ï¼š</p><p><code>k3s server</code> -- è¿è¡Œ K3s serverï¼Œå®ƒè¿˜å°†å¯åŠ¨ Kubernetes control-plane ç»„ä»¶ï¼Œå¦‚ API server, controller-manager, å’Œ schedulerã€‚</p><blockquote><p>å’Œ kubernetes çš„æ§åˆ¶å±‚é¢å¾ˆç±»ä¼¼~</p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@cubmaster01:/workspces/runtime<span class="token comment"># k3s server</span>
INFO<span class="token punctuation">[</span>0000<span class="token punctuation">]</span> Acquiring lock <span class="token function">file</span> /var/lib/rancher/k3s/data/.lock 
INFO<span class="token punctuation">[</span>0000<span class="token punctuation">]</span> Preparing data <span class="token function">dir</span> /var/lib/rancher/k3s/data/2ef87ff954adbb390309ce4dc07500f29c319f84feec1719bfb5059c8808ec6a 
INFO<span class="token punctuation">[</span>0000<span class="token punctuation">]</span> Starting k3s v1.25.3+k3s1 <span class="token punctuation">(</span>f2585c16<span class="token punctuation">)</span>         
INFO<span class="token punctuation">[</span>0000<span class="token punctuation">]</span> Configuring sqlite3 database connection pooling: <span class="token assign-left variable">maxIdleConns</span><span class="token operator">=</span><span class="token number">2</span>, <span class="token assign-left variable">maxOpenConns</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">connMaxLifetime</span><span class="token operator">=</span>0s 
INFO<span class="token punctuation">[</span>0000<span class="token punctuation">]</span> Configuring database table schema and indexes, this may take a moment<span class="token punctuation">..</span>. 
INFO<span class="token punctuation">[</span>0000<span class="token punctuation">]</span> Database tables and indexes are up to <span class="token function">date</span>   
INFO<span class="token punctuation">[</span>0000<span class="token punctuation">]</span> Kine available at unix://kine.sock 
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>k3s agent</code> -- è¿è¡Œ K3s agent èŠ‚ç‚¹ã€‚è¿™å°†ä½¿ K3s ä½œä¸ºå·¥ä½œèŠ‚ç‚¹è¿è¡Œï¼Œå¯åŠ¨ Kubernetes èŠ‚ç‚¹æœåŠ¡ kubelet å’Œ kube-proxyã€‚</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>root@etcnode01:~# k3s agent --server https://192.168.71.130:6443 --token K10fcaced71fc70ca6b77921a7e374dc03c34fdd1fb11973d69a2a8e937b61beb22::server:82c397ed440c496f5448ec3c4b11c112
INFO[0000] Starting k3s agent v1.25.4+k3s1 (0dc63334)   
INFO[0000] Running load balancer k3s-agent-load-balancer 127.0.0.1:6444 -&gt; [192.168.71.130:6443] 
ERRO[0004] failed to get CA certs: Get &quot;https://127.0.0.1:6444/cacerts&quot;: read tcp 127.0.0.1:60386-&gt;127.0.0.1:6444: read: connection reset by peer 
......
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@cubmaster01:/opt<span class="token comment"># k3s kubectl get nodes</span>
NAME          STATUS   ROLES                  AGE   VERSION
cubmaster01   Ready    control-plane,master   96m   v1.25.3+k3s1
cubnode02     Ready    <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>                 52m   v1.25.4+k3s1
etcnode01     Ready    <span class="token operator">&lt;</span>none<span class="token operator">&gt;</span>                 67m   v1.25.4+k3s1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><p><code>k3s kubectl</code> -- è¿è¡ŒåµŒå…¥å¼ kubectl CLIã€‚å¦‚æœæ²¡æœ‰è®¾ç½® KUBECONFIG ç¯å¢ƒå˜é‡ï¼Œå½“å¯åŠ¨ K3s æœåŠ¡å™¨èŠ‚ç‚¹æ—¶ï¼Œå°†è‡ªåŠ¨å°è¯•ä½¿ç”¨åœ¨<code>/etc/rancher/k3s/k3s.yaml</code> åˆ›å»ºçš„é…ç½®æ–‡ä»¶ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@k3s1:~<span class="token comment"># k3s kubectl get nodes</span>
NAME   STATUS   ROLES                  AGE     VERSION
k3s1   Ready    control-plane,master   8m14s   v1.20.5+k3s1
k3s2   Ready    <span class="token operator">&lt;</span>none                11s     v1.20.5+k3s1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>k3s crictl</code> -- è¿è¡Œä¸€ä¸ªåµŒå…¥å¼ crictlã€‚è¿™æ˜¯ä¸€ä¸ªç”¨äºä¸ Kubernetes çš„å®¹å™¨è¿è¡Œæ—¶æ¥å£ï¼ˆCRIï¼‰äº¤äº’çš„ CLIã€‚å¯¹è°ƒè¯•å¾ˆæœ‰ç”¨ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@k3s1:~<span class="token comment"># k3s crictl ps</span>
CONTAINER           IMAGE               CREATED             STATE               NAME                     ATTEMPT             POD ID
9ceb610df16c7       aa764f7db3051       <span class="token number">8</span> minutes ago       Running             traefik                  <span class="token number">0</span>                   373c79416fa65
cadceb62ae08d       897ce3c5fc8ff       <span class="token number">8</span> minutes ago       Running             lb-port-443              <span class="token number">0</span>                   f8a0ecfe56562
a26a49be485ac       897ce3c5fc8ff       <span class="token number">8</span> minutes ago       Running             lb-port-80               <span class="token number">0</span>                   f8a0ecfe56562
01894072f2298       148c192562719       <span class="token number">8</span> minutes ago       Running             local-path-provisioner   <span class="token number">1</span>                   b9d55e63f632f
5ccd6ed05120f       296a6d5035e2d       <span class="token number">9</span> minutes ago       Running             coredns                  <span class="token number">0</span>                   2bae007d8e486
be0765e77a703       9dd718864ce61       <span class="token number">9</span> minutes ago       Running             metrics-server           <span class="token number">0</span>                   53ab949c026ce
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>k3s ctr</code> -- è¿è¡Œä¸€ä¸ªåµŒå…¥å¼çš„ ctrã€‚è¿™æ˜¯ä¸º containerdï¼ˆK3s ä½¿ç”¨çš„å®¹å™¨å®ˆæŠ¤è¿›ç¨‹ï¼‰æä¾›çš„ CLIã€‚å¯¹è°ƒè¯•å¾ˆæœ‰ç”¨ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@k3s1:~<span class="token comment"># k3s ctr container ls</span>
CONTAINER                                                           IMAGE                                                                                                               RUNTIME
01894072f2298208f3c109f9fb1d5e12e677d11cd5d0b0a3a66f550ae38644e4    docker.io/rancher/local-path-provisioner:v0.0.19                                                                    io.containerd.runc.v2
2bae007d8e486afffbbf1ffb88e97b92d367aff4b06842217de4fb5d22ecf1b9    docker.io/rancher/pause:3.1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>k3s server</code> å’Œ <code>k3s agent</code> å‘½ä»¤æœ‰é¢å¤–çš„é…ç½®é€‰é¡¹ï¼Œå¯ä»¥é€šè¿‡ <code>k3s server --help</code> æˆ– <code>k3s agent --help</code> æŸ¥çœ‹ã€‚</p><h2 id="é€šè¿‡é…ç½®æ–‡ä»¶å¯åŠ¨-k3s" tabindex="-1"><a class="header-anchor" href="#é€šè¿‡é…ç½®æ–‡ä»¶å¯åŠ¨-k3s" aria-hidden="true">#</a> é€šè¿‡é…ç½®æ–‡ä»¶å¯åŠ¨ K3s</h2><p>é™¤äº†ä½¿ç”¨ç¯å¢ƒå˜é‡å’Œ CLI å‚æ•°æ¥é…ç½® K3sï¼ŒK3s è¿˜å¯ä»¥ä½¿ç”¨é…ç½®æ–‡ä»¶ã€‚é»˜è®¤ç›®å½•ä½äº <code>/etc/rancher/k3s/config.yaml</code>ï¼ˆæˆ–è€…æ˜¯ <code>k3s.yaml</code> æ–‡ä»¶ï¼‰</p><div class="custom-container warning"><p class="custom-container-title">æç¤º</p><p>å¦‚æœåŒæ—¶ä½¿ç”¨é…ç½®æ–‡ä»¶å’Œ CLI å‚æ•°ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå€¼å°†ä»ä¸¤ä¸ªæ¥æºåŠ è½½ï¼Œä½† CLI å‚æ•°ä¼˜å…ˆçº§æ›´é«˜ã€‚ å¯¹äºå¯é‡å¤çš„å‚æ•°ï¼Œå¦‚--node-labelï¼ŒCLI å‚æ•°å°†è¦†ç›–åˆ—è¡¨ä¸­çš„æ‰€æœ‰å€¼ã€‚</p></div><h2 id="k3s-server-agent-é…ç½®" tabindex="-1"><a class="header-anchor" href="#k3s-server-agent-é…ç½®" aria-hidden="true">#</a> K3s Server/Agent é…ç½®</h2><p><strong><code>write-kubeconfig</code> -- å°†ç®¡ç†å®¢æˆ·ç«¯çš„ kubeconfig å†™å…¥è¿™ä¸ªæ–‡ä»¶</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
  <span class="token assign-left variable">K3S_KUBECONFIG_OUTPUT</span><span class="token operator">=</span>/root/.kube/config <span class="token punctuation">\</span>
  <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä½¿ç”¨ docker ä½œä¸ºå®¹å™¨è¿è¡Œæ—¶</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
  <span class="token assign-left variable">INSTALL_K3S_EXEC</span><span class="token operator">=</span><span class="token string">&quot;--docker&quot;</span> <span class="token punctuation">\</span>
  <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">æµ‹è¯•</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@cubmaster01:/workspces/runtime<span class="token comment"># docker ps</span>
CONTAINER ID   IMAGE                              COMMAND                  CREATED              STATUS              PORTS     NAMES
9e9e8cd5eb22   rancher/mirrored-library-traefik   <span class="token string">&quot;/entrypoint.sh --glâ€¦&quot;</span>   <span class="token number">14</span> seconds ago       Up <span class="token number">12</span> seconds                 k8s_traefik_traefik-bb69b68cd-ps2j6_kube-system_4905ff4a-b161-498e-b1d4-fed57a5d65a8_0
8fb6d8f2c3dc   dbd43b6716a0                       <span class="token string">&quot;entry&quot;</span>                  <span class="token number">32</span> seconds ago       Up <span class="token number">31</span> seconds                 k8s_lb-tcp-443_svclb-traefik-59fdd98e-vjxlk_kube-system_4a45d7e2-5af8-4a48-99c4-1057c5ba96b0_0
6033d7ecc824   dbd43b6716a0                       <span class="token string">&quot;entry&quot;</span>                  <span class="token number">32</span> seconds ago       Up <span class="token number">31</span> seconds                 k8s_lb-tcp-80_svclb-traefik-59fdd98e-vjxlk_kube-system_4a45d7e2-5af8-4a48-99c4-1057c5ba96b0_0
6b95dbafc4ee   rancher/mirrored-pause:3.6         <span class="token string">&quot;/pause&quot;</span>                 <span class="token number">32</span> seconds ago       Up <span class="token number">31</span> seconds                 k8s_POD_traefik-bb69b68cd-ps2j6_kube-system_4905ff4a-b161-498e-b1d4-fed57a5d65a8_0
b13f33df38d9   rancher/mirrored-pause:3.6         <span class="token string">&quot;/pause&quot;</span>                 <span class="token number">33</span> seconds ago       Up <span class="token number">31</span> seconds                 k8s_POD_svclb-traefik-59fdd98e-vjxlk_kube-system_4a45d7e2-5af8-4a48-99c4-1057c5ba96b0_0
5e8ce9d7d95e   rancher/mirrored-coredns-coredns   <span class="token string">&quot;/coredns -conf /etcâ€¦&quot;</span>   <span class="token number">51</span> seconds ago       Up <span class="token number">50</span> seconds                 k8s_coredns_coredns-597584b69b-sn7n2_kube-system_d778542c-14b4-4c25-bc1f-b8b525a662a2_1
03db38691203   rancher/local-path-provisioner     <span class="token string">&quot;local-path-provisioâ€¦&quot;</span>   <span class="token number">56</span> seconds ago       Up <span class="token number">55</span> seconds                 k8s_local-path-provisioner_local-path-provisioner-79f67d76f8-prcsc_kube-system_45729047-9cc5-4d39-9f9b-9c99d9dfefb7_1
9b087eb2f2d0   e57a417f15d3                       <span class="token string">&quot;/metrics-server --câ€¦&quot;</span>   About a minute ago   Up About a minute             k8s_metrics-server_metrics-server-5c8978b444-bw47f_kube-system_b820f87d-9063-49a8-9ed9-5c501e11f88a_1
a1ead6d83564   rancher/mirrored-pause:3.6         <span class="token string">&quot;/pause&quot;</span>                 About a minute ago   Up About a minute             k8s_POD_coredns-597584b69b-sn7n2_kube-system_d778542c-14b4-4c25-bc1f-b8b525a662a2_0
7a1020d7a01f   rancher/mirrored-pause:3.6         <span class="token string">&quot;/pause&quot;</span>                 About a minute ago   Up About a minute             k8s_POD_local-path-provisioner-79f67d76f8-prcsc_kube-system_45729047-9cc5-4d39-9f9b-9c99d9dfefb7_0
cd0e940354a9   rancher/mirrored-pause:3.6         <span class="token string">&quot;/pause&quot;</span>                 About a minute ago   Up About a minute             k8s_POD_metrics-server-5c8978b444-bw47f_kube-system_b820f87d-9063-49a8-9ed9-5c501e11f88a_0

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p><strong>é’ˆå¯¹å¤šç½‘å¡ä¸»æœºå®‰è£… K3s é›†ç¾¤</strong></p><p><strong>k3s server:</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
<span class="token assign-left variable">INSTALL_K3S_EXEC</span><span class="token operator">=</span><span class="token string">&quot;--node-ip=192.168.99.211&quot;</span> <span class="token punctuation">\</span>
<span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>K3s agent:</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
<span class="token assign-left variable">K3S_URL</span><span class="token operator">=</span>https://192.168.99.211:6443 <span class="token punctuation">\</span>
<span class="token assign-left variable">K3S_TOKEN</span><span class="token operator">=</span>9077b8e6f3b67b5f3e4a7723a96b199d <span class="token punctuation">\</span>
<span class="token assign-left variable">INSTALL_K3S_EXEC</span><span class="token operator">=</span><span class="token string">&quot;--node-ip=192.168.99.212&quot;</span> <span class="token punctuation">\</span>
<span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>--tls-san -- åœ¨ TLS è¯ä¹¦ä¸­æ·»åŠ å…¶ä»–ä¸»æœºåæˆ– IP ä½œä¸ºä¸»é¢˜å¤‡ç”¨åç§°</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
  <span class="token assign-left variable">INSTALL_K3S_EXEC</span><span class="token operator">=</span><span class="token string">&quot;--tls-san 3.97.6.45&quot;</span>  <span class="token punctuation">\</span>
  <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¿®æ”¹<code>kube-apiserver</code>ã€<code>kube-scheduler</code> ã€<code>kube-controller-manager</code>ã€ <code>kube-cloud-controller-manager</code>ã€ <code>kubelet</code>ã€ <code>kube-proxy</code> å‚æ•°</p><p><strong>kubelet-argï¼š</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
  <span class="token assign-left variable">INSTALL_K3S_EXEC</span><span class="token operator">=</span><span class="token string">&#39;--kubelet-arg=max-pods=200&#39;</span> <span class="token punctuation">\</span>
  <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>kube-apiserverï¼š</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
  <span class="token assign-left variable">INSTALL_K3S_EXEC</span><span class="token operator">=</span><span class="token string">&#39;--kube-apiserver-arg=service-node-port-range=40000-50000&#39;</span> <span class="token punctuation">\</span>
  <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>kube-proxy-argï¼š</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code> <span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
  <span class="token assign-left variable">INSTALL_K3S_EXEC</span><span class="token operator">=</span><span class="token string">&#39;--kube-proxy-arg=proxy-mode=ipvs&#39;</span> <span class="token punctuation">\</span>
  <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong><code>--data-dir -- K3s</code> æ•°æ®å­˜å‚¨ç›®å½•ï¼Œé»˜è®¤ä¸º <code>/var/lib/rancher/k3s</code> æˆ– <code>${HOME}/.rancher/k3s</code>(å¦‚æœä¸æ˜¯ root ç”¨æˆ·)</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
  <span class="token assign-left variable">INSTALL_K3S_EXEC</span><span class="token operator">=</span><span class="token string">&#39;--data-dir=/opt/k3s-data&#39;</span> <span class="token punctuation">\</span>
  <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p>è¿™å°±æœ‰ç‚¹æ„æ€äº†ï¼Œæˆ‘ä»¬é»˜è®¤çš„å®‰è£…è¿ç§»äº†ï¼š</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@cubmaster01:/opt/k3s-data/server<span class="token comment"># cd /opt/k3s-data/;ls</span>
agent  server
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å½“ç„¶ï¼Œæˆ‘ä»¬è‡ªå·±è®¾è®¡ç›®å½•ç»“æ„çš„æ—¶å€™æˆ–è®¸å¯ä»¥ç”¨åˆ°~</strong></p></div><p><strong>ç¦ç”¨ç»„ä»¶ --disableï¼š</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
  <span class="token assign-left variable">INSTALL_K3S_EXEC</span><span class="token operator">=</span><span class="token string">&#39;--disable traefik&#39;</span> <span class="token punctuation">\</span>
  <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p><strong>ç¦ç”¨å‰ï¼š</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@VM-4-6-centos k3s<span class="token punctuation">]</span><span class="token comment"># ls /var/lib/rancher/k3s/server/manifests</span>
ccm.yaml  coredns.yaml  local-storage.yaml  metrics-server  rolebindings.yaml  traefik.yaml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç¦ç”¨åï¼š</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@cubmaster01:/workspces/runtime<span class="token comment"># ls /var/lib/rancher/k3s/server/manifests</span>
ccm.yaml  coredns.yaml  local-storage.yaml  metrics-server  rolebindings.yaml
root@cubmaster01:/workspces/runtime<span class="token comment"># kubectl get pods -A | grep traefik</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><p><strong>æ·»åŠ  label å’Œ taint:</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-sfL</span> https://get.k3s.io <span class="token operator">|</span> <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
  <span class="token assign-left variable">INSTALL_K3S_EXEC</span><span class="token operator">=</span><span class="token string">&#39;--node-label foo=bar,hello=world --node-taint key1=value1:NoExecute&#39;</span> <span class="token punctuation">\</span>
  <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç½‘ç»œé€‰é¡¹" tabindex="-1"><a class="header-anchor" href="#ç½‘ç»œé€‰é¡¹" aria-hidden="true">#</a> ç½‘ç»œé€‰é¡¹</h2><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>K3s</code> å°†ä»¥ <code>flannel</code> ä½œä¸º <code>CNI</code> è¿è¡Œï¼Œä½¿ç”¨ <code>VXLAN</code> ä½œä¸ºé»˜è®¤åç«¯ã€‚<code>CNI</code>å’Œé»˜è®¤åç«¯éƒ½å¯ä»¥é€šè¿‡å‚æ•°ä¿®æ”¹ã€‚</p><h3 id="flannel-é€‰é¡¹" tabindex="-1"><a class="header-anchor" href="#flannel-é€‰é¡¹" aria-hidden="true">#</a> Flannel é€‰é¡¹</h3><p>Flannel çš„é»˜è®¤åç«¯æ˜¯ VXLANã€‚è¦å¯ç”¨åŠ å¯†ï¼Œè¯·ä½¿ç”¨ä¸‹é¢çš„ IPSecï¼ˆInternet Protocol Securityï¼‰æˆ– WireGuard é€‰é¡¹ã€‚</p><table><thead><tr><th style="text-align:left;">CLI Flag å’Œ Value</th><th style="text-align:left;">æè¿°</th></tr></thead><tbody><tr><td style="text-align:left;"><code>--flannel-backend=vxlan</code></td><td style="text-align:left;">(é»˜è®¤) ä½¿ç”¨ VXLAN åç«¯ã€‚</td></tr><tr><td style="text-align:left;"><code>--flannel-backend=ipsec</code></td><td style="text-align:left;">ä½¿ç”¨ IPSEC åç«¯ï¼Œå¯¹ç½‘ç»œæµé‡è¿›è¡ŒåŠ å¯†ã€‚</td></tr><tr><td style="text-align:left;"><code>--flannel-backend=host-gw</code></td><td style="text-align:left;">ä½¿ç”¨ host-gw åç«¯ã€‚</td></tr><tr><td style="text-align:left;"><code>--flannel-backend=wireguard</code></td><td style="text-align:left;">ä½¿ç”¨ WireGuard åç«¯ï¼Œå¯¹ç½‘ç»œæµé‡è¿›è¡ŒåŠ å¯†ã€‚å¯èƒ½éœ€è¦é¢å¤–çš„å†…æ ¸æ¨¡å—å’Œé…ç½®ã€‚</td></tr></tbody></table><h3 id="flannel-backend-ä½¿ç”¨-host-gw" tabindex="-1"><a class="header-anchor" href="#flannel-backend-ä½¿ç”¨-host-gw" aria-hidden="true">#</a> flannel-backend ä½¿ç”¨ <code>host-gw</code></h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># K3s master</span>
root@k3s1:~<span class="token comment"># curl -sfL https://get.k3s.io | \</span>
        <span class="token assign-left variable">INSTALL_K3S_EXEC</span><span class="token operator">=</span><span class="token string">&quot;--flannel-backend=host-gw&quot;</span> <span class="token punctuation">\</span>
        <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token function">sh</span> -

<span class="token comment"># K3s agent </span>
root@k3s2:~<span class="token comment"># curl -sfL https://get.k3s.io | \</span>
        <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token assign-left variable">K3S_URL</span><span class="token operator">=</span>https://172.16.64.6:6443 <span class="token punctuation">\</span>
        <span class="token assign-left variable">K3S_TOKEN</span><span class="token operator">=</span>85892cbfef2177603f25be30344dbcd0 <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@k3s1:~<span class="token comment"># cat /var/lib/rancher/k3s/agent/etc/flannel/net-conf.json</span>
<span class="token punctuation">{</span>
	<span class="token string">&quot;Network&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;10.42.0.0/16&quot;</span>,
	<span class="token string">&quot;Backend&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
		<span class="token string">&quot;Type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;host-gw&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

root@k3s1:~<span class="token comment"># route -n</span>
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
<span class="token number">0.0</span>.0.0         <span class="token number">172.16</span>.64.1     <span class="token number">0.0</span>.0.0         UG    <span class="token number">100</span>    <span class="token number">0</span>        <span class="token number">0</span> enp0s2
<span class="token number">10.42</span>.0.0       <span class="token number">0.0</span>.0.0         <span class="token number">255.255</span>.255.0   U     <span class="token number">0</span>      <span class="token number">0</span>        <span class="token number">0</span> cni0
<span class="token number">10.42</span>.1.0       <span class="token number">172.16</span>.64.9     <span class="token number">255.255</span>.255.0   UG    <span class="token number">0</span>      <span class="token number">0</span>        <span class="token number">0</span> enp0s2
<span class="token number">172.16</span>.64.0     <span class="token number">0.0</span>.0.0         <span class="token number">255.255</span>.255.0   U     <span class="token number">0</span>      <span class="token number">0</span>        <span class="token number">0</span> enp0s2
<span class="token number">172.16</span>.64.1     <span class="token number">0.0</span>.0.0         <span class="token number">255.255</span>.255.255 UH    <span class="token number">100</span>    <span class="token number">0</span>        <span class="token number">0</span> enp0s2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><h3 id="å¯ç”¨-directrouting" tabindex="-1"><a class="header-anchor" href="#å¯ç”¨-directrouting" aria-hidden="true">#</a> å¯ç”¨ Directrouting</h3><p>å½“ä¸»æœºåœ¨åŒä¸€å­ç½‘æ—¶ï¼Œå¯ç”¨ direct routes(å¦‚host-gw)ã€‚<code>vxlan</code> åªç”¨äºå°†æ•°æ®åŒ…å°è£…åˆ°ä¸åŒå­ç½‘çš„ä¸»æœºä¸Šï¼ŒåŒå­ç½‘çš„ä¸»æœºä¹‹é—´ä½¿ç”¨ <code>host-gw</code>ã€‚é»˜è®¤å€¼ä¸º <code>false</code>ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># K3s master å’Œ agent</span>
<span class="token function">cat</span> <span class="token operator">&gt;&gt;</span> /etc/net-conf.json <span class="token operator">&lt;&lt;</span><span class="token string">EOF 
{
        &quot;Network&quot;: &quot;10.42.0.0/16&quot;,
        &quot;Backend&quot;: {
            &quot;Type&quot;: &quot;vxlan&quot;,
            &quot;Directrouting&quot;: true
	}
}
EOF</span>

<span class="token comment"># K3s master</span>
<span class="token function">curl</span> <span class="token parameter variable">-sfL</span> http://rancher-mirror.cnrancher.com/k3s/k3s-install.sh <span class="token operator">|</span> <span class="token punctuation">\</span>
        <span class="token assign-left variable">INSTALL_K3S_EXEC</span><span class="token operator">=</span><span class="token string">&quot;--flannel-conf=/etc/net-conf.json&quot;</span> <span class="token punctuation">\</span>
        <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token function">sh</span> -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="è‡ªå®šä¹‰-cni" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰-cni" aria-hidden="true">#</a> è‡ªå®šä¹‰ CNI</h2><p>ä½¿ç”¨ <code>--flannel-backend=none</code> è¿è¡Œ K3sï¼Œç„¶ååœ¨å®‰è£…ä½ é€‰æ‹©çš„ CNIã€‚</p><h4 id="calico" tabindex="-1"><a class="header-anchor" href="#calico" aria-hidden="true">#</a> Calico</h4><p>æŒ‰ç…§<a href="https://docs.projectcalico.org/master/reference/cni-plugin/configuration" target="_blank" rel="noopener noreferrer">Calico CNI æ’ä»¶æŒ‡å—<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚ä¿®æ”¹ Calico YAMLï¼Œåœ¨ container_settings éƒ¨åˆ†ä¸­å…è®¸ IP è½¬å‘ï¼Œä¾‹å¦‚ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&quot;container_settings&quot;: {
              &quot;allow_ip_forwarding&quot;: true
          }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å¦‚ä¸é…ç½® <code>&quot;allow_ip_forwarding&quot;: true</code>ï¼Œ <code>svclb-traefik</code> å°†ä¼šæŠ¥é”™ï¼š<code>/usr/bin/entry: line 6: can&#39;t create /proc/sys/net/ipv4/ip_forward: Read-only file system</code></p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>root@k3s1:~<span class="token comment"># curl -sfL http://rancher-mirror.cnrancher.com/k3s/k3s-install.sh | \</span>
        <span class="token assign-left variable">INSTALL_K3S_MIRROR</span><span class="token operator">=</span>cn <span class="token punctuation">\</span>
        <span class="token assign-left variable">INSTALL_K3S_EXEC</span><span class="token operator">=</span><span class="token string">&quot;--flannel-backend=none \
        --cluster-cidr=192.168.200.0/24&quot;</span> <span class="token punctuation">\</span>
        <span class="token function">sh</span> -
root@k3s1:~<span class="token comment"># kubectl apply -f https://raw.githubusercontent.com/kingsd041/k3s-tutorial/main/05-å®‰è£…-ç½‘ç»œé€‰é¡¹/calico.yaml</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>**å‚è€ƒï¼š**https://docs.projectcalico.org/getting-started/kubernetes/k3s/quickstart</p><h2 id="ä½¿ç”¨å¤–éƒ¨æ•°æ®åº“å®ç°é«˜å¯ç”¨å®‰è£…" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨å¤–éƒ¨æ•°æ®åº“å®ç°é«˜å¯ç”¨å®‰è£…" aria-hidden="true">#</a> ä½¿ç”¨å¤–éƒ¨æ•°æ®åº“å®ç°é«˜å¯ç”¨å®‰è£…</h2><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p>å•èŠ‚ç‚¹ k3s server é›†ç¾¤å¯ä»¥æ»¡è¶³å„ç§ç”¨ä¾‹ï¼Œä½†æ˜¯å¯¹äºéœ€è¦ Kubernetes control-plane ç¨³å®šè¿è¡Œçš„é‡è¦ç¯å¢ƒï¼Œæ‚¨å¯ä»¥åœ¨ HA é…ç½®ä¸­è¿è¡Œ K3sã€‚ä¸€ä¸ª K3s HA é›†ç¾¤ç”±ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ç»„æˆï¼š</p><ul><li>ä¸¤ä¸ªæˆ–å¤šä¸ª<code>server èŠ‚ç‚¹</code>ï¼Œå°†ä¸º Kubernetes API æä¾›æœåŠ¡å¹¶è¿è¡Œå…¶ä»– control-plane æœåŠ¡ã€‚</li><li>é›¶ä¸ªæˆ–å¤šä¸ª<code>agent èŠ‚ç‚¹</code>ï¼Œç”¨äºè¿è¡Œæ‚¨çš„åº”ç”¨å’ŒæœåŠ¡ã€‚</li><li><code>å¤–éƒ¨æ•°æ®å­˜å‚¨</code> (ä¸å•ä¸ª k3s server è®¾ç½®ä¸­ä½¿ç”¨çš„åµŒå…¥å¼ SQLite æ•°æ®å­˜å‚¨ç›¸å)</li><li><code>å›ºå®šçš„æ³¨å†Œåœ°å€</code>ï¼Œä½äº server èŠ‚ç‚¹çš„å‰é¢ï¼Œä»¥å…è®¸ agent èŠ‚ç‚¹å‘é›†ç¾¤æ³¨å†Œ</li></ul><blockquote><p>Agent é€šè¿‡å›ºå®šçš„æ³¨å†Œåœ°å€è¿›è¡Œæ³¨å†Œï¼Œä½†æ³¨å†Œåç›´æ¥ä¸å…¶ä¸­ä¸€ä¸ª server èŠ‚ç‚¹å»ºç«‹è¿æ¥ã€‚è¿™æ˜¯ä¸€ä¸ªç”± k3s agent è¿›ç¨‹å‘èµ·çš„ websocket è¿æ¥ï¼Œå¹¶ç”±ä½œä¸º agent è¿›ç¨‹ä¸€éƒ¨åˆ†è¿è¡Œçš„å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡å™¨ç»´æŠ¤ã€‚</p></blockquote></div><h3 id="ç¯å¢ƒå‡†å¤‡" tabindex="-1"><a class="header-anchor" href="#ç¯å¢ƒå‡†å¤‡" aria-hidden="true">#</a> ç¯å¢ƒå‡†å¤‡</h3><div class="custom-container warning"><p class="custom-container-title">æé†’</p><p>ä¸ªäººæ¯”è¾ƒå€¾å‘äº etcdï¼ŒDqlite å·²ç»è¢«æŠ›å¼ƒäº†ï¼ŒåµŒå…¥å¼ etcd æ‰æ˜¯ yyds</p></div><ul><li><strong>é€‚ç”¨åœºæ™¯</strong></li></ul><blockquote><p>èµ„æºæœ‰é™çš„åœ°æ–¹ï¼Œå¦‚è¾¹ç¼˜è®¡ç®—ã€é›¾è®¡ç®—ã€ç‰©è”ç½‘çš„æ¥å…¥ç½‘å…³ç­‰</p></blockquote><ul><li><strong>è„šæœ¬-åœ¨çº¿å®‰è£…</strong></li></ul><blockquote><p>\1. masterèŠ‚ç‚¹ æŒ‡å®šå®‰è£…ç‰ˆæœ¬,ä¸æŒ‡å®šå®‰è£…æœ€æ–°ç¨³å®šç‰ˆæœ¬</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># export INSTALL_K3S_VERSION=v1.18.9
# export INSTALL_K3S_EXEC=&quot;--write-kubeconfig ~/.kube/config --cluster-cidr  10.72.0.0/16 --service-cidr  10.73.0.0/16&quot;
# curl -sfL https://get.k3s.io | sh -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\2. æ‰€æœ‰workerèŠ‚ç‚¹ tokenæ¥æºäºmasterèŠ‚ç‚¹ï¼Œç›®å½•/var/lib/rancher/k3s/server/node-token</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># export INSTALL_K3S_VERSION=v1.18.9
# curl -sfL https://get.k3s.io | K3S_URL=https://myserver:6443 K3S_TOKEN=XXX sh -
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><em>ç­‰ä»·äº</em></p><blockquote><p>\1. masterèŠ‚ç‚¹</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># export INSTALL_K3S_VERSION=v1.18.9
# export INSTALL_K3S_EXEC=&quot;--write-kubeconfig ~/.kube/config --cluster-cidr  10.72.0.0/16 --service-cidr  10.73.0.0/16&quot;
# sh k3s.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\2. æ‰€æœ‰workerèŠ‚ç‚¹ æŒ‡å®šç‰ˆæœ¬ï¼Œmasterï¼Œè¿˜æœ‰ä»masterè·å–çš„token</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># export INSTALL_K3S_VERSION=v1.18.9
# export K3S_URL=https://master_ip:6443 
# export K3S_TOKEN=K103b676c8815cc4fb467cb5564527c3a5b0d3415915c9a15e195ff6069589bf508::server:97d3d89ac68de226f5003869fe676718
# sh k3s.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>è„šæœ¬-ç¦»çº¿å®‰è£…</strong></li></ul><blockquote><p>1.å…ˆåœ¨æœ‰ç½‘ç»œçš„åœ°æ–¹ä¸‹è½½k3så®‰è£…è„šæœ¬å’ŒäºŒè¿›åˆ¶æ–‡ä»¶</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>è„šæœ¬ï¼šhttps://get.k3s.io
é€‰æ‹©å¯¹åº”ç‰ˆæœ¬çš„äºŒè¿›åˆ¶æ–‡ä»¶: https://github.com/rancher/k3s/releases
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>2.å°†k3så®‰è£…è„šæœ¬æ”¾åœ¨ä»»æ„ä½ç½®ï¼ŒäºŒè¿›åˆ¶æ–‡ä»¶æ‹·è´åˆ°ç›®æ ‡ä¸»æœºçš„/usr/local/binç›®å½• 3.æ·»åŠ ç¯å¢ƒå˜é‡</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># export INSTALL_K3S_SKIP_DOWNLOAD=true
è·³è¿‡äºŒè¿›åˆ¶æ–‡ä»¶ä¸‹è½½
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>4.åœ¨masterèŠ‚ç‚¹è¿è¡Œå®‰è£…è„šæœ¬ è¿™é‡Œçš„ç‰ˆæœ¬è¦å’Œä¸Šé¢ä¸‹è½½çš„äºŒè¿›åˆ¶æ–‡ä»¶ç‰ˆæœ¬ä¸€è‡´</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># export INSTALL_K3S_VERSION=v1.18.9
# export INSTALL_K3S_EXEC=&quot;--write-kubeconfig ~/.kube/config --cluster-cidr  10.72.0.0/16 --service-cidr  10.73.0.0/16&quot;
# sh k3s.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>5.åœ¨æ‰€æœ‰workerèŠ‚ç‚¹è¿è¡Œå®‰è£…è„šæœ¬ æ‰€æœ‰workerèŠ‚ç‚¹ æŒ‡å®šç‰ˆæœ¬ï¼Œmasterï¼Œè¿˜æœ‰ä»masterè·å–çš„token</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># export INSTALL_K3S_VERSION=v1.18.9
# export K3S_URL=https://master_ip:6443 
# export K3S_TOKEN=K103b676c8815cc4fb467cb5564527c3a5b0d3415915c9a15e195ff6069589bf508::server:97d3d89ac68de226f5003869fe676718
# sh k3s.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>æ— è„šæœ¬-çº¯æ‰‹åŠ¨å®‰è£…</strong></li></ul><blockquote><p>1.ä¸‹è½½k3säºŒè¿›åˆ¶æ–‡ä»¶</p></blockquote><p><a href="https://link.zhihu.com/?target=https%3A//github.com/rancher/k3s/releases/latest" target="_blank" rel="noopener noreferrer">åœ°å€github.com/rancher/k3s/releases/latest<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><blockquote><p>2.å¯åŠ¨masterå’Œworker</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>&gt; æ²¡æœ‰è„šæœ¬å¯åŠ¨æ–¹ä¾¿ï¼Œéœ€è¦è‡ªå·±æŒ‡å®šå¯åŠ¨å‚æ•°ï¼Œå¦‚serverã€agentç­‰

# sudo k3s server &amp;
&gt; Kubeconfig is written to /etc/rancher/k3s/k3s.yaml
# sudo k3s kubectl get nodes

&gt; On a different node run the below. NODE_TOKEN comes from
&gt; /var/lib/rancher/k3s/server/node-token on your server
# sudo k3s agent --server https://myserver:6443 --token ${NODE_TOKEN}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>k3sé»˜è®¤ç”¨çš„containerdï¼Œå¦‚æœè¦ç”¨dockeræ›¿æ¢containerdï¼Œåˆ™åœ¨å®‰è£…k3så‰å®‰è£…docker</strong></li></ul><blockquote><p>1.å®‰è£…docker</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># yum install -y yum-utils 
# yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
# yum makecache fast 
# yum list docker-ce --showduplicates | sort -r
# yum install -y docker-ce-19.03.8-3.el7
# systemctl start docker
# systemctl enable docker
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>2.å®‰è£…k3s master</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># export INSTALL_K3S_VERSION=v1.18.9
# export INSTALL_K3S_EXEC=&quot;--docker --write-kubeconfig ~/.kube/config --cluster-cidr  10.72.0.0/16 --service-cidr  10.73.0.0/16&quot;
# sh k3s.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>3.å®‰è£…k3s worker</p></blockquote><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># æ‰€æœ‰workerèŠ‚ç‚¹ æŒ‡å®šç‰ˆæœ¬ï¼Œmasterï¼Œè¿˜æœ‰ä»masterè·å–çš„token
# export INSTALL_K3S_VERSION=v1.18.9
# export K3S_URL=https://master_ip:6443 
# export K3S_TOKEN=K103b676c8815cc4fb467cb5564527c3a5b0d3415915c9a15e195ff6069589bf508::server:97d3d89ac68de226f5003869fe676718
# sh k3s.sh
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="end-é“¾æ¥" tabindex="-1"><a class="header-anchor" href="#end-é“¾æ¥" aria-hidden="true">#</a> END é“¾æ¥</h2><ul><li><div><a href="14.md" style="float:left;">â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”— </a><a href="16.md" style="float:right;"> ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div></li></ul><ul><li><p><a href="/" class="">â“‚ï¸å›åˆ°ç›®å½•ğŸ </a></p></li><li><p><a href="https://nsddd.top/archives/contributors" target="_blank" rel="noopener noreferrer"><strong>ğŸ«µå‚ä¸è´¡çŒ®ğŸ’â¤ï¸â€ğŸ”¥ğŸ’–</strong><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>)</p></li><li><p>âœ´ï¸ç‰ˆæƒå£°æ˜ Â© ï¼šæœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª<a href="http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="noopener noreferrer">CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰Â©<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li></ul></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/3293172751/awesome-docker/edit/master/docs/Cloud-Native-k8s/15.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨GitHubä¸Šè´¡çŒ®æ­¤é¡µé¢"><!--[--><!--]--> åœ¨GitHubä¸Šè´¡çŒ®æ­¤é¡µé¢ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">ä¸Šæ¬¡æ›´æ–°: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">è´¡çŒ®è€…: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 3293172751nss@gmail.com">xiongxinwei</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/Cloud-Native-k8s/14.html" class="" aria-label="ç¬¬14èŠ‚ k3s"><!--[--><!--]--> ç¬¬14èŠ‚ k3s <!--[--><!--]--></a></span><span class="next"><a href="/Cloud-Native-k8s/16.html" class="" aria-label="ç¬¬16èŠ‚ Treafik LB"><!--[--><!--]--> ç¬¬16èŠ‚ Treafik LB <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.3e7cf2d5.js" defer></script>
  </body>
</html>
