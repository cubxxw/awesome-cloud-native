<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/img/1.jpg"><title>ç¬¬13èŠ‚ go context ä¸Šä¸‹æ–‡ | ä½ å¥½</title><meta name="description" content="é“¾å­¦ç¤¾è‡´åŠ›äºæ‰“é€ å‡ºåŒºå—é“¾å»ä¸­å¿ƒåŒ–çš„å­¦ä¹ å¹³å°">
    <link rel="modulepreload" href="/assets/app.f2f3c0f5.js"><link rel="modulepreload" href="/assets/13.html.986b6e44.js"><link rel="modulepreload" href="/assets/13.html.2dae1833.js"><link rel="prefetch" href="/assets/index.html.c499f25b.js"><link rel="prefetch" href="/assets/1.html.fd204fdb.js"><link rel="prefetch" href="/assets/10.html.b7ebfc66.js"><link rel="prefetch" href="/assets/11.html.2e4c4099.js"><link rel="prefetch" href="/assets/12.html.693741b8.js"><link rel="prefetch" href="/assets/14.html.a87633d9.js"><link rel="prefetch" href="/assets/15.html.88e104a0.js"><link rel="prefetch" href="/assets/16.html.8930277d.js"><link rel="prefetch" href="/assets/17.html.8ade317c.js"><link rel="prefetch" href="/assets/18.html.3b6fe606.js"><link rel="prefetch" href="/assets/19.html.19b0e452.js"><link rel="prefetch" href="/assets/2.html.f043ee1f.js"><link rel="prefetch" href="/assets/20.html.537d64f6.js"><link rel="prefetch" href="/assets/21.html.9eba97d7.js"><link rel="prefetch" href="/assets/22.html.eb5ddb66.js"><link rel="prefetch" href="/assets/23.html.2aa6b813.js"><link rel="prefetch" href="/assets/24.html.1abb586c.js"><link rel="prefetch" href="/assets/25.html.129b8aee.js"><link rel="prefetch" href="/assets/26.html.f00952bd.js"><link rel="prefetch" href="/assets/27.html.bb3833c5.js"><link rel="prefetch" href="/assets/28.html.de76c576.js"><link rel="prefetch" href="/assets/29.html.efa508a0.js"><link rel="prefetch" href="/assets/3.html.3d64c7db.js"><link rel="prefetch" href="/assets/30.html.bb990189.js"><link rel="prefetch" href="/assets/31.html.220881c1.js"><link rel="prefetch" href="/assets/32.html.02e7faad.js"><link rel="prefetch" href="/assets/33.html.9b5caaf0.js"><link rel="prefetch" href="/assets/34.html.b0f614b8.js"><link rel="prefetch" href="/assets/35.html.93b92893.js"><link rel="prefetch" href="/assets/36.html.4c610e94.js"><link rel="prefetch" href="/assets/37.html.9db997c0.js"><link rel="prefetch" href="/assets/38.html.ad90b9e2.js"><link rel="prefetch" href="/assets/39.html.2bfac0cc.js"><link rel="prefetch" href="/assets/4.html.76cf4339.js"><link rel="prefetch" href="/assets/40.html.b1fcd673.js"><link rel="prefetch" href="/assets/41.html.f745a493.js"><link rel="prefetch" href="/assets/42.html.0ec24f8a.js"><link rel="prefetch" href="/assets/43.html.bcf1cf6e.js"><link rel="prefetch" href="/assets/44.html.e47ed028.js"><link rel="prefetch" href="/assets/45.html.08592f76.js"><link rel="prefetch" href="/assets/46.html.390db4b9.js"><link rel="prefetch" href="/assets/47.html.4a2b4f6c.js"><link rel="prefetch" href="/assets/48.html.62b19efd.js"><link rel="prefetch" href="/assets/49.html.eddc3fad.js"><link rel="prefetch" href="/assets/5.html.cb9993c6.js"><link rel="prefetch" href="/assets/50.html.c26fc22a.js"><link rel="prefetch" href="/assets/51.html.d8ff9202.js"><link rel="prefetch" href="/assets/52.html.29e25dea.js"><link rel="prefetch" href="/assets/53.html.ce5d558a.js"><link rel="prefetch" href="/assets/54.html.009cb3de.js"><link rel="prefetch" href="/assets/55.html.b04523dd.js"><link rel="prefetch" href="/assets/56.html.76e64836.js"><link rel="prefetch" href="/assets/57.html.c8708708.js"><link rel="prefetch" href="/assets/58.html.b8af7773.js"><link rel="prefetch" href="/assets/59.html.5dd6a8e8.js"><link rel="prefetch" href="/assets/6.html.7f20f46a.js"><link rel="prefetch" href="/assets/60.html.108c3a17.js"><link rel="prefetch" href="/assets/61.html.2b8a99b9.js"><link rel="prefetch" href="/assets/62.html.7fe3aa41.js"><link rel="prefetch" href="/assets/63.html.ae22611b.js"><link rel="prefetch" href="/assets/64.html.327e22c7.js"><link rel="prefetch" href="/assets/65.html.c010cd61.js"><link rel="prefetch" href="/assets/66.html.09006efe.js"><link rel="prefetch" href="/assets/67.html.c44147c4.js"><link rel="prefetch" href="/assets/68.html.5123bdda.js"><link rel="prefetch" href="/assets/69.html.709fcbfa.js"><link rel="prefetch" href="/assets/7.html.73107fb7.js"><link rel="prefetch" href="/assets/70.html.d5175b4e.js"><link rel="prefetch" href="/assets/71.html.5c7276ad.js"><link rel="prefetch" href="/assets/72.html.be0505f9.js"><link rel="prefetch" href="/assets/73.html.945cee02.js"><link rel="prefetch" href="/assets/74.html.ed0427d0.js"><link rel="prefetch" href="/assets/75.html.22eaa4c1.js"><link rel="prefetch" href="/assets/76.html.83a60559.js"><link rel="prefetch" href="/assets/77.html.6a485035.js"><link rel="prefetch" href="/assets/78.html.5184af63.js"><link rel="prefetch" href="/assets/79.html.f31f80ee.js"><link rel="prefetch" href="/assets/8.html.0592d8bf.js"><link rel="prefetch" href="/assets/80.html.71fe2de3.js"><link rel="prefetch" href="/assets/81.html.674b9f45.js"><link rel="prefetch" href="/assets/82.html.84a9da67.js"><link rel="prefetch" href="/assets/83.html.f9366f23.js"><link rel="prefetch" href="/assets/84.html.077d9bdc.js"><link rel="prefetch" href="/assets/85.html.afe84b99.js"><link rel="prefetch" href="/assets/86.html.0cab34db.js"><link rel="prefetch" href="/assets/87.html.f2d70c50.js"><link rel="prefetch" href="/assets/88.html.3842a471.js"><link rel="prefetch" href="/assets/89.html.bd36ae29.js"><link rel="prefetch" href="/assets/9.html.8b1df622.js"><link rel="prefetch" href="/assets/90.html.59d1af05.js"><link rel="prefetch" href="/assets/91.html.bff9db18.js"><link rel="prefetch" href="/assets/92.html.8d1d3932.js"><link rel="prefetch" href="/assets/93.html.2e25826f.js"><link rel="prefetch" href="/assets/94.html.3bf21ffb.js"><link rel="prefetch" href="/assets/95.html.703f578c.js"><link rel="prefetch" href="/assets/96.html.b168fbc0.js"><link rel="prefetch" href="/assets/97.html.9a9e7eb7.js"><link rel="prefetch" href="/assets/98.html.dba9b839.js"><link rel="prefetch" href="/assets/99.html.403135da.js"><link rel="prefetch" href="/assets/index.html.90f79834.js"><link rel="prefetch" href="/assets/TODO.html.830317c3.js"><link rel="prefetch" href="/assets/1.html.9e750f7a.js"><link rel="prefetch" href="/assets/10.html.e77e0455.js"><link rel="prefetch" href="/assets/11.html.7e785902.js"><link rel="prefetch" href="/assets/12.html.1599a54d.js"><link rel="prefetch" href="/assets/13.html.70628749.js"><link rel="prefetch" href="/assets/14.html.18e6797b.js"><link rel="prefetch" href="/assets/15.html.df743cd2.js"><link rel="prefetch" href="/assets/16.html.55d56ea8.js"><link rel="prefetch" href="/assets/17.html.6874d49f.js"><link rel="prefetch" href="/assets/18.html.65b90de4.js"><link rel="prefetch" href="/assets/19.html.dde6b661.js"><link rel="prefetch" href="/assets/2.html.e1274803.js"><link rel="prefetch" href="/assets/20.html.0fe80452.js"><link rel="prefetch" href="/assets/21.html.f85d8468.js"><link rel="prefetch" href="/assets/22.html.0afb63ed.js"><link rel="prefetch" href="/assets/23.html.acd56ad8.js"><link rel="prefetch" href="/assets/24.html.f874b480.js"><link rel="prefetch" href="/assets/25.html.e020387b.js"><link rel="prefetch" href="/assets/26.html.ccbed0cc.js"><link rel="prefetch" href="/assets/27.html.148446d1.js"><link rel="prefetch" href="/assets/28.html.a94af5c0.js"><link rel="prefetch" href="/assets/29.html.aa33eff4.js"><link rel="prefetch" href="/assets/3.html.cac76b28.js"><link rel="prefetch" href="/assets/30.html.6c68425a.js"><link rel="prefetch" href="/assets/31.html.9b16aa42.js"><link rel="prefetch" href="/assets/32.html.6d1882b9.js"><link rel="prefetch" href="/assets/33.html.450fcdf8.js"><link rel="prefetch" href="/assets/34.html.b2875ca6.js"><link rel="prefetch" href="/assets/35.html.b9867f79.js"><link rel="prefetch" href="/assets/36.html.614ee854.js"><link rel="prefetch" href="/assets/37.html.2d010e5c.js"><link rel="prefetch" href="/assets/38.html.db03c609.js"><link rel="prefetch" href="/assets/39.html.dae7a11d.js"><link rel="prefetch" href="/assets/4.html.d793bb26.js"><link rel="prefetch" href="/assets/40.html.78ecc669.js"><link rel="prefetch" href="/assets/41.html.f71f97a0.js"><link rel="prefetch" href="/assets/42.html.8af2270a.js"><link rel="prefetch" href="/assets/43.html.aeab5555.js"><link rel="prefetch" href="/assets/44.html.ca417de8.js"><link rel="prefetch" href="/assets/45.html.26989a52.js"><link rel="prefetch" href="/assets/46.html.48fe7270.js"><link rel="prefetch" href="/assets/47.html.3e47ee65.js"><link rel="prefetch" href="/assets/48.html.d08a8b7f.js"><link rel="prefetch" href="/assets/49.html.1c55cdc2.js"><link rel="prefetch" href="/assets/5.html.f58f6203.js"><link rel="prefetch" href="/assets/50.html.581cdfdd.js"><link rel="prefetch" href="/assets/51.html.143c32e9.js"><link rel="prefetch" href="/assets/52.html.7488aa3f.js"><link rel="prefetch" href="/assets/53.html.df9bfd27.js"><link rel="prefetch" href="/assets/54.html.97e0befc.js"><link rel="prefetch" href="/assets/55.html.9f2e0fc4.js"><link rel="prefetch" href="/assets/56.html.832dc435.js"><link rel="prefetch" href="/assets/57.html.55b5f82f.js"><link rel="prefetch" href="/assets/58.html.f97be2b4.js"><link rel="prefetch" href="/assets/59.html.c2454b9d.js"><link rel="prefetch" href="/assets/6.html.2b7b8ad3.js"><link rel="prefetch" href="/assets/60.html.5867f9c4.js"><link rel="prefetch" href="/assets/61.html.1e8bbff2.js"><link rel="prefetch" href="/assets/62.html.ce4e8457.js"><link rel="prefetch" href="/assets/63.html.b668ae9a.js"><link rel="prefetch" href="/assets/64.html.875cd724.js"><link rel="prefetch" href="/assets/65.html.53b86f35.js"><link rel="prefetch" href="/assets/66.html.a502d8c9.js"><link rel="prefetch" href="/assets/67.html.7d2e39ec.js"><link rel="prefetch" href="/assets/68.html.4430bebd.js"><link rel="prefetch" href="/assets/69.html.bf5ab228.js"><link rel="prefetch" href="/assets/7.html.44323637.js"><link rel="prefetch" href="/assets/70.html.aa695972.js"><link rel="prefetch" href="/assets/71.html.e0baecdf.js"><link rel="prefetch" href="/assets/72.html.3ed54957.js"><link rel="prefetch" href="/assets/73.html.3269221e.js"><link rel="prefetch" href="/assets/74.html.d36867b2.js"><link rel="prefetch" href="/assets/75.html.8b1ecf89.js"><link rel="prefetch" href="/assets/76.html.6edcd166.js"><link rel="prefetch" href="/assets/77.html.e7635ab7.js"><link rel="prefetch" href="/assets/78.html.0de8f8e0.js"><link rel="prefetch" href="/assets/79.html.b84c0c1d.js"><link rel="prefetch" href="/assets/8.html.fbdd9051.js"><link rel="prefetch" href="/assets/80.html.72b53b23.js"><link rel="prefetch" href="/assets/81.html.2df80b97.js"><link rel="prefetch" href="/assets/82.html.ad487a1e.js"><link rel="prefetch" href="/assets/83.html.c2f31839.js"><link rel="prefetch" href="/assets/84.html.8f08ca4d.js"><link rel="prefetch" href="/assets/85.html.58986e20.js"><link rel="prefetch" href="/assets/86.html.b208cc40.js"><link rel="prefetch" href="/assets/87.html.c3518680.js"><link rel="prefetch" href="/assets/88.html.4987ffcc.js"><link rel="prefetch" href="/assets/89.html.ba926430.js"><link rel="prefetch" href="/assets/9.html.1b790a84.js"><link rel="prefetch" href="/assets/90.html.21f82605.js"><link rel="prefetch" href="/assets/91.html.b7301274.js"><link rel="prefetch" href="/assets/92.html.3662bc0c.js"><link rel="prefetch" href="/assets/93.html.e2ac0831.js"><link rel="prefetch" href="/assets/94.html.02d9e407.js"><link rel="prefetch" href="/assets/95.html.10a9639a.js"><link rel="prefetch" href="/assets/96.html.62960ce9.js"><link rel="prefetch" href="/assets/97.html.d0ab9bbe.js"><link rel="prefetch" href="/assets/98.html.89ca1b0b.js"><link rel="prefetch" href="/assets/99.html.5143f23b.js"><link rel="prefetch" href="/assets/index.html.43f40a16.js"><link rel="prefetch" href="/assets/1.html.bd959b6e.js"><link rel="prefetch" href="/assets/10.html.ae2469e0.js"><link rel="prefetch" href="/assets/11.html.cf3c12f9.js"><link rel="prefetch" href="/assets/12.html.a0411a0f.js"><link rel="prefetch" href="/assets/13.html.2caa0b00.js"><link rel="prefetch" href="/assets/14.html.381371db.js"><link rel="prefetch" href="/assets/15.html.e47b1665.js"><link rel="prefetch" href="/assets/16.html.30b1bf5d.js"><link rel="prefetch" href="/assets/17.html.073b9d56.js"><link rel="prefetch" href="/assets/18.html.8c025525.js"><link rel="prefetch" href="/assets/19.html.f06d2ea4.js"><link rel="prefetch" href="/assets/2.html.c24a2383.js"><link rel="prefetch" href="/assets/20.html.9e702c70.js"><link rel="prefetch" href="/assets/21.html.087be0ef.js"><link rel="prefetch" href="/assets/22.html.67972d7c.js"><link rel="prefetch" href="/assets/23.html.7f287dfd.js"><link rel="prefetch" href="/assets/24.html.e8034405.js"><link rel="prefetch" href="/assets/25.html.8bdb4208.js"><link rel="prefetch" href="/assets/26.html.52f08579.js"><link rel="prefetch" href="/assets/27.html.16632077.js"><link rel="prefetch" href="/assets/28.html.6d11f2d1.js"><link rel="prefetch" href="/assets/29.html.059e6730.js"><link rel="prefetch" href="/assets/3.html.b3db0053.js"><link rel="prefetch" href="/assets/30.html.a53b02db.js"><link rel="prefetch" href="/assets/31.html.0b37e7ce.js"><link rel="prefetch" href="/assets/32.html.cea0c777.js"><link rel="prefetch" href="/assets/33.html.ff558a34.js"><link rel="prefetch" href="/assets/34.html.e8b4b97e.js"><link rel="prefetch" href="/assets/35.html.cb802a9c.js"><link rel="prefetch" href="/assets/36.html.a719dfcb.js"><link rel="prefetch" href="/assets/37.html.d139e2b1.js"><link rel="prefetch" href="/assets/38.html.89fc986d.js"><link rel="prefetch" href="/assets/39.html.f9fda674.js"><link rel="prefetch" href="/assets/4.html.0f09f509.js"><link rel="prefetch" href="/assets/40.html.8a6f76c5.js"><link rel="prefetch" href="/assets/41.html.da32683f.js"><link rel="prefetch" href="/assets/42.html.19b82696.js"><link rel="prefetch" href="/assets/43.html.d3c5a1fb.js"><link rel="prefetch" href="/assets/44.html.37c86fd1.js"><link rel="prefetch" href="/assets/45.html.49d43e8d.js"><link rel="prefetch" href="/assets/46.html.c897c137.js"><link rel="prefetch" href="/assets/47.html.9fc11c19.js"><link rel="prefetch" href="/assets/48.html.61399716.js"><link rel="prefetch" href="/assets/49.html.4bff12f5.js"><link rel="prefetch" href="/assets/5.html.c137122b.js"><link rel="prefetch" href="/assets/6.html.082624e8.js"><link rel="prefetch" href="/assets/7.html.a4ae3c8b.js"><link rel="prefetch" href="/assets/8.html.9f5571b9.js"><link rel="prefetch" href="/assets/9.html.9d8ed5f6.js"><link rel="prefetch" href="/assets/1.html.fefabf1f.js"><link rel="prefetch" href="/assets/10.html.a591fdaf.js"><link rel="prefetch" href="/assets/11.html.f0c58879.js"><link rel="prefetch" href="/assets/12.html.6174ec90.js"><link rel="prefetch" href="/assets/13.html.181888e9.js"><link rel="prefetch" href="/assets/14.html.7b106669.js"><link rel="prefetch" href="/assets/15.html.c0e4acaa.js"><link rel="prefetch" href="/assets/16.html.7a3ba1ea.js"><link rel="prefetch" href="/assets/17.html.7a0b131d.js"><link rel="prefetch" href="/assets/18.html.a9e5ae4a.js"><link rel="prefetch" href="/assets/19.html.f9a1dad0.js"><link rel="prefetch" href="/assets/2.html.47656e60.js"><link rel="prefetch" href="/assets/20.html.7990e495.js"><link rel="prefetch" href="/assets/21.html.10de0a75.js"><link rel="prefetch" href="/assets/22.html.ccdeb6c4.js"><link rel="prefetch" href="/assets/23.html.371d6681.js"><link rel="prefetch" href="/assets/24.html.1e3b14eb.js"><link rel="prefetch" href="/assets/25.html.ce330676.js"><link rel="prefetch" href="/assets/26.html.d044406f.js"><link rel="prefetch" href="/assets/27.html.ccc926f6.js"><link rel="prefetch" href="/assets/28.html.49f5cbc7.js"><link rel="prefetch" href="/assets/29.html.f44fb171.js"><link rel="prefetch" href="/assets/3.html.44eda9ad.js"><link rel="prefetch" href="/assets/30.html.71962bb9.js"><link rel="prefetch" href="/assets/31.html.05d73e5f.js"><link rel="prefetch" href="/assets/32.html.e98a73d9.js"><link rel="prefetch" href="/assets/33.html.55b3c6fb.js"><link rel="prefetch" href="/assets/34.html.5146048c.js"><link rel="prefetch" href="/assets/35.html.51cb1df4.js"><link rel="prefetch" href="/assets/36.html.dea92735.js"><link rel="prefetch" href="/assets/37.html.4987df3a.js"><link rel="prefetch" href="/assets/38.html.94359779.js"><link rel="prefetch" href="/assets/39.html.e9fb19b6.js"><link rel="prefetch" href="/assets/4.html.11bb9c93.js"><link rel="prefetch" href="/assets/40.html.12ce2063.js"><link rel="prefetch" href="/assets/41.html.17b39dbf.js"><link rel="prefetch" href="/assets/42.html.737c2f7f.js"><link rel="prefetch" href="/assets/43.html.4aa549bb.js"><link rel="prefetch" href="/assets/44.html.461dd21b.js"><link rel="prefetch" href="/assets/45.html.f7fa8b44.js"><link rel="prefetch" href="/assets/46.html.0c1c3d86.js"><link rel="prefetch" href="/assets/47.html.7a6006c3.js"><link rel="prefetch" href="/assets/48.html.876530ae.js"><link rel="prefetch" href="/assets/49.html.93195ef1.js"><link rel="prefetch" href="/assets/5.html.d52a2513.js"><link rel="prefetch" href="/assets/50.html.ae771c42.js"><link rel="prefetch" href="/assets/6.html.6207e399.js"><link rel="prefetch" href="/assets/7.html.60b74bd7.js"><link rel="prefetch" href="/assets/8.html.4ebadc89.js"><link rel="prefetch" href="/assets/9.html.38305fea.js"><link rel="prefetch" href="/assets/k8s_011.html.a02b632d.js"><link rel="prefetch" href="/assets/k8s_012.html.43d51b72.js"><link rel="prefetch" href="/assets/k8s_013.html.ec5b47f7.js"><link rel="prefetch" href="/assets/k8s_014.html.f6d97c90.js"><link rel="prefetch" href="/assets/k8s_015.html.e0a1919b.js"><link rel="prefetch" href="/assets/k8s_016.html.3974eb6c.js"><link rel="prefetch" href="/assets/k8s_017.html.75871624.js"><link rel="prefetch" href="/assets/k8s_018.html.12099bf7.js"><link rel="prefetch" href="/assets/k8s_019.html.056e3a37.js"><link rel="prefetch" href="/assets/k8s_020.html.81fc58d1.js"><link rel="prefetch" href="/assets/k8s_021.html.28a3099b.js"><link rel="prefetch" href="/assets/k8s_022.html.bd4c9467.js"><link rel="prefetch" href="/assets/k8s_023.html.ffd7194a.js"><link rel="prefetch" href="/assets/k8s_024.html.3422943c.js"><link rel="prefetch" href="/assets/k8s_025.html.29b4b1e1.js"><link rel="prefetch" href="/assets/k8s_026.html.37a39c28.js"><link rel="prefetch" href="/assets/k8s_027.html.ffb2e25f.js"><link rel="prefetch" href="/assets/k8s_028.html.d98c6ad6.js"><link rel="prefetch" href="/assets/k8s_029.html.ca41febf.js"><link rel="prefetch" href="/assets/k8s_030.html.9902d045.js"><link rel="prefetch" href="/assets/README (copy).html.e4b91025.js"><link rel="prefetch" href="/assets/index.html.32aff7af.js"><link rel="prefetch" href="/assets/404.html.c3e557d0.js"><link rel="prefetch" href="/assets/index.html.962cde63.js"><link rel="prefetch" href="/assets/1.html.d1721624.js"><link rel="prefetch" href="/assets/10.html.3c1a665b.js"><link rel="prefetch" href="/assets/11.html.ef2d507c.js"><link rel="prefetch" href="/assets/12.html.4c06561f.js"><link rel="prefetch" href="/assets/14.html.80cf1bd3.js"><link rel="prefetch" href="/assets/15.html.a037aa3b.js"><link rel="prefetch" href="/assets/16.html.0b1e0073.js"><link rel="prefetch" href="/assets/17.html.2390897a.js"><link rel="prefetch" href="/assets/18.html.2613edba.js"><link rel="prefetch" href="/assets/19.html.2a75cba1.js"><link rel="prefetch" href="/assets/2.html.cdc9b0b2.js"><link rel="prefetch" href="/assets/20.html.e1bdcc41.js"><link rel="prefetch" href="/assets/21.html.0612af42.js"><link rel="prefetch" href="/assets/22.html.5053237b.js"><link rel="prefetch" href="/assets/23.html.c81e09d2.js"><link rel="prefetch" href="/assets/24.html.a9990682.js"><link rel="prefetch" href="/assets/25.html.e2ab365f.js"><link rel="prefetch" href="/assets/26.html.2a5d5118.js"><link rel="prefetch" href="/assets/27.html.45f6fd87.js"><link rel="prefetch" href="/assets/28.html.a8fb877d.js"><link rel="prefetch" href="/assets/29.html.d71f2800.js"><link rel="prefetch" href="/assets/3.html.f89bd3ce.js"><link rel="prefetch" href="/assets/30.html.f077bd49.js"><link rel="prefetch" href="/assets/31.html.8e98ca79.js"><link rel="prefetch" href="/assets/32.html.71945f5f.js"><link rel="prefetch" href="/assets/33.html.6a2d835e.js"><link rel="prefetch" href="/assets/34.html.ce1e99c9.js"><link rel="prefetch" href="/assets/35.html.f4f0b52b.js"><link rel="prefetch" href="/assets/36.html.d3e09a82.js"><link rel="prefetch" href="/assets/37.html.cd87fed5.js"><link rel="prefetch" href="/assets/38.html.a49a875a.js"><link rel="prefetch" href="/assets/39.html.d141112a.js"><link rel="prefetch" href="/assets/4.html.6d9f98f0.js"><link rel="prefetch" href="/assets/40.html.4a087e06.js"><link rel="prefetch" href="/assets/41.html.55025f16.js"><link rel="prefetch" href="/assets/42.html.881a76a0.js"><link rel="prefetch" href="/assets/43.html.d419cb8f.js"><link rel="prefetch" href="/assets/44.html.e61c51a6.js"><link rel="prefetch" href="/assets/45.html.4c9668f2.js"><link rel="prefetch" href="/assets/46.html.a4e7bb02.js"><link rel="prefetch" href="/assets/47.html.0d5ec603.js"><link rel="prefetch" href="/assets/48.html.3dea757a.js"><link rel="prefetch" href="/assets/49.html.1b1957f9.js"><link rel="prefetch" href="/assets/5.html.56983f85.js"><link rel="prefetch" href="/assets/50.html.a534c2a8.js"><link rel="prefetch" href="/assets/51.html.fab3abce.js"><link rel="prefetch" href="/assets/52.html.a9be0c2f.js"><link rel="prefetch" href="/assets/53.html.f0520deb.js"><link rel="prefetch" href="/assets/54.html.9c8308ca.js"><link rel="prefetch" href="/assets/55.html.276bc729.js"><link rel="prefetch" href="/assets/56.html.27d074e2.js"><link rel="prefetch" href="/assets/57.html.9e934940.js"><link rel="prefetch" href="/assets/58.html.5ead26c7.js"><link rel="prefetch" href="/assets/59.html.d25abf23.js"><link rel="prefetch" href="/assets/6.html.41e42d8a.js"><link rel="prefetch" href="/assets/60.html.dfed4ab4.js"><link rel="prefetch" href="/assets/61.html.d22e7ab9.js"><link rel="prefetch" href="/assets/62.html.981fe677.js"><link rel="prefetch" href="/assets/63.html.62ec2b1b.js"><link rel="prefetch" href="/assets/64.html.ee1b2030.js"><link rel="prefetch" href="/assets/65.html.4ac3453e.js"><link rel="prefetch" href="/assets/66.html.c2c1f73d.js"><link rel="prefetch" href="/assets/67.html.605a59cd.js"><link rel="prefetch" href="/assets/68.html.3d967c94.js"><link rel="prefetch" href="/assets/69.html.264f3fd6.js"><link rel="prefetch" href="/assets/7.html.c82d055d.js"><link rel="prefetch" href="/assets/70.html.fdd7a29a.js"><link rel="prefetch" href="/assets/71.html.d6fcc75f.js"><link rel="prefetch" href="/assets/72.html.331ad4f4.js"><link rel="prefetch" href="/assets/73.html.7e1e94c7.js"><link rel="prefetch" href="/assets/74.html.9e78195c.js"><link rel="prefetch" href="/assets/75.html.7441bdda.js"><link rel="prefetch" href="/assets/76.html.75ad5e04.js"><link rel="prefetch" href="/assets/77.html.c029c345.js"><link rel="prefetch" href="/assets/78.html.e2157ba4.js"><link rel="prefetch" href="/assets/79.html.c60cf90d.js"><link rel="prefetch" href="/assets/8.html.d136ecdb.js"><link rel="prefetch" href="/assets/80.html.e7beec2c.js"><link rel="prefetch" href="/assets/81.html.4bdb5139.js"><link rel="prefetch" href="/assets/82.html.c9d456f0.js"><link rel="prefetch" href="/assets/83.html.df3b0cd8.js"><link rel="prefetch" href="/assets/84.html.78f7ec3f.js"><link rel="prefetch" href="/assets/85.html.2a8b5c8f.js"><link rel="prefetch" href="/assets/86.html.c40244a1.js"><link rel="prefetch" href="/assets/87.html.fa1ce0c7.js"><link rel="prefetch" href="/assets/88.html.77b394fd.js"><link rel="prefetch" href="/assets/89.html.56e99844.js"><link rel="prefetch" href="/assets/9.html.a35612db.js"><link rel="prefetch" href="/assets/90.html.9422dee4.js"><link rel="prefetch" href="/assets/91.html.365c1307.js"><link rel="prefetch" href="/assets/92.html.1783e812.js"><link rel="prefetch" href="/assets/93.html.350f71d3.js"><link rel="prefetch" href="/assets/94.html.59696d1a.js"><link rel="prefetch" href="/assets/95.html.ce66c712.js"><link rel="prefetch" href="/assets/96.html.e566c29a.js"><link rel="prefetch" href="/assets/97.html.e4868aef.js"><link rel="prefetch" href="/assets/98.html.1c94fae3.js"><link rel="prefetch" href="/assets/99.html.83a880ef.js"><link rel="prefetch" href="/assets/index.html.73e6f72d.js"><link rel="prefetch" href="/assets/TODO.html.0b26026e.js"><link rel="prefetch" href="/assets/1.html.b5788a0a.js"><link rel="prefetch" href="/assets/10.html.f39fd2e2.js"><link rel="prefetch" href="/assets/11.html.cb92d50a.js"><link rel="prefetch" href="/assets/12.html.c9956a1c.js"><link rel="prefetch" href="/assets/13.html.ff91dd7d.js"><link rel="prefetch" href="/assets/14.html.1c9711cd.js"><link rel="prefetch" href="/assets/15.html.1e5eba83.js"><link rel="prefetch" href="/assets/16.html.ba7cf532.js"><link rel="prefetch" href="/assets/17.html.c9fb4990.js"><link rel="prefetch" href="/assets/18.html.7fc88060.js"><link rel="prefetch" href="/assets/19.html.de9e37b6.js"><link rel="prefetch" href="/assets/2.html.7ef6be18.js"><link rel="prefetch" href="/assets/20.html.9bbb3ccb.js"><link rel="prefetch" href="/assets/21.html.fcdf9a93.js"><link rel="prefetch" href="/assets/22.html.17e23153.js"><link rel="prefetch" href="/assets/23.html.2ce2e14c.js"><link rel="prefetch" href="/assets/24.html.c040a162.js"><link rel="prefetch" href="/assets/25.html.c9d00da4.js"><link rel="prefetch" href="/assets/26.html.f90d9c09.js"><link rel="prefetch" href="/assets/27.html.8ef183e2.js"><link rel="prefetch" href="/assets/28.html.627cde2b.js"><link rel="prefetch" href="/assets/29.html.7440b5fd.js"><link rel="prefetch" href="/assets/3.html.ae1ba08b.js"><link rel="prefetch" href="/assets/30.html.24d91485.js"><link rel="prefetch" href="/assets/31.html.05f12a6e.js"><link rel="prefetch" href="/assets/32.html.bd4a952f.js"><link rel="prefetch" href="/assets/33.html.069d68d9.js"><link rel="prefetch" href="/assets/34.html.32496e33.js"><link rel="prefetch" href="/assets/35.html.90ee4408.js"><link rel="prefetch" href="/assets/36.html.e5756621.js"><link rel="prefetch" href="/assets/37.html.846f502b.js"><link rel="prefetch" href="/assets/38.html.3fd1550b.js"><link rel="prefetch" href="/assets/39.html.56d14d24.js"><link rel="prefetch" href="/assets/4.html.0ef1b9b6.js"><link rel="prefetch" href="/assets/40.html.dc0bc220.js"><link rel="prefetch" href="/assets/41.html.d6b226ab.js"><link rel="prefetch" href="/assets/42.html.1a9c04fe.js"><link rel="prefetch" href="/assets/43.html.630dd15b.js"><link rel="prefetch" href="/assets/44.html.769acdbf.js"><link rel="prefetch" href="/assets/45.html.be2b464d.js"><link rel="prefetch" href="/assets/46.html.351c57b1.js"><link rel="prefetch" href="/assets/47.html.bf9e6b26.js"><link rel="prefetch" href="/assets/48.html.a72fbe62.js"><link rel="prefetch" href="/assets/49.html.3fdfb617.js"><link rel="prefetch" href="/assets/5.html.0754b34b.js"><link rel="prefetch" href="/assets/50.html.2d5c4caf.js"><link rel="prefetch" href="/assets/51.html.0efd6384.js"><link rel="prefetch" href="/assets/52.html.519900d4.js"><link rel="prefetch" href="/assets/53.html.a4daf0c2.js"><link rel="prefetch" href="/assets/54.html.ab818dda.js"><link rel="prefetch" href="/assets/55.html.971a1ec2.js"><link rel="prefetch" href="/assets/56.html.eb5ac349.js"><link rel="prefetch" href="/assets/57.html.3eab303c.js"><link rel="prefetch" href="/assets/58.html.9fcb1d91.js"><link rel="prefetch" href="/assets/59.html.84166060.js"><link rel="prefetch" href="/assets/6.html.908832f1.js"><link rel="prefetch" href="/assets/60.html.b5689e7e.js"><link rel="prefetch" href="/assets/61.html.ebd61376.js"><link rel="prefetch" href="/assets/62.html.c3b877e0.js"><link rel="prefetch" href="/assets/63.html.aa8cf3dc.js"><link rel="prefetch" href="/assets/64.html.3418e44d.js"><link rel="prefetch" href="/assets/65.html.db4ff5c6.js"><link rel="prefetch" href="/assets/66.html.a118e6ab.js"><link rel="prefetch" href="/assets/67.html.4627aae3.js"><link rel="prefetch" href="/assets/68.html.b21cfe7b.js"><link rel="prefetch" href="/assets/69.html.6bbfcafc.js"><link rel="prefetch" href="/assets/7.html.1835cbdc.js"><link rel="prefetch" href="/assets/70.html.8518aabf.js"><link rel="prefetch" href="/assets/71.html.cd57d926.js"><link rel="prefetch" href="/assets/72.html.a1d21c6b.js"><link rel="prefetch" href="/assets/73.html.9d9b6f55.js"><link rel="prefetch" href="/assets/74.html.7659cb12.js"><link rel="prefetch" href="/assets/75.html.75f6b4bd.js"><link rel="prefetch" href="/assets/76.html.6f260984.js"><link rel="prefetch" href="/assets/77.html.85d86128.js"><link rel="prefetch" href="/assets/78.html.07412b45.js"><link rel="prefetch" href="/assets/79.html.e1921ab7.js"><link rel="prefetch" href="/assets/8.html.292a21e0.js"><link rel="prefetch" href="/assets/80.html.48c86647.js"><link rel="prefetch" href="/assets/81.html.e05ef21e.js"><link rel="prefetch" href="/assets/82.html.543b09fd.js"><link rel="prefetch" href="/assets/83.html.2d1eebe3.js"><link rel="prefetch" href="/assets/84.html.cffc163f.js"><link rel="prefetch" href="/assets/85.html.1071322e.js"><link rel="prefetch" href="/assets/86.html.b06c20fa.js"><link rel="prefetch" href="/assets/87.html.35718d18.js"><link rel="prefetch" href="/assets/88.html.d6fe0377.js"><link rel="prefetch" href="/assets/89.html.c5d8b67d.js"><link rel="prefetch" href="/assets/9.html.3a4d634f.js"><link rel="prefetch" href="/assets/90.html.1738830a.js"><link rel="prefetch" href="/assets/91.html.10a2e184.js"><link rel="prefetch" href="/assets/92.html.50fc7eae.js"><link rel="prefetch" href="/assets/93.html.6841fd19.js"><link rel="prefetch" href="/assets/94.html.689c9fd0.js"><link rel="prefetch" href="/assets/95.html.4d9348eb.js"><link rel="prefetch" href="/assets/96.html.cbe71f23.js"><link rel="prefetch" href="/assets/97.html.7b759a71.js"><link rel="prefetch" href="/assets/98.html.cfcf1a28.js"><link rel="prefetch" href="/assets/99.html.8495fa7f.js"><link rel="prefetch" href="/assets/index.html.47bc8173.js"><link rel="prefetch" href="/assets/1.html.cad42fa3.js"><link rel="prefetch" href="/assets/10.html.26843909.js"><link rel="prefetch" href="/assets/11.html.13400b74.js"><link rel="prefetch" href="/assets/12.html.08aeba04.js"><link rel="prefetch" href="/assets/13.html.342b59df.js"><link rel="prefetch" href="/assets/14.html.df93f255.js"><link rel="prefetch" href="/assets/15.html.9308bbd8.js"><link rel="prefetch" href="/assets/16.html.72e5e67d.js"><link rel="prefetch" href="/assets/17.html.22c69d5d.js"><link rel="prefetch" href="/assets/18.html.5d40814c.js"><link rel="prefetch" href="/assets/19.html.df0d49f0.js"><link rel="prefetch" href="/assets/2.html.17d9d742.js"><link rel="prefetch" href="/assets/20.html.6dfde167.js"><link rel="prefetch" href="/assets/21.html.51fd5372.js"><link rel="prefetch" href="/assets/22.html.7731df07.js"><link rel="prefetch" href="/assets/23.html.91b18f69.js"><link rel="prefetch" href="/assets/24.html.1dada6ea.js"><link rel="prefetch" href="/assets/25.html.070c6605.js"><link rel="prefetch" href="/assets/26.html.69ead39d.js"><link rel="prefetch" href="/assets/27.html.0a692102.js"><link rel="prefetch" href="/assets/28.html.4306ecca.js"><link rel="prefetch" href="/assets/29.html.0cf2a4bf.js"><link rel="prefetch" href="/assets/3.html.d7023bad.js"><link rel="prefetch" href="/assets/30.html.51b20db9.js"><link rel="prefetch" href="/assets/31.html.b1daa10f.js"><link rel="prefetch" href="/assets/32.html.4ce4ba54.js"><link rel="prefetch" href="/assets/33.html.f4ce7e4e.js"><link rel="prefetch" href="/assets/34.html.77a7bb3a.js"><link rel="prefetch" href="/assets/35.html.e40aeb07.js"><link rel="prefetch" href="/assets/36.html.0a702051.js"><link rel="prefetch" href="/assets/37.html.3295026b.js"><link rel="prefetch" href="/assets/38.html.ed2c796e.js"><link rel="prefetch" href="/assets/39.html.baa7bbf5.js"><link rel="prefetch" href="/assets/4.html.a6ea136a.js"><link rel="prefetch" href="/assets/40.html.3c6fad79.js"><link rel="prefetch" href="/assets/41.html.2e074578.js"><link rel="prefetch" href="/assets/42.html.dd3dfcec.js"><link rel="prefetch" href="/assets/43.html.66eacd63.js"><link rel="prefetch" href="/assets/44.html.1287d0e4.js"><link rel="prefetch" href="/assets/45.html.2c9be083.js"><link rel="prefetch" href="/assets/46.html.d3a16498.js"><link rel="prefetch" href="/assets/47.html.633e599a.js"><link rel="prefetch" href="/assets/48.html.4e971fff.js"><link rel="prefetch" href="/assets/49.html.4395237f.js"><link rel="prefetch" href="/assets/5.html.93644912.js"><link rel="prefetch" href="/assets/6.html.982f5af5.js"><link rel="prefetch" href="/assets/7.html.4e874e56.js"><link rel="prefetch" href="/assets/8.html.0227c5b4.js"><link rel="prefetch" href="/assets/9.html.32d7dbf2.js"><link rel="prefetch" href="/assets/1.html.979728ef.js"><link rel="prefetch" href="/assets/10.html.3c86387d.js"><link rel="prefetch" href="/assets/11.html.8c360d8c.js"><link rel="prefetch" href="/assets/12.html.e645a05d.js"><link rel="prefetch" href="/assets/13.html.1adc5f03.js"><link rel="prefetch" href="/assets/14.html.4b27318d.js"><link rel="prefetch" href="/assets/15.html.929e2cc7.js"><link rel="prefetch" href="/assets/16.html.8015bd94.js"><link rel="prefetch" href="/assets/17.html.59cf00d7.js"><link rel="prefetch" href="/assets/18.html.f1864624.js"><link rel="prefetch" href="/assets/19.html.dd0ae085.js"><link rel="prefetch" href="/assets/2.html.53489004.js"><link rel="prefetch" href="/assets/20.html.935aa7e2.js"><link rel="prefetch" href="/assets/21.html.950ef591.js"><link rel="prefetch" href="/assets/22.html.3a8e3b77.js"><link rel="prefetch" href="/assets/23.html.f97fb07c.js"><link rel="prefetch" href="/assets/24.html.c885a71b.js"><link rel="prefetch" href="/assets/25.html.1943f294.js"><link rel="prefetch" href="/assets/26.html.33a39f14.js"><link rel="prefetch" href="/assets/27.html.51b15a7d.js"><link rel="prefetch" href="/assets/28.html.fbb34335.js"><link rel="prefetch" href="/assets/29.html.cb954763.js"><link rel="prefetch" href="/assets/3.html.85dfbc6e.js"><link rel="prefetch" href="/assets/30.html.98b54bd3.js"><link rel="prefetch" href="/assets/31.html.5ad41aed.js"><link rel="prefetch" href="/assets/32.html.6ede643f.js"><link rel="prefetch" href="/assets/33.html.94ffed76.js"><link rel="prefetch" href="/assets/34.html.512a2bf9.js"><link rel="prefetch" href="/assets/35.html.200d94c9.js"><link rel="prefetch" href="/assets/36.html.8d3baa72.js"><link rel="prefetch" href="/assets/37.html.5bc7a7a4.js"><link rel="prefetch" href="/assets/38.html.bc23979f.js"><link rel="prefetch" href="/assets/39.html.8c27383c.js"><link rel="prefetch" href="/assets/4.html.a25a6456.js"><link rel="prefetch" href="/assets/40.html.63f13ae9.js"><link rel="prefetch" href="/assets/41.html.7c23cf1f.js"><link rel="prefetch" href="/assets/42.html.e77d91c3.js"><link rel="prefetch" href="/assets/43.html.70413965.js"><link rel="prefetch" href="/assets/44.html.52914fe2.js"><link rel="prefetch" href="/assets/45.html.5ba213be.js"><link rel="prefetch" href="/assets/46.html.e754cd20.js"><link rel="prefetch" href="/assets/47.html.308231e0.js"><link rel="prefetch" href="/assets/48.html.d5fd8d78.js"><link rel="prefetch" href="/assets/49.html.6c39cba2.js"><link rel="prefetch" href="/assets/5.html.e685fa4f.js"><link rel="prefetch" href="/assets/50.html.82279ac3.js"><link rel="prefetch" href="/assets/6.html.78a03ab4.js"><link rel="prefetch" href="/assets/7.html.48e9d4b6.js"><link rel="prefetch" href="/assets/8.html.7f0defe1.js"><link rel="prefetch" href="/assets/9.html.62a8ed3f.js"><link rel="prefetch" href="/assets/k8s_011.html.b814484f.js"><link rel="prefetch" href="/assets/k8s_012.html.8fcc051f.js"><link rel="prefetch" href="/assets/k8s_013.html.9b276659.js"><link rel="prefetch" href="/assets/k8s_014.html.2f46e8c8.js"><link rel="prefetch" href="/assets/k8s_015.html.a32ec728.js"><link rel="prefetch" href="/assets/k8s_016.html.f2610d3a.js"><link rel="prefetch" href="/assets/k8s_017.html.f564f2b4.js"><link rel="prefetch" href="/assets/k8s_018.html.ecc67b42.js"><link rel="prefetch" href="/assets/k8s_019.html.e5afb415.js"><link rel="prefetch" href="/assets/k8s_020.html.25359ffb.js"><link rel="prefetch" href="/assets/k8s_021.html.9e8e259a.js"><link rel="prefetch" href="/assets/k8s_022.html.8b599e96.js"><link rel="prefetch" href="/assets/k8s_023.html.b2059e49.js"><link rel="prefetch" href="/assets/k8s_024.html.3f04aa4e.js"><link rel="prefetch" href="/assets/k8s_025.html.ab58e5fc.js"><link rel="prefetch" href="/assets/k8s_026.html.16c6fc77.js"><link rel="prefetch" href="/assets/k8s_027.html.81e3276c.js"><link rel="prefetch" href="/assets/k8s_028.html.54ff0461.js"><link rel="prefetch" href="/assets/k8s_029.html.b5111336.js"><link rel="prefetch" href="/assets/k8s_030.html.86cd576e.js"><link rel="prefetch" href="/assets/README (copy).html.5fe3c866.js"><link rel="prefetch" href="/assets/index.html.82d1ec5e.js"><link rel="prefetch" href="/assets/404.html.bc57aae7.js">
    <link rel="stylesheet" href="/assets/style.57cbcbfb.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="åˆ‡æ¢ä¾§è¾¹æ " aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name can-hide">ä½ å¥½</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ¤µå…³äºæˆ‘"><span class="title">ğŸ¤µå…³äºæˆ‘</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ¤µå…³äºæˆ‘"><span class="title">ğŸ¤µå…³äºæˆ‘</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/3293172751/cs-awesome-Block_Chain" target="_self" aria-label="Githubä»“åº“"><!--[--><!--]--> Githubä»“åº“ <!----><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="http://nsddd.top" target="_self" aria-label="æˆ‘çš„åšå®¢"><!--[--><!--]--> æˆ‘çš„åšå®¢ <!----><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.zhihu.com/people/3293172751" rel="noopener noreferrer" target="_blank" aria-label="çŸ¥ä¹"><!--[--><!--]--> çŸ¥ä¹ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/C-UB/" rel="noopener noreferrer" target="_blank" aria-label="â›“ï¸é“¾å­¦ç¤¾ç»„ç»‡"><!--[--><!--]--> â›“ï¸é“¾å­¦ç¤¾ç»„ç»‡ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/" class="" aria-label="ğŸ é¦–é¡µ"><!--[--><!--]--> ğŸ é¦–é¡µ <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://go.nsddd.top" rel="noopener noreferrer" target="_blank" aria-label="ğŸ“šGoè¯­è¨€å­¦ä¹ "><!--[--><!--]--> ğŸ“šGoè¯­è¨€å­¦ä¹  <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a href="/Cloud-Native-k8s/" class="" aria-label="âš¡ k8så­¦ä¹ ç¯‡"><!--[--><!--]--> âš¡ k8så­¦ä¹ ç¯‡ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/markdown/" class="" aria-label="âš¡ dockerå­¦ä¹ ç¯‡"><!--[--><!--]--> âš¡ dockerå­¦ä¹ ç¯‡ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Cloud-Native/" class="router-link-active" aria-label="ğŸ„â€â™‚ï¸ äº‘åŸç”Ÿå­¦ä¹ ç¯‡"><!--[--><!--]--> ğŸ„â€â™‚ï¸ äº‘åŸç”Ÿå­¦ä¹ ç¯‡ <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/3293172751/awesome-docker" rel="noopener noreferrer" target="_blank" aria-label="æŸ¥çœ‹æºç "><!--[--><!--]--> æŸ¥çœ‹æºç  <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="åˆ‡æ¢é¢œè‰²æ¨¡å¼"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ¤µå…³äºæˆ‘"><span class="title">ğŸ¤µå…³äºæˆ‘</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ¤µå…³äºæˆ‘"><span class="title">ğŸ¤µå…³äºæˆ‘</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/3293172751/cs-awesome-Block_Chain" target="_self" aria-label="Githubä»“åº“"><!--[--><!--]--> Githubä»“åº“ <!----><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="http://nsddd.top" target="_self" aria-label="æˆ‘çš„åšå®¢"><!--[--><!--]--> æˆ‘çš„åšå®¢ <!----><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.zhihu.com/people/3293172751" rel="noopener noreferrer" target="_blank" aria-label="çŸ¥ä¹"><!--[--><!--]--> çŸ¥ä¹ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/C-UB/" rel="noopener noreferrer" target="_blank" aria-label="â›“ï¸é“¾å­¦ç¤¾ç»„ç»‡"><!--[--><!--]--> â›“ï¸é“¾å­¦ç¤¾ç»„ç»‡ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/" class="" aria-label="ğŸ é¦–é¡µ"><!--[--><!--]--> ğŸ é¦–é¡µ <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://go.nsddd.top" rel="noopener noreferrer" target="_blank" aria-label="ğŸ“šGoè¯­è¨€å­¦ä¹ "><!--[--><!--]--> ğŸ“šGoè¯­è¨€å­¦ä¹  <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a href="/Cloud-Native-k8s/" class="" aria-label="âš¡ k8så­¦ä¹ ç¯‡"><!--[--><!--]--> âš¡ k8så­¦ä¹ ç¯‡ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/markdown/" class="" aria-label="âš¡ dockerå­¦ä¹ ç¯‡"><!--[--><!--]--> âš¡ dockerå­¦ä¹ ç¯‡ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Cloud-Native/" class="router-link-active" aria-label="ğŸ„â€â™‚ï¸ äº‘åŸç”Ÿå­¦ä¹ ç¯‡"><!--[--><!--]--> ğŸ„â€â™‚ï¸ äº‘åŸç”Ÿå­¦ä¹ ç¯‡ <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/3293172751/awesome-docker" rel="noopener noreferrer" target="_blank" aria-label="æŸ¥çœ‹æºç "><!--[--><!--]--> æŸ¥çœ‹æºç  <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/" class="sidebar-item sidebar-heading" aria-label="ğŸ å›åˆ°ä¸»é¡µ"><!--[--><!--]--> ğŸ å›åˆ°ä¸»é¡µ <!--[--><!--]--></a><!----></li><li><a class="external-link sidebar-item sidebar-heading" href="https://xxw.nsddd.top/s/wRSz" rel="noopener noreferrer" target="_blank" aria-label="ğŸ’±ä¸ªäººäº‘ç›˜åœ°å€"><!--[--><!--]--> ğŸ’±ä¸ªäººäº‘ç›˜åœ°å€ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading active">ğŸ„â€â™‚ï¸ äº‘åŸç”Ÿå­¦ä¹ ç¯‡ <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/Cloud-Native/1.html" class="sidebar-item" aria-label="ç¬¬1èŠ‚ å¼€æºç¤¾åŒºçš„ä¸€ä»½å®Œæ•´çš„è´¡çŒ®è§„èŒƒ"><!--[--><!--]--> ç¬¬1èŠ‚ å¼€æºç¤¾åŒºçš„ä¸€ä»½å®Œæ•´çš„è´¡çŒ®è§„èŒƒ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/2.html" class="sidebar-item" aria-label="ç¬¬2èŠ‚ ä½¿ç”¨ sealos æ­å»º k8sï¼Œhelmå­¦ä¹ "><!--[--><!--]--> ç¬¬2èŠ‚ ä½¿ç”¨ sealos æ­å»º k8sï¼Œhelmå­¦ä¹  <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/3.html" class="sidebar-item" aria-label="ç¬¬3èŠ‚ å­¦ä¹  sealos çš„é¡¹ç›®ç»“æ„"><!--[--><!--]--> ç¬¬3èŠ‚ å­¦ä¹  sealos çš„é¡¹ç›®ç»“æ„ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/4.html" class="sidebar-item" aria-label="ç¬¬4èŠ‚ ç¬¬ä¸€ä»½è®¾è®¡ç¨¿"><!--[--><!--]--> ç¬¬4èŠ‚ ç¬¬ä¸€ä»½è®¾è®¡ç¨¿ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/5.html" class="sidebar-item" aria-label="ç¬¬5èŠ‚ sealer runtime è®¾è®¡"><!--[--><!--]--> ç¬¬5èŠ‚ sealer runtime è®¾è®¡ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/6.html" class="sidebar-item" aria-label="ç¬¬6èŠ‚ k3s Runtime Design"><!--[--><!--]--> ç¬¬6èŠ‚ k3s Runtime Design <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/7.html" class="sidebar-item" aria-label="ç¬¬7èŠ‚ k3s vs k0s"><!--[--><!--]--> ç¬¬7èŠ‚ k3s vs k0s <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/8.html" class="sidebar-item" aria-label="ç¬¬8èŠ‚ MicroK8s"><!--[--><!--]--> ç¬¬8èŠ‚ MicroK8s <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/9.html" class="sidebar-item" aria-label="ç¬¬9èŠ‚ sealer runtime Stage 2 (including biweekly meetings)"><!--[--><!--]--> ç¬¬9èŠ‚ sealer runtime Stage 2 (including biweekly meetings) <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/10.html" class="sidebar-item" aria-label="ç¬¬10èŠ‚ scratchæ„å»ºruntime(linux)"><!--[--><!--]--> ç¬¬10èŠ‚ scratchæ„å»ºruntime(linux) <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/11.html" class="sidebar-item" aria-label="ç¬¬11èŠ‚ k3s HA ~"><!--[--><!--]--> ç¬¬11èŠ‚ k3s HA ~ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/12.html" class="sidebar-item" aria-label="ç¬¬12èŠ‚ sealer æ•°æ®å­˜å‚¨ç›®å½•"><!--[--><!--]--> ç¬¬12èŠ‚ sealer æ•°æ®å­˜å‚¨ç›®å½• <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/13.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="ç¬¬13èŠ‚ go context ä¸Šä¸‹æ–‡"><!--[--><!--]--> ç¬¬13èŠ‚ go context ä¸Šä¸‹æ–‡ <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Cloud-Native/13.html#context" class="router-link-active router-link-exact-active sidebar-item" aria-label="context"><!--[--><!--]--> context <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/13.html#æˆ‘ä»¬éœ€è¦å®ƒ" class="router-link-active router-link-exact-active sidebar-item" aria-label="æˆ‘ä»¬éœ€è¦å®ƒ"><!--[--><!--]--> æˆ‘ä»¬éœ€è¦å®ƒ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/13.html#å®ƒå’Œ-select-å¤šè·¯å¤ç”¨" class="router-link-active router-link-exact-active sidebar-item" aria-label="å®ƒå’Œ select å¤šè·¯å¤ç”¨"><!--[--><!--]--> å®ƒå’Œ select å¤šè·¯å¤ç”¨ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/13.html#åˆ›å»ºcontext" class="router-link-active router-link-exact-active sidebar-item" aria-label="åˆ›å»ºcontext"><!--[--><!--]--> åˆ›å»ºcontext <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/13.html#æºç " class="router-link-active router-link-exact-active sidebar-item" aria-label="æºç "><!--[--><!--]--> æºç  <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/13.html#ç»“æ„ä½“" class="router-link-active router-link-exact-active sidebar-item" aria-label="ç»“æ„ä½“"><!--[--><!--]--> ç»“æ„ä½“ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/13.html#å¦‚ä½•ä½¿ç”¨-context" class="router-link-active router-link-exact-active sidebar-item" aria-label="å¦‚ä½•ä½¿ç”¨ context"><!--[--><!--]--> å¦‚ä½•ä½¿ç”¨ context <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/13.html#ä¼ é€’å…±äº«çš„æ•°æ®" class="router-link-active router-link-exact-active sidebar-item" aria-label="ä¼ é€’å…±äº«çš„æ•°æ®"><!--[--><!--]--> ä¼ é€’å…±äº«çš„æ•°æ® <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/13.html#å–æ¶ˆ-goroutine" class="router-link-active router-link-exact-active sidebar-item" aria-label="å–æ¶ˆ goroutine"><!--[--><!--]--> å–æ¶ˆ goroutine <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/13.html#é˜²æ­¢-goroutine-æ³„æ¼" class="router-link-active router-link-exact-active sidebar-item" aria-label="é˜²æ­¢ goroutine æ³„æ¼"><!--[--><!--]--> é˜²æ­¢ goroutine æ³„æ¼ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/13.html#context-çœŸçš„è¿™ä¹ˆå¥½å—" class="router-link-active router-link-exact-active sidebar-item" aria-label="context çœŸçš„è¿™ä¹ˆå¥½å—"><!--[--><!--]--> context çœŸçš„è¿™ä¹ˆå¥½å— <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/13.html#æ€»ç»“" class="router-link-active router-link-exact-active sidebar-item" aria-label="æ€»ç»“"><!--[--><!--]--> æ€»ç»“ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/13.html#end-é“¾æ¥" class="router-link-active router-link-exact-active sidebar-item" aria-label="END é“¾æ¥"><!--[--><!--]--> END é“¾æ¥ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/Cloud-Native/14.html" class="sidebar-item" aria-label="ç¬¬14èŠ‚ go è°ƒè¯• æµ‹è¯• ä»¥åŠè°ƒè¯•å·¥å…· dlv"><!--[--><!--]--> ç¬¬14èŠ‚ go è°ƒè¯• æµ‹è¯• ä»¥åŠè°ƒè¯•å·¥å…· dlv <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/15.html" class="sidebar-item" aria-label="ç¬¬15èŠ‚ about"><!--[--><!--]--> ç¬¬15èŠ‚ about <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/16.html" class="sidebar-item" aria-label="ç¬¬16èŠ‚ sealer code"><!--[--><!--]--> ç¬¬16èŠ‚ sealer code <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/17.html" class="sidebar-item" aria-label="ç¬¬17èŠ‚ è§„èŒƒ"><!--[--><!--]--> ç¬¬17èŠ‚ è§„èŒƒ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/18.html" class="sidebar-item" aria-label="ç¬¬18èŠ‚ åè¯è§£é‡Š"><!--[--><!--]--> ç¬¬18èŠ‚ åè¯è§£é‡Š <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/19.html" class="sidebar-item" aria-label="ç¬¬19èŠ‚ sealos éƒ¨ç½² k3s"><!--[--><!--]--> ç¬¬19èŠ‚ sealos éƒ¨ç½² k3s <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/20.html" class="sidebar-item" aria-label="ç¬¬20èŠ‚ æ–°ä¼šè®®æ”¹å˜basefs"><!--[--><!--]--> ç¬¬20èŠ‚ æ–°ä¼šè®®æ”¹å˜basefs <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/21.html" class="sidebar-item" aria-label="ç¬¬21èŠ‚ ç”¨äºæœ¬åœ°å®éªŒçš„å°å‹ Kubernetesï¼šk0sã€MicroK8sã€kindã€k3s å’Œ Minikube"><!--[--><!--]--> ç¬¬21èŠ‚ ç”¨äºæœ¬åœ°å®éªŒçš„å°å‹ Kubernetesï¼šk0sã€MicroK8sã€kindã€k3s å’Œ Minikube <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/22.html" class="sidebar-item" aria-label="ç¬¬22èŠ‚ sealer 1.9.1æ–°å¹´è§„åˆ’"><!--[--><!--]--> ç¬¬22èŠ‚ sealer 1.9.1æ–°å¹´è§„åˆ’ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/23.html" class="sidebar-item" aria-label="ç¬¬23èŠ‚ docker rootless"><!--[--><!--]--> ç¬¬23èŠ‚ docker rootless <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/24.html" class="sidebar-item" aria-label="ç¬¬24èŠ‚ Kubernetes rootless design"><!--[--><!--]--> ç¬¬24èŠ‚ Kubernetes rootless design <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/25.html" class="sidebar-item" aria-label="ç¬¬25èŠ‚ Buildah / podman ä»¥åŠåœ¨ rootless æ¨¡å¼ä¸‹å·¥ä½œåŸç†"><!--[--><!--]--> ç¬¬25èŠ‚ Buildah / podman ä»¥åŠåœ¨ rootless æ¨¡å¼ä¸‹å·¥ä½œåŸç† <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/26.html" class="sidebar-item" aria-label="ç¬¬26èŠ‚ OCIï¼ŒCRIï¼Œruncï¼Œcontainerdï¼Œcri-containerdï¼Œdockershimç­‰ç»„ä»¶è§£é‡Š"><!--[--><!--]--> ç¬¬26èŠ‚ OCIï¼ŒCRIï¼Œruncï¼Œcontainerdï¼Œcri-containerdï¼Œdockershimç­‰ç»„ä»¶è§£é‡Š <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/27.html" class="sidebar-item" aria-label="ç¬¬27èŠ‚ unshare å’Œ newuidmap"><!--[--><!--]--> ç¬¬27èŠ‚ unshare å’Œ newuidmap <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/28.html" class="sidebar-item" aria-label="ç¬¬28èŠ‚ sudo rootless"><!--[--><!--]--> ç¬¬28èŠ‚ sudo rootless <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/29.html" class="sidebar-item" aria-label="ç¬¬29èŠ‚ Feat/support nvidia docker and nonroot #2048"><!--[--><!--]--> ç¬¬29èŠ‚ Feat/support nvidia docker and nonroot #2048 <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/30.html" class="sidebar-item" aria-label="ç¬¬30èŠ‚  localRegistry&#39;s info into a secret in namespace kube-system #2056"><!--[--><!--]--> ç¬¬30èŠ‚  localRegistry&#39;s info into a secret in namespace kube-system #2056 <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/31.html" class="sidebar-item" aria-label="ç¬¬31èŠ‚ horizon"><!--[--><!--]--> ç¬¬31èŠ‚ horizon <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/32.html" class="sidebar-item" aria-label="ç¬¬32èŠ‚ horizon issues #46"><!--[--><!--]--> ç¬¬32èŠ‚ horizon issues #46 <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/33.html" class="sidebar-item" aria-label="ç¬¬33èŠ‚ sealos PR"><!--[--><!--]--> ç¬¬33èŠ‚ sealos PR <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/34.html" class="sidebar-item" aria-label="ç¬¬34èŠ‚ localregistry save Kubernetes secret"><!--[--><!--]--> ç¬¬34èŠ‚ localregistry save Kubernetes secret <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/35.html" class="sidebar-item" aria-label="ç¬¬35èŠ‚ å­¦ä¹ ã€åŠ å…¥å¼€æºçš„é˜¶æ®µæ€§"><!--[--><!--]--> ç¬¬35èŠ‚ å­¦ä¹ ã€åŠ å…¥å¼€æºçš„é˜¶æ®µæ€§ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/36.html" class="sidebar-item" aria-label="ç¬¬36èŠ‚ Feature Request: Local Installation with k3s Support for HorizonCD"><!--[--><!--]--> ç¬¬36èŠ‚ Feature Request: Local Installation with k3s Support for HorizonCD <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/37.html" class="sidebar-item" aria-label="ç¬¬37èŠ‚ sealos question"><!--[--><!--]--> ç¬¬37èŠ‚ sealos question <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/38.html" class="sidebar-item" aria-label="ç¬¬38èŠ‚ RFC: Sealer é—®é¢˜ææ¡ˆ(ä¸­è‹±æ–‡)"><!--[--><!--]--> ç¬¬38èŠ‚ RFC: Sealer é—®é¢˜ææ¡ˆ(ä¸­è‹±æ–‡) <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/39.html" class="sidebar-item" aria-label="ç¬¬39èŠ‚ Update containers vendor æ›´æ–°å®¹å™¨ä¾›åº”å•†"><!--[--><!--]--> ç¬¬39èŠ‚ Update containers vendor æ›´æ–°å®¹å™¨ä¾›åº”å•† <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/40.html" class="sidebar-item" aria-label="ç¬¬40èŠ‚ é€Ÿè¯» sealos æºç "><!--[--><!--]--> ç¬¬40èŠ‚ é€Ÿè¯» sealos æºç  <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/41.html" class="sidebar-item" aria-label="ç¬¬41èŠ‚ é€Ÿè¯» horizon æºç ï¼Œæ ¸å¿ƒè®¾è®¡æ€æƒ³"><!--[--><!--]--> ç¬¬41èŠ‚ é€Ÿè¯» horizon æºç ï¼Œæ ¸å¿ƒè®¾è®¡æ€æƒ³ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/42.html" class="sidebar-item" aria-label="ç¬¬42èŠ‚ RFC: å¯¹ horizon å·¥ç¨‹å’Œä»£ç ç»†èŠ‚ä¸Šéƒ¨åˆ†æ”¹è¿›ç­–ç•¥"><!--[--><!--]--> ç¬¬42èŠ‚ RFC: å¯¹ horizon å·¥ç¨‹å’Œä»£ç ç»†èŠ‚ä¸Šéƒ¨åˆ†æ”¹è¿›ç­–ç•¥ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/43.html" class="sidebar-item" aria-label="ç¬¬43èŠ‚ k8sgpt Kubernetes SREè¶…èƒ½åŠ›"><!--[--><!--]--> ç¬¬43èŠ‚ k8sgpt Kubernetes SREè¶…èƒ½åŠ› <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/44.html" class="sidebar-item" aria-label="ç¬¬44èŠ‚ OpenIM first meeting source code"><!--[--><!--]--> ç¬¬44èŠ‚ OpenIM first meeting source code <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/45.html" class="sidebar-item" aria-label="ç¬¬45èŠ‚ OpenMI å‘æ¶ˆæ¯çš„æ—¶å€™åšäº†ä»€ä¹ˆ"><!--[--><!--]--> ç¬¬45èŠ‚ OpenMI å‘æ¶ˆæ¯çš„æ—¶å€™åšäº†ä»€ä¹ˆ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/46.html" class="sidebar-item" aria-label="ç¬¬46èŠ‚ RFCï¼šUser interface design"><!--[--><!--]--> ç¬¬46èŠ‚ RFCï¼šUser interface design <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/47.html" class="sidebar-item" aria-label="ç¬¬47èŠ‚ã€RFC101ã€‘A series of plans before refactoring"><!--[--><!--]--> ç¬¬47èŠ‚ã€RFC101ã€‘A series of plans before refactoring <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/48.html" class="sidebar-item" aria-label="ç¬¬48èŠ‚ Contributing to {name}"><!--[--><!--]--> ç¬¬48èŠ‚ Contributing to {name} <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/49.html" class="sidebar-item" aria-label="ç¬¬49èŠ‚ åœ¨ Sealos ä¸Šå¼€å‘ä¸€æ¬¾ AI è‡ªåŠ¨äº‘åŸç”ŸåŒ–é¡¹ç›®è‡ªåŠ¨ä¸Šçº¿å·¥å…·"><!--[--><!--]--> ç¬¬49èŠ‚ åœ¨ Sealos ä¸Šå¼€å‘ä¸€æ¬¾ AI è‡ªåŠ¨äº‘åŸç”ŸåŒ–é¡¹ç›®è‡ªåŠ¨ä¸Šçº¿å·¥å…· <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/50.html" class="sidebar-item" aria-label="ç¬¬50èŠ‚ å¦‚ä½•å®‰è£…å’Œä½¿ç”¨è‡ªä¸»äººå·¥æ™ºèƒ½å·¥å…·Auto-GPT"><!--[--><!--]--> ç¬¬50èŠ‚ å¦‚ä½•å®‰è£…å’Œä½¿ç”¨è‡ªä¸»äººå·¥æ™ºèƒ½å·¥å…·Auto-GPT <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/51.html" class="sidebar-item" aria-label="ç¬¬51èŠ‚ k8sgpt"><!--[--><!--]--> ç¬¬51èŠ‚ k8sgpt <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/52.html" class="sidebar-item" aria-label="ç¬¬52èŠ‚ community ç¼–å†™æŒ‡å—"><!--[--><!--]--> ç¬¬52èŠ‚ community ç¼–å†™æŒ‡å— <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/53.html" class="sidebar-item" aria-label="ç¬¬53èŠ‚ CloudBuildAI"><!--[--><!--]--> ç¬¬53èŠ‚ CloudBuildAI <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/54.html" class="sidebar-item" aria-label="ç¬¬54èŠ‚ OpenIM é‡æ„ç¡®å®šåè®®"><!--[--><!--]--> ç¬¬54èŠ‚ OpenIM é‡æ„ç¡®å®šåè®® <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/55.html" class="sidebar-item" aria-label="ç¬¬55èŠ‚ RFC æ¨¡æ¿è®¾è®¡ 0000-template.md"><!--[--><!--]--> ç¬¬55èŠ‚ RFC æ¨¡æ¿è®¾è®¡ 0000-template.md <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/56.html" class="sidebar-item" aria-label="ç¬¬56èŠ‚ adopters"><!--[--><!--]--> ç¬¬56èŠ‚ adopters <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/57.html" class="sidebar-item" aria-label="ç¬¬57èŠ‚ ææ¡ˆ sealer æ„å»ºå·¥ç¨‹è®¾è®¡"><!--[--><!--]--> ç¬¬57èŠ‚ ææ¡ˆ sealer æ„å»ºå·¥ç¨‹è®¾è®¡ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/58.html" class="sidebar-item" aria-label="ç¬¬58èŠ‚ lychee å®ç° docs æ£€æŸ¥"><!--[--><!--]--> ç¬¬58èŠ‚ lychee å®ç° docs æ£€æŸ¥ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/59.html" class="sidebar-item" aria-label="ç¬¬59èŠ‚ [RFC #0001] OpenIMSDK cicd robot machine proposal"><!--[--><!--]--> ç¬¬59èŠ‚ [RFC #0001] OpenIMSDK cicd robot machine proposal <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/60.html" class="sidebar-item" aria-label="ç¬¬60èŠ‚ é«˜çº§çš„ Githook è®¾è®¡"><!--[--><!--]--> ç¬¬60èŠ‚ é«˜çº§çš„ Githook è®¾è®¡ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/61.html" class="sidebar-item" aria-label="ç¬¬61èŠ‚ release è®¾è®¡ä¸å®ç°"><!--[--><!--]--> ç¬¬61èŠ‚ release è®¾è®¡ä¸å®ç° <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/62.html" class="sidebar-item" aria-label="ç¬¬62èŠ‚ å¯¹æ—¥å¿—çš„å¤„ç† â€” è‡ªåŠ¨ç”Ÿæˆ CHANGELOG"><!--[--><!--]--> ç¬¬62èŠ‚ å¯¹æ—¥å¿—çš„å¤„ç† â€” è‡ªåŠ¨ç”Ÿæˆ CHANGELOG <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/63.html" class="sidebar-item" aria-label="ç¬¬63èŠ‚ README æ¨¡æ¿å’Œè®¾è®¡"><!--[--><!--]--> ç¬¬63èŠ‚ README æ¨¡æ¿å’Œè®¾è®¡ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/64.html" class="sidebar-item" aria-label="ç¬¬64èŠ‚ automation: ä¸ºé£ä¹¦æ–‡æ¡£åˆ¶ä½œåå°"><!--[--><!--]--> ç¬¬64èŠ‚ automation: ä¸ºé£ä¹¦æ–‡æ¡£åˆ¶ä½œåå° <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/65.html" class="sidebar-item" aria-label="ç¬¬65èŠ‚ slack API å¼€å‘"><!--[--><!--]--> ç¬¬65èŠ‚ slack API å¼€å‘ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/66.html" class="sidebar-item" aria-label="ç¬¬66èŠ‚"><!--[--><!--]--> ç¬¬66èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/67.html" class="sidebar-item" aria-label="ç¬¬67èŠ‚"><!--[--><!--]--> ç¬¬67èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/68.html" class="sidebar-item" aria-label="ç¬¬68èŠ‚"><!--[--><!--]--> ç¬¬68èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/69.html" class="sidebar-item" aria-label="ç¬¬69èŠ‚"><!--[--><!--]--> ç¬¬69èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/70.html" class="sidebar-item" aria-label="ç¬¬70èŠ‚"><!--[--><!--]--> ç¬¬70èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/71.html" class="sidebar-item" aria-label="ç¬¬71èŠ‚"><!--[--><!--]--> ç¬¬71èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/72.html" class="sidebar-item" aria-label="ç¬¬72èŠ‚"><!--[--><!--]--> ç¬¬72èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/73.html" class="sidebar-item" aria-label="ç¬¬73èŠ‚"><!--[--><!--]--> ç¬¬73èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/74.html" class="sidebar-item" aria-label="ç¬¬74èŠ‚"><!--[--><!--]--> ç¬¬74èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/75.html" class="sidebar-item" aria-label="ç¬¬75èŠ‚"><!--[--><!--]--> ç¬¬75èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/76.html" class="sidebar-item" aria-label="ç¬¬76èŠ‚"><!--[--><!--]--> ç¬¬76èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/77.html" class="sidebar-item" aria-label="ç¬¬77èŠ‚"><!--[--><!--]--> ç¬¬77èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/78.html" class="sidebar-item" aria-label="ç¬¬78èŠ‚"><!--[--><!--]--> ç¬¬78èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/79.html" class="sidebar-item" aria-label="ç¬¬79èŠ‚"><!--[--><!--]--> ç¬¬79èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/80.html" class="sidebar-item" aria-label="ç¬¬80èŠ‚"><!--[--><!--]--> ç¬¬80èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/81.html" class="sidebar-item" aria-label="ç¬¬81èŠ‚"><!--[--><!--]--> ç¬¬81èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/82.html" class="sidebar-item" aria-label="ç¬¬82èŠ‚"><!--[--><!--]--> ç¬¬82èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/83.html" class="sidebar-item" aria-label="ç¬¬83èŠ‚"><!--[--><!--]--> ç¬¬83èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/84.html" class="sidebar-item" aria-label="ç¬¬84èŠ‚"><!--[--><!--]--> ç¬¬84èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/85.html" class="sidebar-item" aria-label="ç¬¬85èŠ‚"><!--[--><!--]--> ç¬¬85èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/86.html" class="sidebar-item" aria-label="ç¬¬86èŠ‚"><!--[--><!--]--> ç¬¬86èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/87.html" class="sidebar-item" aria-label="ç¬¬87èŠ‚"><!--[--><!--]--> ç¬¬87èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/88.html" class="sidebar-item" aria-label="ç¬¬88èŠ‚"><!--[--><!--]--> ç¬¬88èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/89.html" class="sidebar-item" aria-label="ç¬¬89èŠ‚"><!--[--><!--]--> ç¬¬89èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/90.html" class="sidebar-item" aria-label="ç¬¬90èŠ‚"><!--[--><!--]--> ç¬¬90èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/91.html" class="sidebar-item" aria-label="ç¬¬91èŠ‚"><!--[--><!--]--> ç¬¬91èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/92.html" class="sidebar-item" aria-label="ç¬¬92èŠ‚"><!--[--><!--]--> ç¬¬92èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/93.html" class="sidebar-item" aria-label="ç¬¬93èŠ‚"><!--[--><!--]--> ç¬¬93èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/94.html" class="sidebar-item" aria-label="ç¬¬94èŠ‚"><!--[--><!--]--> ç¬¬94èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/95.html" class="sidebar-item" aria-label="ç¬¬95èŠ‚"><!--[--><!--]--> ç¬¬95èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/96.html" class="sidebar-item" aria-label="ç¬¬96èŠ‚"><!--[--><!--]--> ç¬¬96èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/97.html" class="sidebar-item" aria-label="ç¬¬97èŠ‚"><!--[--><!--]--> ç¬¬97èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/98.html" class="sidebar-item" aria-label="ç¬¬98èŠ‚"><!--[--><!--]--> ç¬¬98èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/99.html" class="sidebar-item" aria-label="ç¬¬99èŠ‚"><!--[--><!--]--> ç¬¬99èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/100.md" class="sidebar-item" aria-label="100.md"><!--[--><!--]--> 100.md <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><ul><li><a href="http://nsddd.top" target="_blank" rel="noopener noreferrer">author<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h1 id="ç¬¬13èŠ‚-go-context-ä¸Šä¸‹æ–‡" tabindex="-1"><a class="header-anchor" href="#ç¬¬13èŠ‚-go-context-ä¸Šä¸‹æ–‡" aria-hidden="true">#</a> ç¬¬13èŠ‚ go context ä¸Šä¸‹æ–‡</h1><div><a href="12.md" style="float:left;">â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”— </a><a href="14.md" style="float:right;"> â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div><br><blockquote><p>â¤ï¸ğŸ’•ğŸ’•è®°å½•<a href="https://github.com/3293172751/sealos" target="_blank" rel="noopener noreferrer">sealos<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>å¼€æºé¡¹ç›®çš„å­¦ä¹ è¿‡ç¨‹ã€‚<a href="https://github.com/3293172751/sealos" target="_blank" rel="noopener noreferrer">k8s,dockerå’Œäº‘åŸç”Ÿçš„å­¦ä¹ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚Myblog:<a href="http://nsddd.top/" target="_blank" rel="noopener noreferrer">http://nsddd.top<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><hr><p>[TOC]</p><h2 id="context" tabindex="-1"><a class="header-anchor" href="#context" aria-hidden="true">#</a> context</h2><p>é’ˆå¯¹é¡¹ç›®ä¸­è¿›ç¨‹å‡ºç°çš„ context å­¦ä¹ </p><div class="custom-container tip"><p class="custom-container-title">å‚è€ƒ</p><ul><li><p>https://segmentfault.com/a/1190000040917752</p></li><li><p>https://zhuanlan.zhihu.com/p/68792989</p></li></ul></div><div class="custom-container warning"><p class="custom-container-title">æ§åˆ¶å¹¶å‘çš„æ–¹å¼</p><p>æ§åˆ¶å¹¶å‘çš„æ–¹å¼æœ‰ä¸¤ç§ï¼š</p><ol><li>WaitGroup</li><li>context</li></ol></div><p>context ä¸»è¦ç”¨æ¥åœ¨ goroutine ä¹‹é—´ä¼ é€’ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼šå–æ¶ˆä¿¡å·ã€è¶…æ—¶æ—¶é—´ã€æˆªæ­¢æ—¶é—´ã€k-v ç­‰ã€‚</p><p>éšç€ context åŒ…çš„å¼•å…¥ï¼Œæ ‡å‡†åº“ä¸­å¾ˆå¤šæ¥å£å› æ­¤åŠ ä¸Šäº† context å‚æ•°ï¼Œä¾‹å¦‚ database/sql åŒ…ã€‚context å‡ ä¹æˆä¸ºäº†å¹¶å‘æ§åˆ¶å’Œè¶…æ—¶æ§åˆ¶çš„æ ‡å‡†åšæ³•ã€‚</p><h2 id="æˆ‘ä»¬éœ€è¦å®ƒ" tabindex="-1"><a class="header-anchor" href="#æˆ‘ä»¬éœ€è¦å®ƒ" aria-hidden="true">#</a> æˆ‘ä»¬éœ€è¦å®ƒ</h2><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p>WaitGroup å¾ˆå®¹æ˜“å®ç°ï¼Œæˆ‘ä»¬ä¸¤ä¸ªåç¨‹éœ€è¦æ§åˆ¶ä¸€ä¸ªåç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œå†æ‰§è¡Œå¦ä¸€ä¸ªåç¨‹ã€‚</p><p>ä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œæˆ‘å¯èƒ½éœ€è¦å»é€šçŸ¥è¿™ä¸ª job å»åœæ­¢ï¼Œéœ€è¦ä¸»åŠ¨é€šçŸ¥åœæ­¢ï¼Ÿ</p><p>å¾ˆå®¹æ˜“æƒ³åˆ° <a href="https://go.nsddd.top/markdown/19.html" target="_blank" rel="noopener noreferrer">Channel (channel + select)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> è§£å†³é—®é¢˜ã€‚</p><p>ä½†æ˜¯æˆ‘ä»¬å¯ä»¥æƒ³åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæˆ‘ä»¬æœ‰å¤šä¸ª goroutine ï¼Œæˆ–è€… goroutine ä¸­æœ‰ goruntime æˆ‘ä»¬è¯¥æ€ä¹ˆæ ·å»è§£å†³é—®é¢˜ï¼Ÿ</p><p>âš¡ ä½¿ç”¨ context</p></div><p>æˆ‘ä»¬åœ¨ä¹‹å‰çš„ å„ä¸ªåç¨‹ï¼ˆå‡½æ•°ï¼‰è¿”å›ä¸­çŸ¥é“äº†ï¼Œåç¨‹å¯ä»¥åµŒå¥—ï¼Œç”šè‡³å¯ä»¥ä¸æ–­è°ƒç”¨ä¸‹å»ã€‚</p><p>context æˆ–è®¸å¯ä»¥ç­‰å¾…ä¸€ä¸ªæ—¶é—´ï¼Œä¸€æ®µæ—¶é—´åæ— è®ºæœ‰å¤šå°‘åç¨‹ï¼Œç»Ÿç»Ÿç»“æŸæ‰ã€‚</p><p><strong>ç¬¬ä¸€å±‚è¶…æ—¶ï¼Œåé¢å…¨éƒ¨è¶…æ—¶</strong></p><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p><code>context</code>å¯ä»¥ç”¨æ¥åœ¨<code>goroutine</code>ä¹‹é—´ä¼ é€’ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œç›¸åŒçš„<code>context</code>å¯ä»¥ä¼ é€’ç»™è¿è¡Œåœ¨ä¸åŒ<code>goroutine</code>ä¸­çš„å‡½æ•°ï¼Œä¸Šä¸‹æ–‡å¯¹äºå¤šä¸ª<code>goroutine</code>åŒæ—¶ä½¿ç”¨æ˜¯å®‰å…¨çš„ï¼Œ<code>context</code>åŒ…å®šä¹‰äº†ä¸Šä¸‹æ–‡ç±»å‹ï¼Œå¯ä»¥ä½¿ç”¨<code>background</code>ã€<code>TODO</code>åˆ›å»ºä¸€ä¸ªä¸Šä¸‹æ–‡ï¼Œåœ¨å‡½æ•°è°ƒç”¨é“¾ä¹‹é—´ä¼ æ’­<code>context</code>ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>WithDeadline</code>ã€<code>WithTimeout</code>ã€<code>WithCancel</code> æˆ– <code>WithValue</code> åˆ›å»ºçš„ä¿®æ”¹å‰¯æœ¬æ›¿æ¢å®ƒï¼Œå¬èµ·æ¥æœ‰ç‚¹ç»•ï¼Œå…¶å®æ€»ç»“èµ·å°±æ˜¯ä¸€å¥è¯ï¼š<code>context</code>çš„ä½œç”¨å°±æ˜¯åœ¨ä¸åŒçš„<code>goroutine</code>ä¹‹é—´åŒæ­¥è¯·æ±‚ç‰¹å®šçš„æ•°æ®ã€å–æ¶ˆä¿¡å·ä»¥åŠå¤„ç†è¯·æ±‚çš„æˆªæ­¢æ—¥æœŸã€‚</p><p>ç›®å‰æˆ‘ä»¬å¸¸ç”¨çš„ä¸€äº›åº“éƒ½æ˜¯æ”¯æŒ<code>context</code>çš„ï¼Œä¾‹å¦‚<code>gin</code>ã€<code>database/sql</code>ç­‰åº“éƒ½æ˜¯æ”¯æŒ<code>context</code>çš„ï¼Œè¿™æ ·æ›´æ–¹ä¾¿æˆ‘ä»¬åšå¹¶å‘æ§åˆ¶äº†ï¼Œåªè¦åœ¨æœåŠ¡å™¨å…¥å£åˆ›å»ºä¸€ä¸ª<code>context</code>ä¸Šä¸‹æ–‡ï¼Œä¸æ–­é€ä¼ ä¸‹å»å³å¯ã€‚</p></div><h2 id="å®ƒå’Œ-select-å¤šè·¯å¤ç”¨" tabindex="-1"><a class="header-anchor" href="#å®ƒå’Œ-select-å¤šè·¯å¤ç”¨" aria-hidden="true">#</a> å®ƒå’Œ select å¤šè·¯å¤ç”¨</h2><p>æ„Ÿè§‰ä¸¤è€…å·®è·ä¸å¤§ï¼š</p><p>selectå¤šè·¯å¤ç”¨</p><p>åœ¨æˆ‘ä»¬å®é™…å¼€å‘ä¸­ï¼Œå¯èƒ½ä¸å¥½ç¡®å®šä»€ä¹ˆæ—¶å€™å…³é—­è¯¥ç®¡é“ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±ä¸èƒ½ç”¨closeï¼Œå¯ä»¥ä½¿ç”¨selectè§£å†³æ–¹æ³•</p><p><strong>æ³¨æ„ï¼šä½¿ç”¨å¤šè·¯å¤ç”¨çš„æ—¶å€™ä¸éœ€è¦å…³é—­<code>chan</code></strong></p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">select</span><span class="token punctuation">{</span>
	<span class="token keyword">case</span> v<span class="token operator">:=</span> <span class="token operator">&lt;-</span>ç®¡é“
	<span class="token operator">...</span><span class="token punctuation">.</span>
	<span class="token keyword">default</span><span class="token punctuation">:</span>
	è¯­å¥
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ç²—ç³™ç‰ˆçš„é€€å‡ºç­–ç•¥ï¼š</strong></p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">worker</span><span class="token punctuation">(</span>channel <span class="token keyword">chan</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">{</span>
        <span class="token keyword">select</span> <span class="token punctuation">{</span>
        <span class="token keyword">default</span><span class="token punctuation">:</span>
            fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;hello world!&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">case</span> <span class="token operator">&lt;-</span>channel<span class="token punctuation">:</span>
			<span class="token keyword">return</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    channel <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">bool</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
        <span class="token keyword">go</span> <span class="token function">worker</span><span class="token punctuation">(</span>channel<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
    <span class="token function">close</span><span class="token punctuation">(</span>channel<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="custom-container warning"><p class="custom-container-title">é—®é¢˜</p><p>å½“ main ä¸­çš„ close å‡½æ•°æ‰§è¡Œå…³é—­ä¿¡é“åï¼Œåœ¨æçŸ­æ—¶é—´å†…ï¼Œå¯èƒ½ä¼šæœ‰ä¸€éƒ¨åˆ†åç¨‹å®Œæˆäº†ã€‚</p><p>åŠ é”è§£å†³ï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">worker</span><span class="token punctuation">(</span>wg <span class="token operator">*</span>sync<span class="token punctuation">.</span>WaitGroup<span class="token punctuation">,</span> channel <span class="token keyword">chan</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">defer</span> wg<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> <span class="token punctuation">{</span>
        <span class="token keyword">select</span> <span class="token punctuation">{</span>
        <span class="token keyword">default</span><span class="token punctuation">:</span>
            fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;hello world!&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">case</span> <span class="token operator">&lt;-</span> channel<span class="token punctuation">:</span>
            <span class="token keyword">return</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    channel <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token builtin">bool</span><span class="token punctuation">)</span>

    <span class="token keyword">var</span> wg sync<span class="token punctuation">.</span>WaitGroup
    <span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">{</span>
        wg<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
        <span class="token keyword">go</span> <span class="token function">worker</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>wg<span class="token punctuation">,</span> channel<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
    <span class="token function">close</span><span class="token punctuation">(</span>channel<span class="token punctuation">)</span>
    wg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å½“æˆ‘ä»¬ä½¿ç”¨äº† sync.WaitGroup å‡½æ•°å°±å¯ä»¥ä¿è¯å½“æ‰€æœ‰åç¨‹éƒ½å®Œæˆäº† wg.Done å³æ‰€æœ‰åç¨‹éƒ½è¢«å…³é—­å wg.Wait æ‰ä¼šè¢«æ”¾è¡Œ ä¹Ÿå°±æ˜¯è¯´å½“ä¿¡é“è¢« close åï¼Œä¼šè¢«å¡åœ¨ wg.Waitï¼Œwg.Wait å‡½æ•°ä¼šç­‰åˆ°æ‰€æœ‰åç¨‹çš„ wg.Done éƒ½è¢«æ‰§è¡Œå(æ‰€æœ‰åç¨‹éƒ½è¢«å…³é—­å)æ‰ä¼šæ”¾è¡Œ wg.Waitï¼Œè¿™æ ·ä¹Ÿå°±å®Œç¾è§£å†³äº†ä½¿ç”¨ select å’Œ close å½“ä¸»åç¨‹ main å…³é—­å‰è®©æ‰€æœ‰çš„åç¨‹éƒ½å®‰å…¨çš„é€€å‡ºçš„é—®é¢˜ã€‚</p></blockquote></div><p>å¾ˆä¸å¥½è§£å†³ä¸€ä¸ªè¯·æ±‚è¡ç”Ÿäº†å¾ˆå¤šåç¨‹ï¼Œè¿™äº›åç¨‹ä¹‹é—´æ˜¯ç›¸äº’å…³è”çš„ï¼šéœ€è¦å…±äº«ä¸€äº›å…¨å±€å˜é‡ã€æœ‰å…±åŒçš„ deadline ç­‰ï¼Œè€Œä¸”å¯ä»¥åŒæ—¶è¢«å…³é—­ã€‚å†ç”¨ <code>channel+select</code> å°±ä¼šæ¯”è¾ƒéº»çƒ¦ï¼Œè¿™æ—¶å°±å¯ä»¥é€šè¿‡ context æ¥å®ç°ã€‚</p><div class="custom-container tip"><p class="custom-container-title">æç¤º</p><p>context ç”¨æ¥è§£å†³ goroutine ä¹‹é—´<code>é€€å‡ºé€šçŸ¥</code>ã€<code>å…ƒæ•°æ®ä¼ é€’</code>çš„åŠŸèƒ½ã€‚</p></div><h2 id="åˆ›å»ºcontext" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºcontext" aria-hidden="true">#</a> åˆ›å»º<code>context</code></h2><p><code>context</code>åŒ…ä¸»è¦æä¾›äº†ä¸¤ç§æ–¹å¼åˆ›å»º<code>context</code>:</p><ul><li><code>context.Backgroud()</code></li><li><code>context.TODO()</code></li></ul><p>è¿™ä¸¤ä¸ªå‡½æ•°å…¶å®åªæ˜¯äº’ä¸ºåˆ«åï¼Œæ²¡æœ‰å·®åˆ«ï¼Œå®˜æ–¹ç»™çš„å®šä¹‰æ˜¯ï¼š</p><ul><li><code>context.Background</code> æ˜¯ä¸Šä¸‹æ–‡çš„é»˜è®¤å€¼ï¼Œæ‰€æœ‰å…¶ä»–çš„ä¸Šä¸‹æ–‡éƒ½åº”è¯¥ä»å®ƒè¡ç”Ÿï¼ˆDerivedï¼‰å‡ºæ¥(æœ€ä¸Šå±‚çš„ï¼‰ã€‚</li><li><code>context.TODO</code> åº”è¯¥åªåœ¨ä¸ç¡®å®šåº”è¯¥ä½¿ç”¨å“ªç§ä¸Šä¸‹æ–‡æ—¶ä½¿ç”¨ï¼›</li></ul><p>ä¸Šé¢çš„ä¸¤ç§æ–¹å¼æ˜¯åˆ›å»ºæ ¹<code>context</code>ï¼Œä¸å…·å¤‡ä»»ä½•åŠŸèƒ½ï¼Œå…·ä½“å®è·µè¿˜æ˜¯è¦ä¾é <code>context</code>åŒ…æä¾›çš„<code>With</code>ç³»åˆ—å‡½æ•°æ¥è¿›è¡Œæ´¾ç”Ÿï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">WithCancel</span><span class="token punctuation">(</span>parent Context<span class="token punctuation">)</span> <span class="token punctuation">(</span>ctx Context<span class="token punctuation">,</span> cancel CancelFunc<span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function">WithDeadline</span><span class="token punctuation">(</span>parent Context<span class="token punctuation">,</span> deadline time<span class="token punctuation">.</span>Time<span class="token punctuation">)</span> <span class="token punctuation">(</span>Context<span class="token punctuation">,</span> CancelFunc<span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function">WithTimeout</span><span class="token punctuation">(</span>parent Context<span class="token punctuation">,</span> timeout time<span class="token punctuation">.</span>Duration<span class="token punctuation">)</span> <span class="token punctuation">(</span>Context<span class="token punctuation">,</span> CancelFunc<span class="token punctuation">)</span>
<span class="token keyword">func</span> <span class="token function">WithValue</span><span class="token punctuation">(</span>parent Context<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> Context
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æºç " tabindex="-1"><a class="header-anchor" href="#æºç " aria-hidden="true">#</a> æºç </h2><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> Context <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token comment">// å½“ context è¢«å–æ¶ˆæˆ–è€…åˆ°äº† deadlineï¼Œè¿”å›ä¸€ä¸ªè¢«å…³é—­çš„ channel</span>
    <span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token comment">// åœ¨ channel Done å…³é—­åï¼Œè¿”å› context å–æ¶ˆåŸå› </span>
    <span class="token function">Err</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span>

    <span class="token comment">// è¿”å› context æ˜¯å¦ä¼šè¢«å–æ¶ˆä»¥åŠè‡ªåŠ¨å–æ¶ˆæ—¶é—´ï¼ˆå³ deadlineï¼‰</span>
    <span class="token function">Deadline</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>deadline time<span class="token punctuation">.</span>Time<span class="token punctuation">,</span> ok <span class="token builtin">bool</span><span class="token punctuation">)</span>

    <span class="token comment">// è·å– key å¯¹åº”çš„ value</span>
    <span class="token function">Value</span><span class="token punctuation">(</span>key <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Context</code> æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå®šä¹‰äº† 4 ä¸ªæ–¹æ³•ï¼Œå®ƒä»¬éƒ½æ˜¯<code>å¹‚ç­‰</code>çš„ã€‚ä¹Ÿå°±æ˜¯è¯´è¿ç»­å¤šæ¬¡è°ƒç”¨åŒä¸€ä¸ªæ–¹æ³•ï¼Œå¾—åˆ°çš„ç»“æœéƒ½æ˜¯ç›¸åŒçš„ã€‚</p><ul><li><code>Done()</code> è¿”å›ä¸€ä¸ª channelï¼Œå¯ä»¥è¡¨ç¤º context è¢«å–æ¶ˆçš„ä¿¡å·ï¼šå½“è¿™ä¸ª channel è¢«å…³é—­æ—¶ï¼Œè¯´æ˜ context è¢«å–æ¶ˆäº†ã€‚æ³¨æ„ï¼Œè¿™æ˜¯ä¸€ä¸ªåªè¯»çš„channelã€‚ æˆ‘ä»¬åˆçŸ¥é“ï¼Œè¯»ä¸€ä¸ªå…³é—­çš„ channel ä¼šè¯»å‡ºç›¸åº”ç±»å‹çš„é›¶å€¼ã€‚å¹¶ä¸”æºç é‡Œæ²¡æœ‰åœ°æ–¹ä¼šå‘è¿™ä¸ª channel é‡Œé¢å¡å…¥å€¼ã€‚æ¢å¥è¯è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ª <code>receive-only</code> çš„ channelã€‚å› æ­¤åœ¨å­åç¨‹é‡Œè¯»è¿™ä¸ª channelï¼Œé™¤éè¢«å…³é—­ï¼Œå¦åˆ™è¯»ä¸å‡ºæ¥ä»»ä½•ä¸œè¥¿ã€‚ä¹Ÿæ­£æ˜¯åˆ©ç”¨äº†è¿™ä¸€ç‚¹ï¼Œå­åç¨‹ä» channel é‡Œè¯»å‡ºäº†å€¼ï¼ˆé›¶å€¼ï¼‰åï¼Œå°±å¯ä»¥åšä¸€äº›æ”¶å°¾å·¥ä½œï¼Œå°½å¿«é€€å‡ºã€‚</li><li><code>Err()</code> è¿”å›ä¸€ä¸ªé”™è¯¯ï¼Œè¡¨ç¤º channel è¢«å…³é—­çš„åŸå› ã€‚ä¾‹å¦‚æ˜¯è¢«å–æ¶ˆï¼Œè¿˜æ˜¯è¶…æ—¶ã€‚</li><li><code>Deadline()</code> è¿”å› context çš„æˆªæ­¢æ—¶é—´ï¼Œé€šè¿‡æ­¤æ—¶é—´ï¼Œå‡½æ•°å°±å¯ä»¥å†³å®šæ˜¯å¦è¿›è¡Œæ¥ä¸‹æ¥çš„æ“ä½œï¼Œå¦‚æœæ—¶é—´å¤ªçŸ­ï¼Œå°±å¯ä»¥ä¸å¾€ä¸‹åšäº†ï¼Œå¦åˆ™æµªè´¹ç³»ç»Ÿèµ„æºã€‚å½“ç„¶ï¼Œä¹Ÿå¯ä»¥ç”¨è¿™ä¸ª deadline æ¥è®¾ç½®ä¸€ä¸ª I/O æ“ä½œçš„è¶…æ—¶æ—¶é—´ã€‚</li><li><code>Value()</code> è·å–ä¹‹å‰è®¾ç½®çš„ key å¯¹åº”çš„ valueã€‚</li></ul><h3 id="context-æ‰€æœ‰å‡½æ•°ã€æ¥å£å’Œç»“æ„ä½“" tabindex="-1"><a class="header-anchor" href="#context-æ‰€æœ‰å‡½æ•°ã€æ¥å£å’Œç»“æ„ä½“" aria-hidden="true">#</a> context æ‰€æœ‰å‡½æ•°ã€æ¥å£å’Œç»“æ„ä½“</h3><p><img src="http://sm.nsddd.top/smv2-6a27526f536505cea08a5813ccce05b2_b.jpg" alt="img"></p><h3 id="canceler" tabindex="-1"><a class="header-anchor" href="#canceler" aria-hidden="true">#</a> canceler</h3><p>å†æ¥çœ‹å¦å¤–ä¸€ä¸ªæ¥å£ï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> canceler <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">cancel</span><span class="token punctuation">(</span>removeFromParent <span class="token builtin">bool</span><span class="token punctuation">,</span> err <span class="token builtin">error</span><span class="token punctuation">)</span>
    <span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®ç°äº†ä¸Šé¢å®šä¹‰çš„ä¸¤ä¸ªæ–¹æ³•çš„ Contextï¼Œå°±è¡¨æ˜è¯¥ Context æ˜¯å¯å–æ¶ˆçš„ã€‚æºç ä¸­æœ‰ä¸¤ä¸ªç±»å‹å®ç°äº† canceler æ¥å£ï¼š<code>*cancelCtx</code> å’Œ <code>*timerCtx</code>ã€‚æ³¨æ„æ˜¯åŠ äº† <code>*</code> å·çš„ï¼Œæ˜¯è¿™ä¸¤ä¸ªç»“æ„ä½“çš„æŒ‡é’ˆå®ç°äº† canceler æ¥å£ã€‚</p><p>Context æ¥å£è®¾è®¡æˆè¿™ä¸ªæ ·å­çš„åŸå› ï¼š</p><ul><li>â€œ<strong>å–æ¶ˆ</strong>â€ æ“ä½œåº”è¯¥æ˜¯å»ºè®®æ€§ï¼Œè€Œéå¼ºåˆ¶æ€§</li></ul><p>caller ä¸åº”è¯¥å»å…³å¿ƒã€å¹²æ¶‰ callee çš„æƒ…å†µï¼Œå†³å®šå¦‚ä½•ä»¥åŠä½•æ—¶ return æ˜¯ callee çš„è´£ä»»ã€‚caller åªéœ€å‘é€â€œå–æ¶ˆâ€ä¿¡æ¯ï¼Œcallee æ ¹æ®æ”¶åˆ°çš„ä¿¡æ¯æ¥åšè¿›ä¸€æ­¥çš„å†³ç­–ï¼Œå› æ­¤æ¥å£å¹¶æ²¡æœ‰å®šä¹‰ cancel æ–¹æ³•ã€‚</p><ul><li>â€œ<strong>å–æ¶ˆ</strong>â€ æ“ä½œåº”è¯¥å¯ä¼ é€’</li></ul><p>â€œå–æ¶ˆâ€æŸä¸ªå‡½æ•°æ—¶ï¼Œå’Œå®ƒç›¸å…³è”çš„å…¶ä»–å‡½æ•°ä¹Ÿåº”è¯¥â€œå–æ¶ˆâ€ã€‚å› æ­¤ï¼Œ<code>Done()</code> æ–¹æ³•è¿”å›ä¸€ä¸ªåªè¯»çš„ channelï¼Œæ‰€æœ‰ç›¸å…³å‡½æ•°ç›‘å¬æ­¤ channelã€‚ä¸€æ—¦ channel å…³é—­ï¼Œé€šè¿‡ channel çš„â€œå¹¿æ’­æœºåˆ¶â€ï¼Œæ‰€æœ‰ç›‘å¬è€…éƒ½èƒ½æ”¶åˆ°ã€‚</p><h2 id="ç»“æ„ä½“" tabindex="-1"><a class="header-anchor" href="#ç»“æ„ä½“" aria-hidden="true">#</a> ç»“æ„ä½“</h2><h3 id="emptyctx" tabindex="-1"><a class="header-anchor" href="#emptyctx" aria-hidden="true">#</a> emptyCtx</h3><p>æºç ä¸­å®šä¹‰äº† <code>Context</code> æ¥å£åï¼Œå¹¶ä¸”ç»™å‡ºäº†ä¸€ä¸ªå®ç°ï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> emptyCtx <span class="token builtin">int</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span><span class="token operator">*</span>emptyCtx<span class="token punctuation">)</span> <span class="token function">Deadline</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>deadline time<span class="token punctuation">.</span>Time<span class="token punctuation">,</span> ok <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span><span class="token operator">*</span>emptyCtx<span class="token punctuation">)</span> <span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span><span class="token operator">*</span>emptyCtx<span class="token punctuation">)</span> <span class="token function">Err</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span><span class="token operator">*</span>emptyCtx<span class="token punctuation">)</span> <span class="token function">Value</span><span class="token punctuation">(</span>key <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>çœ‹è¿™æ®µæºç ï¼Œéå¸¸ happyã€‚å› ä¸ºæ¯ä¸ªå‡½æ•°éƒ½å®ç°çš„å¼‚å¸¸ç®€å•ï¼Œè¦ä¹ˆæ˜¯ç›´æ¥è¿”å›ï¼Œè¦ä¹ˆæ˜¯è¿”å› nilã€‚</p><p>æ‰€ä»¥ï¼Œè¿™å®é™…ä¸Šæ˜¯ä¸€ä¸ªç©ºçš„ contextï¼Œæ°¸è¿œä¸ä¼šè¢« cancelï¼Œæ²¡æœ‰å­˜å‚¨å€¼ï¼Œä¹Ÿæ²¡æœ‰ deadlineã€‚</p><p><strong>å®ƒè¢«åŒ…è£…æˆï¼š</strong></p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">var</span> <span class="token punctuation">(</span>
    background <span class="token operator">=</span> <span class="token function">new</span><span class="token punctuation">(</span>emptyCtx<span class="token punctuation">)</span>
    todo       <span class="token operator">=</span> <span class="token function">new</span><span class="token punctuation">(</span>emptyCtx<span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡ä¸‹é¢ä¸¤ä¸ªå¯¼å‡ºçš„å‡½æ•°ï¼ˆé¦–å­—æ¯å¤§å†™ï¼‰å¯¹å¤–å…¬å¼€ï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Context <span class="token punctuation">{</span>
    <span class="token keyword">return</span> background
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">TODO</span><span class="token punctuation">(</span><span class="token punctuation">)</span> Context <span class="token punctuation">{</span>
    <span class="token keyword">return</span> todo
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>background é€šå¸¸ç”¨åœ¨ main å‡½æ•°ä¸­ï¼Œä½œä¸ºæ‰€æœ‰ context çš„æ ¹èŠ‚ç‚¹ã€‚</p><p>todo é€šå¸¸ç”¨åœ¨å¹¶ä¸çŸ¥é“ä¼ é€’ä»€ä¹ˆ contextçš„æƒ…å½¢ã€‚ä¾‹å¦‚ï¼Œè°ƒç”¨ä¸€ä¸ªéœ€è¦ä¼ é€’ context å‚æ•°çš„å‡½æ•°ï¼Œä½ æ‰‹å¤´å¹¶æ²¡æœ‰å…¶ä»– context å¯ä»¥ä¼ é€’ï¼Œè¿™æ—¶å°±å¯ä»¥ä¼ é€’ todoã€‚è¿™å¸¸å¸¸å‘ç”Ÿåœ¨é‡æ„è¿›è¡Œä¸­ï¼Œç»™ä¸€äº›å‡½æ•°æ·»åŠ äº†ä¸€ä¸ª Context å‚æ•°ï¼Œä½†ä¸çŸ¥é“è¦ä¼ ä»€ä¹ˆï¼Œå°±ç”¨ todo â€œå ä¸ªä½å­â€ï¼Œæœ€ç»ˆè¦æ¢æˆå…¶ä»– contextã€‚</p><h3 id="cancelctx" tabindex="-1"><a class="header-anchor" href="#cancelctx" aria-hidden="true">#</a> cancelCtx</h3><p>å†æ¥çœ‹ä¸€ä¸ªé‡è¦çš„ contextï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> cancelCtx <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    Context

    <span class="token comment">// ä¿æŠ¤ä¹‹åçš„å­—æ®µ</span>
    mu       sync<span class="token punctuation">.</span>Mutex
    done     <span class="token keyword">chan</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    children <span class="token keyword">map</span><span class="token punctuation">[</span>canceler<span class="token punctuation">]</span><span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    err      <span class="token builtin">error</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ˜¯ä¸ªå¯ä»¥å–æ¶ˆçš„ Contextï¼Œå®ç°äº† canceler æ¥å£ã€‚å®ƒç›´æ¥å°†æ¥å£ Context ä½œä¸ºå®ƒçš„ä¸€ä¸ªåŒ¿åå­—æ®µï¼Œè¿™æ ·ï¼Œå®ƒå°±å¯ä»¥è¢«çœ‹æˆä¸€ä¸ª Contextã€‚</p><p>å…ˆæ¥çœ‹ <code>Done()</code> æ–¹æ³•çš„å®ç°ï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>cancelCtx<span class="token punctuation">)</span> <span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;-</span><span class="token keyword">chan</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">{</span>
    c<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> c<span class="token punctuation">.</span>done <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        c<span class="token punctuation">.</span>done <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">chan</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    d <span class="token operator">:=</span> c<span class="token punctuation">.</span>done
    c<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> d
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>c.done æ˜¯â€œæ‡’æ±‰å¼â€åˆ›å»ºï¼Œåªæœ‰è°ƒç”¨äº† Done() æ–¹æ³•çš„æ—¶å€™æ‰ä¼šè¢«åˆ›å»ºã€‚å†æ¬¡è¯´æ˜ï¼Œå‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ªåªè¯»çš„ channelï¼Œè€Œä¸”æ²¡æœ‰åœ°æ–¹å‘è¿™ä¸ª channel é‡Œé¢å†™æ•°æ®ã€‚æ‰€ä»¥ï¼Œç›´æ¥è°ƒç”¨è¯»è¿™ä¸ª channelï¼Œåç¨‹ä¼šè¢« block ä½ã€‚ä¸€èˆ¬é€šè¿‡æ­é… select æ¥ä½¿ç”¨ã€‚ä¸€æ—¦å…³é—­ï¼Œå°±ä¼šç«‹å³è¯»å‡ºé›¶å€¼ã€‚</p><p><code>Err()</code> å’Œ <code>String()</code> æ–¹æ³•æ¯”è¾ƒç®€å•ï¼Œä¸å¤šè¯´ã€‚æ¨èçœ‹æºç ï¼Œéå¸¸ç®€å•ã€‚</p><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é‡ç‚¹å…³æ³¨ <code>cancel()</code> æ–¹æ³•çš„å®ç°ï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>cancelCtx<span class="token punctuation">)</span> <span class="token function">cancel</span><span class="token punctuation">(</span>removeFromParent <span class="token builtin">bool</span><span class="token punctuation">,</span> err <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å¿…é¡»è¦ä¼  err</span>
    <span class="token keyword">if</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token function">panic</span><span class="token punctuation">(</span><span class="token string">&quot;context: internal error: missing cancel error&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    c<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> c<span class="token punctuation">.</span>err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        c<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token comment">// å·²ç»è¢«å…¶ä»–åç¨‹å–æ¶ˆ</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// ç»™ err å­—æ®µèµ‹å€¼</span>
    c<span class="token punctuation">.</span>err <span class="token operator">=</span> err
    <span class="token comment">// å…³é—­ channelï¼Œé€šçŸ¥å…¶ä»–åç¨‹</span>
    <span class="token keyword">if</span> c<span class="token punctuation">.</span>done <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        c<span class="token punctuation">.</span>done <span class="token operator">=</span> closedchan
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">close</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>done<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// éå†å®ƒçš„æ‰€æœ‰å­èŠ‚ç‚¹</span>
    <span class="token keyword">for</span> child <span class="token operator">:=</span> <span class="token keyword">range</span> c<span class="token punctuation">.</span>children <span class="token punctuation">{</span>
        <span class="token comment">// é€’å½’åœ°å–æ¶ˆæ‰€æœ‰å­èŠ‚ç‚¹</span>
        child<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// å°†å­èŠ‚ç‚¹ç½®ç©º</span>
    c<span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token boolean">nil</span>
    c<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> removeFromParent <span class="token punctuation">{</span>
        <span class="token comment">// ä»çˆ¶èŠ‚ç‚¹ä¸­ç§»é™¤è‡ªå·± </span>
        <span class="token function">removeChild</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>Context<span class="token punctuation">,</span> c<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ€»ä½“æ¥çœ‹ï¼Œ<code>cancel()</code> æ–¹æ³•çš„åŠŸèƒ½å°±æ˜¯å…³é—­ channelï¼šc.doneï¼›é€’å½’åœ°å–æ¶ˆå®ƒçš„æ‰€æœ‰å­èŠ‚ç‚¹ï¼›ä»çˆ¶èŠ‚ç‚¹ä»åˆ é™¤è‡ªå·±ã€‚è¾¾åˆ°çš„æ•ˆæœæ˜¯é€šè¿‡å…³é—­ channelï¼Œå°†å–æ¶ˆä¿¡å·ä¼ é€’ç»™äº†å®ƒçš„æ‰€æœ‰å­èŠ‚ç‚¹ã€‚goroutine æ¥æ”¶åˆ°å–æ¶ˆä¿¡å·çš„æ–¹å¼å°±æ˜¯ select è¯­å¥ä¸­çš„<code>è¯» c.done</code> è¢«é€‰ä¸­ã€‚</p><p>æˆ‘ä»¬å†æ¥çœ‹åˆ›å»ºä¸€ä¸ªå¯å–æ¶ˆçš„ Context çš„æ–¹æ³•ï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">WithCancel</span><span class="token punctuation">(</span>parent Context<span class="token punctuation">)</span> <span class="token punctuation">(</span>ctx Context<span class="token punctuation">,</span> cancel CancelFunc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    c <span class="token operator">:=</span> <span class="token function">newCancelCtx</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
    <span class="token function">propagateCancel</span><span class="token punctuation">(</span>parent<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token operator">&amp;</span>c<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> c<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">,</span> Canceled<span class="token punctuation">)</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">newCancelCtx</span><span class="token punctuation">(</span>parent Context<span class="token punctuation">)</span> cancelCtx <span class="token punctuation">{</span>
    <span class="token keyword">return</span> cancelCtx<span class="token punctuation">{</span>Context<span class="token punctuation">:</span> parent<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ˜¯ä¸€ä¸ªæš´éœ²ç»™ç”¨æˆ·çš„æ–¹æ³•ï¼Œä¼ å…¥ä¸€ä¸ªçˆ¶ Contextï¼ˆè¿™é€šå¸¸æ˜¯ä¸€ä¸ª <code>background</code>ï¼Œä½œä¸ºæ ¹èŠ‚ç‚¹ï¼‰ï¼Œè¿”å›æ–°å»ºçš„ contextï¼Œæ–° context çš„ done channel æ˜¯æ–°å»ºçš„ï¼ˆå‰æ–‡è®²è¿‡ï¼‰ã€‚</p><p>å½“ WithCancel å‡½æ•°è¿”å›çš„ CancelFunc è¢«è°ƒç”¨æˆ–è€…æ˜¯çˆ¶èŠ‚ç‚¹çš„ done channel è¢«å…³é—­ï¼ˆçˆ¶èŠ‚ç‚¹çš„ CancelFunc è¢«è°ƒç”¨ï¼‰ï¼Œæ­¤ contextï¼ˆå­èŠ‚ç‚¹ï¼‰ çš„ done channel ä¹Ÿä¼šè¢«å…³é—­ã€‚</p><p>æ³¨æ„ä¼ ç»™ WithCancel æ–¹æ³•çš„å‚æ•°ï¼Œå‰è€…æ˜¯ trueï¼Œä¹Ÿå°±æ˜¯è¯´å–æ¶ˆçš„æ—¶å€™ï¼Œéœ€è¦å°†è‡ªå·±ä»çˆ¶èŠ‚ç‚¹é‡Œåˆ é™¤ã€‚ç¬¬äºŒä¸ªå‚æ•°åˆ™æ˜¯ä¸€ä¸ªå›ºå®šçš„å–æ¶ˆé”™è¯¯ç±»å‹ï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">var</span> Canceled <span class="token operator">=</span> errors<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span><span class="token string">&quot;context canceled&quot;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿˜æ³¨æ„åˆ°ä¸€ç‚¹ï¼Œè°ƒç”¨å­èŠ‚ç‚¹ cancel æ–¹æ³•çš„æ—¶å€™ï¼Œä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•° <code>removeFromParent</code> æ˜¯ falseã€‚</p><p><strong>ä¸¤ä¸ªé—®é¢˜éœ€è¦å›ç­”ï¼š</strong></p><ol><li>ä»€ä¹ˆæ—¶å€™ä¼šä¼  trueï¼Ÿ</li><li>ä¸ºä»€ä¹ˆæœ‰æ—¶ä¼  trueï¼Œæœ‰æ—¶ä¼  falseï¼Ÿ</li></ol><p>å½“ <code>removeFromParent</code> ä¸º true æ—¶ï¼Œä¼šå°†å½“å‰èŠ‚ç‚¹çš„ context ä»çˆ¶èŠ‚ç‚¹ context ä¸­åˆ é™¤ï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">removeChild</span><span class="token punctuation">(</span>parent Context<span class="token punctuation">,</span> child canceler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    p<span class="token punctuation">,</span> ok <span class="token operator">:=</span> <span class="token function">parentCancelCtx</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token operator">!</span>ok <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    p<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> p<span class="token punctuation">.</span>children <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token function">delete</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>children<span class="token punctuation">,</span> child<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    p<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ€å…³é”®çš„ä¸€è¡Œï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>delete(p.children, child)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä»€ä¹ˆæ—¶å€™ä¼šä¼  true å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è°ƒç”¨ <code>WithCancel()</code> æ–¹æ³•çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯æ–°åˆ›å»ºä¸€ä¸ªå¯å–æ¶ˆçš„ context èŠ‚ç‚¹æ—¶ï¼Œè¿”å›çš„ cancelFunc å‡½æ•°ä¼šä¼ å…¥ trueã€‚è¿™æ ·åšçš„ç»“æœæ˜¯ï¼šå½“è°ƒç”¨è¿”å›çš„ cancelFunc æ—¶ï¼Œä¼šå°†è¿™ä¸ª context ä»å®ƒçš„çˆ¶èŠ‚ç‚¹é‡Œâ€œé™¤åâ€ï¼Œå› ä¸ºçˆ¶èŠ‚ç‚¹å¯èƒ½æœ‰å¾ˆå¤šå­èŠ‚ç‚¹ï¼Œä½ è‡ªå·±å–æ¶ˆäº†ï¼Œæ‰€ä»¥æˆ‘è¦å’Œä½ æ–­ç»å…³ç³»ï¼Œå¯¹å…¶ä»–äººæ²¡å½±å“ã€‚</p><p>åœ¨å–æ¶ˆå‡½æ•°å†…éƒ¨ï¼Œæˆ‘çŸ¥é“ï¼Œæˆ‘æ‰€æœ‰çš„å­èŠ‚ç‚¹éƒ½ä¼šå› ä¸ºæˆ‘çš„ä¸€ï¼š<code>c.children = nil</code> è€ŒåŒ–ä¸ºç°çƒ¬ã€‚æˆ‘è‡ªç„¶å°±æ²¡æœ‰å¿…è¦å†å¤šåšè¿™ä¸€æ­¥ï¼Œæœ€åæˆ‘æ‰€æœ‰çš„å­èŠ‚ç‚¹éƒ½ä¼šå’Œæˆ‘æ–­ç»å…³ç³»ï¼Œæ²¡å¿…è¦ä¸€ä¸ªä¸ªåšã€‚å¦å¤–ï¼Œå¦‚æœéå†å­èŠ‚ç‚¹çš„æ—¶å€™ï¼Œè°ƒç”¨ child.cancel å‡½æ•°ä¼ äº† trueï¼Œè¿˜ä¼šé€ æˆåŒæ—¶éå†å’Œåˆ é™¤ä¸€ä¸ª map çš„å¢ƒåœ°ï¼Œä¼šæœ‰é—®é¢˜çš„ã€‚</p><p><img src="https://pic4.zhimg.com/v2-f7ea0b0baec68b718a514419636e875b_b.jpg" alt="img"></p><p>å¦‚ä¸Šå·¦å›¾ï¼Œä»£è¡¨ä¸€æ£µ <code>context</code> æ ‘ã€‚å½“è°ƒç”¨å·¦å›¾ä¸­æ ‡çº¢ context çš„ cancel æ–¹æ³•åï¼Œè¯¥ context ä»å®ƒçš„çˆ¶ context ä¸­å»é™¤æ‰äº†ï¼šå®çº¿ç®­å¤´å˜æˆäº†è™šçº¿ã€‚ä¸”è™šçº¿åœˆæ¡†å‡ºæ¥çš„ context éƒ½è¢«å–æ¶ˆäº†ï¼Œåœˆå†…çš„ context é—´çš„çˆ¶å­å…³ç³»éƒ½è¡ç„¶æ— å­˜äº†ã€‚</p><p>é‡ç‚¹çœ‹ <code>propagateCancel()</code>ï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">propagateCancel</span><span class="token punctuation">(</span>parent Context<span class="token punctuation">,</span> child canceler<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// çˆ¶èŠ‚ç‚¹æ˜¯ä¸ªç©ºèŠ‚ç‚¹</span>
    <span class="token keyword">if</span> parent<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token comment">// parent is never canceled</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// æ‰¾åˆ°å¯ä»¥å–æ¶ˆçš„çˆ¶ context</span>
    <span class="token keyword">if</span> p<span class="token punctuation">,</span> ok <span class="token operator">:=</span> <span class="token function">parentCancelCtx</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span> ok <span class="token punctuation">{</span>
        p<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Lock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> p<span class="token punctuation">.</span>err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
            <span class="token comment">// çˆ¶èŠ‚ç‚¹å·²ç»è¢«å–æ¶ˆäº†ï¼Œæœ¬èŠ‚ç‚¹ï¼ˆå­èŠ‚ç‚¹ï¼‰ä¹Ÿè¦å–æ¶ˆ</span>
            child<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> p<span class="token punctuation">.</span>err<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// çˆ¶èŠ‚ç‚¹æœªå–æ¶ˆ</span>
            <span class="token keyword">if</span> p<span class="token punctuation">.</span>children <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
                p<span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token keyword">map</span><span class="token punctuation">[</span>canceler<span class="token punctuation">]</span><span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// &quot;æŒ‚åˆ°&quot;çˆ¶èŠ‚ç‚¹ä¸Š</span>
            p<span class="token punctuation">.</span>children<span class="token punctuation">[</span>child<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">struct</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        p<span class="token punctuation">.</span>mu<span class="token punctuation">.</span><span class="token function">Unlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// å¦‚æœæ²¡æœ‰æ‰¾åˆ°å¯å–æ¶ˆçš„çˆ¶ contextã€‚æ–°å¯åŠ¨ä¸€ä¸ªåç¨‹ç›‘æ§çˆ¶èŠ‚ç‚¹æˆ–å­èŠ‚ç‚¹å–æ¶ˆä¿¡å·</span>
        <span class="token keyword">go</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">select</span> <span class="token punctuation">{</span>
            <span class="token keyword">case</span> <span class="token operator">&lt;-</span>parent<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                child<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> parent<span class="token punctuation">.</span><span class="token function">Err</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword">case</span> <span class="token operator">&lt;-</span>child<span class="token punctuation">.</span><span class="token function">Done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªæ–¹æ³•çš„ä½œç”¨å°±æ˜¯å‘ä¸Šå¯»æ‰¾å¯ä»¥â€œæŒ‚é â€çš„â€œå¯å–æ¶ˆâ€çš„ contextï¼Œå¹¶ä¸”â€œæŒ‚é â€ä¸Šå»ã€‚è¿™æ ·ï¼Œè°ƒç”¨ä¸Šå±‚ cancel æ–¹æ³•çš„æ—¶å€™ï¼Œå°±å¯ä»¥å±‚å±‚ä¼ é€’ï¼Œå°†é‚£äº›æŒ‚é çš„å­ context åŒæ—¶â€œå–æ¶ˆâ€ã€‚</p><p>è¿™é‡Œç€é‡è§£é‡Šä¸‹ä¸ºä»€ä¹ˆä¼šæœ‰ else æè¿°çš„æƒ…å†µå‘ç”Ÿã€‚<code>else</code> æ˜¯æŒ‡å½“å‰èŠ‚ç‚¹ context æ²¡æœ‰å‘ä¸Šæ‰¾åˆ°å¯ä»¥å–æ¶ˆçš„çˆ¶èŠ‚ç‚¹ï¼Œé‚£ä¹ˆå°±è¦å†å¯åŠ¨ä¸€ä¸ªåç¨‹ç›‘æ§çˆ¶èŠ‚ç‚¹æˆ–è€…å­èŠ‚ç‚¹çš„å–æ¶ˆåŠ¨ä½œã€‚</p><p>è¿™é‡Œå°±æœ‰ç–‘é—®äº†ï¼Œæ—¢ç„¶æ²¡æ‰¾åˆ°å¯ä»¥å–æ¶ˆçš„çˆ¶èŠ‚ç‚¹ï¼Œé‚£ <code>case &lt;-parent.Done()</code> è¿™ä¸ª case å°±æ°¸è¿œä¸ä¼šå‘ç”Ÿï¼Œæ‰€ä»¥å¯ä»¥å¿½ç•¥è¿™ä¸ª caseï¼›è€Œ <code>case &lt;-child.Done()</code> è¿™ä¸ª case åˆå•¥äº‹ä¸å¹²ã€‚é‚£è¿™ä¸ª <code>else</code> ä¸å°±å¤šä½™äº†å—ï¼Ÿ</p><p>å…¶å®ä¸ç„¶ã€‚æˆ‘ä»¬æ¥çœ‹ <code>parentCancelCtx</code> çš„ä»£ç ï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">parentCancelCtx</span><span class="token punctuation">(</span>parent Context<span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token operator">*</span>cancelCtx<span class="token punctuation">,</span> <span class="token builtin">bool</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">{</span>
        <span class="token keyword">switch</span> c <span class="token operator">:=</span> parent<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token operator">*</span>cancelCtx<span class="token punctuation">:</span>
            <span class="token keyword">return</span> c<span class="token punctuation">,</span> <span class="token boolean">true</span>
        <span class="token keyword">case</span> <span class="token operator">*</span>timerCtx<span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token operator">&amp;</span>c<span class="token punctuation">.</span>cancelCtx<span class="token punctuation">,</span> <span class="token boolean">true</span>
        <span class="token keyword">case</span> <span class="token operator">*</span>valueCtx<span class="token punctuation">:</span>
            parent <span class="token operator">=</span> c<span class="token punctuation">.</span>Context
        <span class="token keyword">default</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œåªä¼šè¯†åˆ«ä¸‰ç§ Context ç±»å‹ï¼š*cancelCtxï¼Œ*timerCtxï¼Œ*valueCtxã€‚è‹¥æ˜¯æŠŠ Context å†…åµŒåˆ°ä¸€ä¸ªç±»å‹é‡Œï¼Œå°±è¯†åˆ«ä¸å‡ºæ¥äº†ã€‚</p><p>ç”±äº context åŒ…çš„ä»£ç å¹¶ä¸å¤šï¼Œæ‰€ä»¥æˆ‘ç›´æ¥æŠŠå®ƒ copy å‡ºæ¥äº†ï¼Œç„¶ååœ¨ else è¯­å¥é‡ŒåŠ ä¸Šäº†å‡ æ¡æ‰“å°è¯­å¥ï¼Œæ¥éªŒè¯ä¸Šé¢çš„è¯´æ³•ï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> MyContext <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    <span class="token comment">// è¿™é‡Œçš„ Context æ˜¯æˆ‘ copy å‡ºæ¥çš„ï¼Œæ‰€ä»¥å‰é¢ä¸ç”¨åŠ  context.</span>
    Context
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    childCancel <span class="token operator">:=</span> <span class="token boolean">true</span>

    parentCtx<span class="token punctuation">,</span> parentFunc <span class="token operator">:=</span> <span class="token function">WithCancel</span><span class="token punctuation">(</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    mctx <span class="token operator">:=</span> MyContext<span class="token punctuation">{</span>parentCtx<span class="token punctuation">}</span>

    childCtx<span class="token punctuation">,</span> childFun <span class="token operator">:=</span> <span class="token function">WithCancel</span><span class="token punctuation">(</span>mctx<span class="token punctuation">)</span>

    <span class="token keyword">if</span> childCancel <span class="token punctuation">{</span>
        <span class="token function">childFun</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">parentFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>parentCtx<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>mctx<span class="token punctuation">)</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span>childCtx<span class="token punctuation">)</span>

    <span class="token comment">// é˜²æ­¢ä¸»åç¨‹é€€å‡ºå¤ªå¿«ï¼Œå­åç¨‹æ¥ä¸åŠæ‰“å° </span>
    time<span class="token punctuation">.</span><span class="token function">Sleep</span><span class="token punctuation">(</span><span class="token number">10</span> <span class="token operator">*</span> time<span class="token punctuation">.</span>Second<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘è‡ªå·²åœ¨ else é‡Œæ·»åŠ çš„æ‰“å°è¯­å¥æˆ‘å°±ä¸è´´å‡ºæ¥äº†ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥è‡ªå·±åŠ¨æ‰‹å®éªŒä¸‹ã€‚æˆ‘ä»¬çœ‹ä¸‹ä¸‰ä¸ª context çš„æ‰“å°ç»“æœï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>context.Background.WithCancel
{context.Background.WithCancel}
{context.Background.WithCancel}.WithCancel
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœç„¶ï¼Œmctxï¼ŒchildCtx å’Œæ­£å¸¸çš„ parentCtx ä¸ä¸€æ ·ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªè‡ªå®šä¹‰çš„ç»“æ„ä½“ç±»å‹ã€‚</p><p><code>else</code> è¿™æ®µä»£ç è¯´æ˜ï¼Œå¦‚æœæŠŠ ctx å¼ºè¡Œå¡è¿›ä¸€ä¸ªç»“æ„ä½“ï¼Œå¹¶ç”¨å®ƒä½œä¸ºçˆ¶èŠ‚ç‚¹ï¼Œè°ƒç”¨ WithCancel å‡½æ•°æ„å»ºå­èŠ‚ç‚¹ context çš„æ—¶å€™ï¼ŒGo ä¼šæ–°å¯åŠ¨ä¸€ä¸ªåç¨‹æ¥ç›‘æ§å–æ¶ˆä¿¡å·ï¼Œæ˜æ˜¾æœ‰ç‚¹æµªè´¹å˜›ã€‚</p><p>å†æ¥è¯´ä¸€ä¸‹ï¼Œselect è¯­å¥é‡Œçš„ä¸¤ä¸ª case å…¶å®éƒ½ä¸èƒ½åˆ ã€‚</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>select {
    case &lt;-parent.Done():
        child.cancel(false, parent.Err())
    case &lt;-child.Done():
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¬¬ä¸€ä¸ª case è¯´æ˜å½“çˆ¶èŠ‚ç‚¹å–æ¶ˆï¼Œåˆ™å–æ¶ˆå­èŠ‚ç‚¹ã€‚å¦‚æœå»æ‰è¿™ä¸ª caseï¼Œé‚£ä¹ˆçˆ¶èŠ‚ç‚¹å–æ¶ˆçš„ä¿¡å·å°±ä¸èƒ½ä¼ é€’åˆ°å­èŠ‚ç‚¹ã€‚</p><p>ç¬¬äºŒä¸ª case æ˜¯è¯´å¦‚æœå­èŠ‚ç‚¹è‡ªå·±å–æ¶ˆäº†ï¼Œé‚£å°±é€€å‡ºè¿™ä¸ª selectï¼Œçˆ¶èŠ‚ç‚¹çš„å–æ¶ˆä¿¡å·å°±ä¸ç”¨ç®¡äº†ã€‚å¦‚æœå»æ‰è¿™ä¸ª caseï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½çˆ¶èŠ‚ç‚¹ä¸€ç›´ä¸å–æ¶ˆï¼Œè¿™ä¸ª goroutine å°±æ³„æ¼äº†ã€‚å½“ç„¶ï¼Œå¦‚æœçˆ¶èŠ‚ç‚¹å–æ¶ˆäº†ï¼Œå°±ä¼šé‡å¤è®©å­èŠ‚ç‚¹å–æ¶ˆï¼Œä¸è¿‡ï¼Œè¿™ä¹Ÿæ²¡ä»€ä¹ˆå½±å“å˜›ã€‚</p><h3 id="timerctx" tabindex="-1"><a class="header-anchor" href="#timerctx" aria-hidden="true">#</a> timerCtx</h3><p>timerCtx åŸºäº cancelCtxï¼Œåªæ˜¯å¤šäº†ä¸€ä¸ª time.Timer å’Œä¸€ä¸ª deadlineã€‚Timer ä¼šåœ¨ deadline åˆ°æ¥æ—¶ï¼Œè‡ªåŠ¨å–æ¶ˆ contextã€‚</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>type timerCtx struct {
    cancelCtx
    timer *time.Timer // Under cancelCtx.mu.

    deadline time.Time
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>timerCtx é¦–å…ˆæ˜¯ä¸€ä¸ª cancelCtxï¼Œæ‰€ä»¥å®ƒèƒ½å–æ¶ˆã€‚çœ‹ä¸‹ cancel() æ–¹æ³•ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>func (c *timerCtx) cancel(removeFromParent bool, err error) {
    // ç›´æ¥è°ƒç”¨ cancelCtx çš„å–æ¶ˆæ–¹æ³•
    c.cancelCtx.cancel(false, err)
    if removeFromParent {
        // ä»çˆ¶èŠ‚ç‚¹ä¸­åˆ é™¤å­èŠ‚ç‚¹
        removeChild(c.cancelCtx.Context, c)
    }
    c.mu.Lock()
    if c.timer != nil {
        // å…³æ‰å®šæ—¶å™¨ï¼Œè¿™æ ·ï¼Œåœ¨deadline åˆ°æ¥æ—¶ï¼Œä¸ä¼šå†æ¬¡å–æ¶ˆ
        c.timer.Stop()
        c.timer = nil
    }
    c.mu.Unlock()
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ›å»º timerCtx çš„æ–¹æ³•ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>func WithTimeout(parent Context, timeout time.Duration) (Context, CancelFunc) {
    return WithDeadline(parent, time.Now().Add(timeout))
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>WithTimeout</code> å‡½æ•°ç›´æ¥è°ƒç”¨äº† <code>WithDeadline</code>ï¼Œä¼ å…¥çš„ deadline æ˜¯å½“å‰æ—¶é—´åŠ ä¸Š timeout çš„æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯ä»ç°åœ¨å¼€å§‹å†ç»è¿‡ timeout æ—¶é—´å°±ç®—è¶…æ—¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>WithDeadline</code> éœ€è¦ç”¨çš„æ˜¯ç»å¯¹æ—¶é—´ã€‚é‡ç‚¹æ¥çœ‹å®ƒï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>func WithDeadline(parent Context, deadline time.Time) (Context, CancelFunc) {
    if cur, ok := parent.Deadline(); ok &amp;&amp; cur.Before(deadline) {
        // å¦‚æœçˆ¶èŠ‚ç‚¹ context çš„ deadline æ—©äºæŒ‡å®šæ—¶é—´ã€‚ç›´æ¥æ„å»ºä¸€ä¸ªå¯å–æ¶ˆçš„ contextã€‚
        // åŸå› æ˜¯ä¸€æ—¦çˆ¶èŠ‚ç‚¹è¶…æ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨ cancel å‡½æ•°ï¼Œå­èŠ‚ç‚¹ä¹Ÿä¼šéšä¹‹å–æ¶ˆã€‚
        // æ‰€ä»¥ä¸ç”¨å•ç‹¬å¤„ç†å­èŠ‚ç‚¹çš„è®¡æ—¶å™¨æ—¶é—´åˆ°äº†ä¹‹åï¼Œè‡ªåŠ¨è°ƒç”¨ cancel å‡½æ•°
        return WithCancel(parent)
    }

    // æ„å»º timerCtx
    c := &amp;timerCtx{
        cancelCtx: newCancelCtx(parent),
        deadline:  deadline,
    }
    // æŒ‚é åˆ°çˆ¶èŠ‚ç‚¹ä¸Š
    propagateCancel(parent, c)

    // è®¡ç®—å½“å‰è·ç¦» deadline çš„æ—¶é—´
    d := time.Until(deadline)
    if d &lt;= 0 {
        // ç›´æ¥å–æ¶ˆ
        c.cancel(true, DeadlineExceeded) // deadline has already passed
        return c, func() { c.cancel(true, Canceled) }
    }
    c.mu.Lock()
    defer c.mu.Unlock()
    if c.err == nil {
        // d æ—¶é—´åï¼Œtimer ä¼šè‡ªåŠ¨è°ƒç”¨ cancel å‡½æ•°ã€‚è‡ªåŠ¨å–æ¶ˆ
        c.timer = time.AfterFunc(d, func() {
            c.cancel(true, DeadlineExceeded)
        })
    }
    return c, func() { c.cancel(true, Canceled) }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¹Ÿå°±æ˜¯è¯´ä»ç„¶è¦æŠŠå­èŠ‚ç‚¹æŒ‚é åˆ°çˆ¶èŠ‚ç‚¹ï¼Œä¸€æ—¦çˆ¶èŠ‚ç‚¹å–æ¶ˆäº†ï¼Œä¼šæŠŠå–æ¶ˆä¿¡å·å‘ä¸‹ä¼ é€’åˆ°å­èŠ‚ç‚¹ï¼Œå­èŠ‚ç‚¹éšä¹‹å–æ¶ˆã€‚</p><p>æœ‰ä¸€ä¸ªç‰¹æ®Šæƒ…å†µæ˜¯ï¼Œå¦‚æœè¦åˆ›å»ºçš„è¿™ä¸ªå­èŠ‚ç‚¹çš„ deadline æ¯”çˆ¶èŠ‚ç‚¹è¦æ™šï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœçˆ¶èŠ‚ç‚¹æ˜¯æ—¶é—´åˆ°è‡ªåŠ¨å–æ¶ˆï¼Œé‚£ä¹ˆä¸€å®šä¼šå–æ¶ˆè¿™ä¸ªå­èŠ‚ç‚¹ï¼Œå¯¼è‡´å­èŠ‚ç‚¹çš„ deadline æ ¹æœ¬ä¸èµ·ä½œç”¨ï¼Œå› ä¸ºå­èŠ‚ç‚¹åœ¨ deadline åˆ°æ¥ä¹‹å‰å°±å·²ç»è¢«çˆ¶èŠ‚ç‚¹å–æ¶ˆäº†ã€‚</p><p>è¿™ä¸ªå‡½æ•°çš„æœ€æ ¸å¿ƒçš„ä¸€å¥æ˜¯ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>c.timer = time.AfterFunc(d, func() {
    c.cancel(true, DeadlineExceeded)
})
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>c.timer ä¼šåœ¨ d æ—¶é—´é—´éš”åï¼Œè‡ªåŠ¨è°ƒç”¨ cancel å‡½æ•°ï¼Œå¹¶ä¸”ä¼ å…¥çš„é”™è¯¯å°±æ˜¯ <code>DeadlineExceeded</code>ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>var DeadlineExceeded error = deadlineExceededError{}

type deadlineExceededError struct{}

func (deadlineExceededError) Error() string   { return &quot;context deadline exceeded&quot; }
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¹Ÿå°±æ˜¯è¶…æ—¶é”™è¯¯ã€‚</p><h3 id="valuectx" tabindex="-1"><a class="header-anchor" href="#valuectx" aria-hidden="true">#</a> valueCtx</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>type valueCtx struct {
    Context
    key, val interface{}
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®ƒå®ç°äº†ä¸¤ä¸ªæ–¹æ³•ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>func (c *valueCtx) String() string {
    return fmt.Sprintf(&quot;%v.WithValue(%#v, %#v)&quot;, c.Context, c.key, c.val)
}

func (c *valueCtx) Value(key interface{}) interface{} {
    if c.key == key {
        return c.val
    }
    return c.Context.Value(key)
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”±äºå®ƒç›´æ¥å°† Context ä½œä¸ºåŒ¿åå­—æ®µï¼Œå› æ­¤ä»…ç®¡å®ƒåªå®ç°äº† 2 ä¸ªæ–¹æ³•ï¼Œå…¶ä»–æ–¹æ³•ç»§æ‰¿è‡ªçˆ¶ contextã€‚ä½†å®ƒä»ç„¶æ˜¯ä¸€ä¸ª Contextï¼Œè¿™æ˜¯ Go è¯­è¨€çš„ä¸€ä¸ªç‰¹ç‚¹ã€‚</p><p>åˆ›å»º valueCtx çš„å‡½æ•°ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>func WithValue(parent Context, key, val interface{}) Context {
    if key == nil {
        panic(&quot;nil key&quot;)
    }
    if !reflect.TypeOf(key).Comparable() {
        panic(&quot;key is not comparable&quot;)
    }
    return &amp;valueCtx{parent, key, val}
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹ key çš„è¦æ±‚æ˜¯å¯æ¯”è¾ƒï¼Œå› ä¸ºä¹‹åéœ€è¦é€šè¿‡ key å–å‡º context ä¸­çš„å€¼ï¼Œå¯æ¯”è¾ƒæ˜¯å¿…é¡»çš„ã€‚</p><p>é€šè¿‡å±‚å±‚ä¼ é€’ contextï¼Œæœ€ç»ˆå½¢æˆè¿™æ ·ä¸€æ£µæ ‘ï¼š</p><p><img src="https://pic1.zhimg.com/v2-b0dbe9549219fca2c96f1699fb61fbc0_b.jpg" alt="img"></p><p>å’Œé“¾è¡¨æœ‰ç‚¹åƒï¼Œåªæ˜¯å®ƒçš„æ–¹å‘ç›¸åï¼šContext æŒ‡å‘å®ƒçš„çˆ¶èŠ‚ç‚¹ï¼Œé“¾è¡¨åˆ™æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚é€šè¿‡ WithValue å‡½æ•°ï¼Œå¯ä»¥åˆ›å»ºå±‚å±‚çš„ valueCtxï¼Œå­˜å‚¨ goroutine é—´å¯ä»¥å…±äº«çš„å˜é‡ã€‚</p><p>å–å€¼çš„è¿‡ç¨‹ï¼Œå®é™…ä¸Šæ˜¯ä¸€ä¸ªé€’å½’æŸ¥æ‰¾çš„è¿‡ç¨‹ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>func (c *valueCtx) Value(key interface{}) interface{} {
    if c.key == key {
        return c.val
    }
    return c.Context.Value(key)
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®ƒä¼šé¡ºç€é“¾è·¯ä¸€ç›´å¾€ä¸Šæ‰¾ï¼Œæ¯”è¾ƒå½“å‰èŠ‚ç‚¹çš„ key æ˜¯å¦æ˜¯è¦æ‰¾çš„ keyï¼Œå¦‚æœæ˜¯ï¼Œåˆ™ç›´æ¥è¿”å› valueã€‚å¦åˆ™ï¼Œä¸€ç›´é¡ºç€ context å¾€å‰ï¼Œæœ€ç»ˆæ‰¾åˆ°æ ¹èŠ‚ç‚¹ï¼ˆä¸€èˆ¬æ˜¯ emptyCtxï¼‰ï¼Œç›´æ¥è¿”å›ä¸€ä¸ª nilã€‚æ‰€ä»¥ç”¨ Value æ–¹æ³•çš„æ—¶å€™è¦åˆ¤æ–­ç»“æœæ˜¯å¦ä¸º nilã€‚</p><p>å› ä¸ºæŸ¥æ‰¾æ–¹å‘æ˜¯å¾€ä¸Šèµ°çš„ï¼Œæ‰€ä»¥ï¼Œçˆ¶èŠ‚ç‚¹æ²¡æ³•è·å–å­èŠ‚ç‚¹å­˜å‚¨çš„å€¼ï¼Œå­èŠ‚ç‚¹å´å¯ä»¥è·å–çˆ¶èŠ‚ç‚¹çš„å€¼ã€‚</p><p><code>WithValue</code> åˆ›å»º context èŠ‚ç‚¹çš„è¿‡ç¨‹å®é™…ä¸Šå°±æ˜¯åˆ›å»ºé“¾è¡¨èŠ‚ç‚¹çš„è¿‡ç¨‹ã€‚ä¸¤ä¸ªèŠ‚ç‚¹çš„ key å€¼æ˜¯å¯ä»¥ç›¸ç­‰çš„ï¼Œä½†å®ƒä»¬æ˜¯ä¸¤ä¸ªä¸åŒçš„ context èŠ‚ç‚¹ã€‚æŸ¥æ‰¾çš„æ—¶å€™ï¼Œä¼šå‘ä¸ŠæŸ¥æ‰¾åˆ°æœ€åä¸€ä¸ªæŒ‚è½½çš„ context èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯ç¦»å¾—æ¯”è¾ƒè¿‘çš„ä¸€ä¸ªçˆ¶èŠ‚ç‚¹ contextã€‚æ‰€ä»¥ï¼Œæ•´ä½“ä¸Šè€Œè¨€ï¼Œç”¨ <code>WithValue</code> æ„é€ çš„å…¶å®æ˜¯ä¸€ä¸ªä½æ•ˆç‡çš„é“¾è¡¨ã€‚</p><p>å¦‚æœä½ æ¥æ‰‹è¿‡é¡¹ç›®ï¼Œè‚¯å®šç»å†è¿‡è¿™æ ·çš„çª˜å¢ƒï¼šåœ¨ä¸€ä¸ªå¤„ç†è¿‡ç¨‹ä¸­ï¼Œæœ‰è‹¥å¹²å­å‡½æ•°ã€å­åç¨‹ã€‚å„ç§ä¸åŒçš„åœ°æ–¹ä¼šå‘ context é‡Œå¡å…¥å„ç§ä¸åŒçš„ k-v å¯¹ï¼Œæœ€ååœ¨æŸä¸ªåœ°æ–¹ä½¿ç”¨ã€‚</p><p>ä½ æ ¹æœ¬å°±ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™ä»€ä¹ˆåœ°æ–¹ä¼ äº†ä»€ä¹ˆå€¼ï¼Ÿè¿™äº›å€¼ä¼šä¸ä¼šè¢«â€œè¦†ç›–â€ï¼ˆåº•å±‚æ˜¯ä¸¤ä¸ªä¸åŒçš„ context èŠ‚ç‚¹ï¼ŒæŸ¥æ‰¾çš„æ—¶å€™ï¼Œåªä¼šè¿”å›ä¸€ä¸ªç»“æœï¼‰ï¼Ÿä½ è‚¯å®šä¼šå´©æºƒçš„ã€‚</p><p>è€Œè¿™ä¹Ÿæ˜¯ <code>context.Value</code> æœ€å—äº‰è®®çš„åœ°æ–¹ã€‚å¾ˆå¤šäººå»ºè®®å°½é‡ä¸è¦é€šè¿‡ context ä¼ å€¼ã€‚</p><h2 id="å¦‚ä½•ä½¿ç”¨-context" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•ä½¿ç”¨-context" aria-hidden="true">#</a> å¦‚ä½•ä½¿ç”¨ context</h2><p>context ä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ã€‚æºç é‡Œå¯¹å¤–æä¾›äº†ä¸€ä¸ªåˆ›å»ºæ ¹èŠ‚ç‚¹ context çš„å‡½æ•°ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>func Background() Context
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>background æ˜¯ä¸€ä¸ªç©ºçš„ contextï¼Œ å®ƒä¸èƒ½è¢«å–æ¶ˆï¼Œæ²¡æœ‰å€¼ï¼Œä¹Ÿæ²¡æœ‰è¶…æ—¶æ—¶é—´ã€‚</p><p>æœ‰äº†æ ¹èŠ‚ç‚¹ contextï¼Œåˆæä¾›äº†å››ä¸ªå‡½æ•°åˆ›å»ºå­èŠ‚ç‚¹ contextï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>func WithCancel(parent Context) (ctx Context, cancel CancelFunc)
func WithDeadline(parent Context, deadline time.Time) (Context, CancelFunc)
func WithTimeout(parent Context, timeout time.Duration) (Context, CancelFunc)
func WithValue(parent Context, key, val interface{}) Context
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>context ä¼šåœ¨å‡½æ•°ä¼ é€’é—´ä¼ é€’ã€‚åªéœ€è¦åœ¨é€‚å½“çš„æ—¶é—´è°ƒç”¨ cancel å‡½æ•°å‘ goroutines å‘å‡ºå–æ¶ˆä¿¡å·æˆ–è€…è°ƒç”¨ Value å‡½æ•°å–å‡º context ä¸­çš„å€¼ã€‚</p><p>åœ¨å®˜æ–¹åšå®¢é‡Œï¼Œå¯¹äºä½¿ç”¨ context æå‡ºäº†å‡ ç‚¹å»ºè®®ï¼š</p><ol><li>Do not store Contexts inside a struct type; instead, pass a Context explicitly to each function that needs it. The Context should be the first parameter, typically named ctx.</li><li>Do not pass a nil Context, even if a function permits it. Pass context.TODO if you are unsure about which Context to use.</li><li>Use context Values only for request-scoped data that transits processes and APIs, not for passing optional parameters to functions.</li><li>The same Context may be passed to functions running in different goroutines; Contexts are safe for simultaneous use by multiple goroutines.</li></ol><p>æˆ‘ç¿»è¯‘ä¸€ä¸‹ï¼š</p><ol><li>ä¸è¦å°† Context å¡åˆ°ç»“æ„ä½“é‡Œã€‚ç›´æ¥å°† Context ç±»å‹ä½œä¸ºå‡½æ•°çš„ç¬¬ä¸€å‚æ•°ï¼Œè€Œä¸”ä¸€èˆ¬éƒ½å‘½åä¸º ctxã€‚</li><li>ä¸è¦å‘å‡½æ•°ä¼ å…¥ä¸€ä¸ª nil çš„ contextï¼Œå¦‚æœä½ å®åœ¨ä¸çŸ¥é“ä¼ ä»€ä¹ˆï¼Œæ ‡å‡†åº“ç»™ä½ å‡†å¤‡å¥½äº†ä¸€ä¸ª contextï¼štodoã€‚</li><li>ä¸è¦æŠŠæœ¬åº”è¯¥ä½œä¸ºå‡½æ•°å‚æ•°çš„ç±»å‹å¡åˆ° context ä¸­ï¼Œcontext å­˜å‚¨çš„åº”è¯¥æ˜¯ä¸€äº›å…±åŒçš„æ•°æ®ã€‚ä¾‹å¦‚ï¼šç™»é™†çš„ sessionã€cookie ç­‰ã€‚</li><li>åŒä¸€ä¸ª context å¯èƒ½ä¼šè¢«ä¼ é€’åˆ°å¤šä¸ª goroutineï¼Œåˆ«æ‹…å¿ƒï¼Œcontext æ˜¯å¹¶å‘å®‰å…¨çš„ã€‚</li></ol><h2 id="ä¼ é€’å…±äº«çš„æ•°æ®" tabindex="-1"><a class="header-anchor" href="#ä¼ é€’å…±äº«çš„æ•°æ®" aria-hidden="true">#</a> ä¼ é€’å…±äº«çš„æ•°æ®</h2><p>å¯¹äº Web æœåŠ¡ç«¯å¼€å‘ï¼Œå¾€å¾€å¸Œæœ›å°†ä¸€ä¸ªè¯·æ±‚å¤„ç†çš„æ•´ä¸ªè¿‡ç¨‹ä¸²èµ·æ¥ï¼Œè¿™å°±éå¸¸ä¾èµ–äº Thread Localï¼ˆå¯¹äº Go å¯ç†è§£ä¸ºå•ä¸ªåç¨‹æ‰€ç‹¬æœ‰ï¼‰ çš„å˜é‡ï¼Œè€Œåœ¨ Go è¯­è¨€ä¸­å¹¶æ²¡æœ‰è¿™ä¸ªæ¦‚å¿µï¼Œå› æ­¤éœ€è¦åœ¨å‡½æ•°è°ƒç”¨çš„æ—¶å€™ä¼ é€’ contextã€‚</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>package main

import (
    &quot;context&quot;
    &quot;fmt&quot;
)

func main() {
    ctx := context.Background()
    process(ctx)

    ctx = context.WithValue(ctx, &quot;traceId&quot;, &quot;qcrao-2019&quot;)
    process(ctx)
}

func process(ctx context.Context) {
    traceId, ok := ctx.Value(&quot;traceId&quot;).(string)
    if ok {
        fmt.Printf(&quot;process over. trace_id=%s\n&quot;, traceId)
    } else {
        fmt.Printf(&quot;process over. no trace_id\n&quot;)
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿è¡Œç»“æœï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>process over. no trace_id
process over. trace_id=qcrao-2019
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¬¬ä¸€æ¬¡è°ƒç”¨ process å‡½æ•°æ—¶ï¼Œctx æ˜¯ä¸€ä¸ªç©ºçš„ contextï¼Œè‡ªç„¶å–ä¸å‡ºæ¥ traceIdã€‚ç¬¬äºŒæ¬¡ï¼Œé€šè¿‡ <code>WithValue</code> å‡½æ•°åˆ›å»ºäº†ä¸€ä¸ª contextï¼Œå¹¶èµ‹ä¸Šäº† <code>traceId</code> è¿™ä¸ª keyï¼Œè‡ªç„¶å°±èƒ½å–å‡ºæ¥ä¼ å…¥çš„ value å€¼ã€‚</p><p>å½“ç„¶ï¼Œç°å®åœºæ™¯ä¸­å¯èƒ½æ˜¯ä»ä¸€ä¸ª HTTP è¯·æ±‚ä¸­è·å–åˆ°çš„ Request-IDã€‚æ‰€ä»¥ï¼Œä¸‹é¢è¿™ä¸ªæ ·ä¾‹å¯èƒ½æ›´é€‚åˆï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>const requestIDKey int = 0

func WithRequestID(next http.Handler) http.Handler {
    return http.HandlerFunc(
        func(rw http.ResponseWriter, req *http.Request) {
            // ä» header ä¸­æå– request-id
            reqID := req.Header.Get(&quot;X-Request-ID&quot;)
            // åˆ›å»º valueCtxã€‚ä½¿ç”¨è‡ªå®šä¹‰çš„ç±»å‹ï¼Œä¸å®¹æ˜“å†²çª
            ctx := context.WithValue(
                req.Context(), requestIDKey, reqID)

            // åˆ›å»ºæ–°çš„è¯·æ±‚
            req = req.WithContext(ctx)

            // è°ƒç”¨ HTTP å¤„ç†å‡½æ•°
            next.ServeHTTP(rw, req)
        }
    )
}

// è·å– request-id
func GetRequestID(ctx context.Context) string {
    ctx.Value(requestIDKey).(string)
}

func Handle(rw http.ResponseWriter, req *http.Request) {
    // æ‹¿åˆ° reqIdï¼Œåé¢å¯ä»¥è®°å½•æ—¥å¿—ç­‰ç­‰
    reqID := GetRequestID(req.Context())
    ...
}

func main() {
    handler := WithRequestID(http.HandlerFunc(Handle))
    http.ListenAndServe(&quot;/&quot;, handler)
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å–æ¶ˆ-goroutine" tabindex="-1"><a class="header-anchor" href="#å–æ¶ˆ-goroutine" aria-hidden="true">#</a> å–æ¶ˆ goroutine</h2><p>æˆ‘ä»¬å…ˆæ¥è®¾æƒ³ä¸€ä¸ªåœºæ™¯ï¼šæ‰“å¼€å¤–å–çš„è®¢å•é¡µï¼Œåœ°å›¾ä¸Šæ˜¾ç¤ºå¤–å–å°å“¥çš„ä½ç½®ï¼Œè€Œä¸”æ˜¯æ¯ç§’æ›´æ–° 1 æ¬¡ã€‚app ç«¯å‘åå°å‘èµ· websocket è¿æ¥ï¼ˆç°å®ä¸­å¯èƒ½æ˜¯è½®è¯¢ï¼‰è¯·æ±‚åï¼Œåå°å¯åŠ¨ä¸€ä¸ªåç¨‹ï¼Œæ¯éš” 1 ç§’è®¡ç®— 1 æ¬¡å°å“¥çš„ä½ç½®ï¼Œå¹¶å‘é€ç»™ç«¯ã€‚å¦‚æœç”¨æˆ·é€€å‡ºæ­¤é¡µé¢ï¼Œåˆ™åå°éœ€è¦â€œå–æ¶ˆâ€æ­¤è¿‡ç¨‹ï¼Œé€€å‡º goroutineï¼Œç³»ç»Ÿå›æ”¶èµ„æºã€‚</p><p>åç«¯å¯èƒ½çš„å®ç°å¦‚ä¸‹ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>func Perform() {
    for {
        calculatePos()
        sendResult()
        time.Sleep(time.Second)
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœéœ€è¦å®ç°â€œå–æ¶ˆâ€åŠŸèƒ½ï¼Œå¹¶ä¸”åœ¨ä¸äº†è§£ context åŠŸèƒ½çš„å‰æä¸‹ï¼Œå¯èƒ½ä¼šè¿™æ ·åšï¼šç»™å‡½æ•°å¢åŠ ä¸€ä¸ªæŒ‡é’ˆå‹çš„ bool å˜é‡ï¼Œåœ¨ for è¯­å¥çš„å¼€å§‹å¤„åˆ¤æ–­ bool å˜é‡æ˜¯å‘ç”± true å˜ä¸º falseï¼Œå¦‚æœæ”¹å˜ï¼Œåˆ™é€€å‡ºå¾ªç¯ã€‚</p><p>ä¸Šé¢ç»™å‡ºçš„ç®€å•åšæ³•ï¼Œå¯ä»¥å®ç°æƒ³è¦çš„æ•ˆæœï¼Œæ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯å¹¶ä¸ä¼˜é›…ï¼Œå¹¶ä¸”ä¸€æ—¦åç¨‹æ•°é‡å¤šäº†ä¹‹åï¼Œå¹¶ä¸”å„ç§åµŒå¥—ï¼Œå°±ä¼šå¾ˆéº»çƒ¦ã€‚ä¼˜é›…çš„åšæ³•ï¼Œè‡ªç„¶å°±è¦ç”¨åˆ° contextã€‚</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>func Perform(ctx context.Context) {
    for {
        calculatePos()
        sendResult()

        select {
        case &lt;-ctx.Done():
            // è¢«å–æ¶ˆï¼Œç›´æ¥è¿”å›
            return
        case &lt;-time.After(time.Second):
            // block 1 ç§’é’Ÿ 
        }
    }
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸»æµç¨‹å¯èƒ½æ˜¯è¿™æ ·çš„ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>ctx, cancel := context.WithTimeout(context.Background(), time.Hour)
go Perform(ctx)

// â€¦â€¦
// app ç«¯è¿”å›é¡µé¢ï¼Œè°ƒç”¨cancel å‡½æ•°
cancel()
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ä¸€ä¸ªç»†èŠ‚ï¼ŒWithTimeOut å‡½æ•°è¿”å›çš„ context å’Œ cancelFun æ˜¯åˆ†å¼€çš„ã€‚context æœ¬èº«å¹¶æ²¡æœ‰å–æ¶ˆå‡½æ•°ï¼Œè¿™æ ·åšçš„åŸå› æ˜¯å–æ¶ˆå‡½æ•°åªèƒ½ç”±å¤–å±‚å‡½æ•°è°ƒç”¨ï¼Œé˜²æ­¢å­èŠ‚ç‚¹ context è°ƒç”¨å–æ¶ˆå‡½æ•°ï¼Œä»è€Œä¸¥æ ¼æ§åˆ¶ä¿¡æ¯çš„æµå‘ï¼šç”±çˆ¶èŠ‚ç‚¹ context æµå‘å­èŠ‚ç‚¹ contextã€‚</p><h2 id="é˜²æ­¢-goroutine-æ³„æ¼" tabindex="-1"><a class="header-anchor" href="#é˜²æ­¢-goroutine-æ³„æ¼" aria-hidden="true">#</a> é˜²æ­¢ goroutine æ³„æ¼</h2><p>å‰é¢é‚£ä¸ªä¾‹å­é‡Œï¼Œgoroutine è¿˜æ˜¯ä¼šè‡ªå·±æ‰§è¡Œå®Œï¼Œæœ€åè¿”å›ï¼Œåªä¸è¿‡ä¼šå¤šæµªè´¹ä¸€äº›ç³»ç»Ÿèµ„æºã€‚è¿™é‡Œæ”¹ç¼–ä¸€ä¸ªâ€œå¦‚æœä¸ç”¨ context å–æ¶ˆï¼Œgoroutine å°±ä¼šæ³„æ¼çš„ä¾‹å­â€ï¼Œæ¥è‡ªå‚è€ƒèµ„æ–™ï¼š<code>ã€é¿å…åç¨‹æ³„æ¼ã€‘</code>ã€‚</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>func gen() &lt;-chan int {
    ch := make(chan int)
    go func() {
        var n int
        for {
            ch &lt;- n
            n++
            time.Sleep(time.Second)
        }
    }()
    return ch
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ˜¯ä¸€ä¸ªå¯ä»¥ç”Ÿæˆæ— é™æ•´æ•°çš„åç¨‹ï¼Œä½†å¦‚æœæˆ‘åªéœ€è¦å®ƒäº§ç”Ÿçš„å‰ 5 ä¸ªæ•°ï¼Œé‚£ä¹ˆå°±ä¼šå‘ç”Ÿ goroutine æ³„æ¼ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>func main() {
    for n := range gen() {
        fmt.Println(n)
        if n == 5 {
            break
        }
    }
    // â€¦â€¦
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ n == 5 çš„æ—¶å€™ï¼Œç›´æ¥ break æ‰ã€‚é‚£ä¹ˆ gen å‡½æ•°çš„åç¨‹å°±ä¼šæ‰§è¡Œæ— é™å¾ªç¯ï¼Œæ°¸è¿œä¸ä¼šåœä¸‹æ¥ã€‚å‘ç”Ÿäº† goroutine æ³„æ¼ã€‚</p><p>ç”¨ context æ”¹è¿›è¿™ä¸ªä¾‹å­ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>func gen(ctx context.Context) &lt;-chan int {
    ch := make(chan int)
    go func() {
        var n int
        for {
            select {
            case &lt;-ctx.Done():
                return
            case ch &lt;- n:
                n++
                time.Sleep(time.Second)
            }
        }
    }()
    return ch
}

func main() {
    ctx, cancel := context.WithCancel(context.Background())
    defer cancel() // é¿å…å…¶ä»–åœ°æ–¹å¿˜è®° cancelï¼Œä¸”é‡å¤è°ƒç”¨ä¸å½±å“

    for n := range gen(ctx) {
        fmt.Println(n)
        if n == 5 {
            cancel()
            break
        }
    }
    // â€¦â€¦
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¢åŠ ä¸€ä¸ª contextï¼Œåœ¨ break å‰è°ƒç”¨ cancel å‡½æ•°ï¼Œå–æ¶ˆ goroutineã€‚gen å‡½æ•°åœ¨æ¥æ”¶åˆ°å–æ¶ˆä¿¡å·åï¼Œç›´æ¥é€€å‡ºï¼Œç³»ç»Ÿå›æ”¶èµ„æºã€‚</p><h2 id="context-çœŸçš„è¿™ä¹ˆå¥½å—" tabindex="-1"><a class="header-anchor" href="#context-çœŸçš„è¿™ä¹ˆå¥½å—" aria-hidden="true">#</a> context çœŸçš„è¿™ä¹ˆå¥½å—</h2><p>è¯»å®Œå…¨æ–‡ï¼Œä½ ä¸€å®šæœ‰è¿™ç§æ„Ÿè§‰ï¼šcontext å°±æ˜¯ä¸º server è€Œè®¾è®¡çš„ã€‚è¯´ä»€ä¹ˆå¤„ç†ä¸€ä¸ªè¯·æ±‚ï¼Œéœ€è¦å¯åŠ¨å¤šä¸ª goroutine å¹¶è¡Œåœ°å»å¤„ç†ï¼Œå¹¶ä¸”åœ¨è¿™äº› goroutine ä¹‹é—´è¿˜è¦ä¼ é€’ä¸€äº›å…±äº«çš„æ•°æ®ç­‰ç­‰ï¼Œè¿™äº›éƒ½æ˜¯å†™ä¸€ä¸ª server è¦åšçš„äº‹ã€‚</p><p>æ²¡é”™ï¼ŒGo å¾ˆé€‚åˆå†™ serverï¼Œä½†å®ƒç»ˆå½’æ˜¯ä¸€é—¨é€šç”¨çš„è¯­è¨€ã€‚ä½ åœ¨ç”¨ Go åš Leetcode ä¸Šé¢çš„é¢˜ç›®çš„æ—¶å€™ï¼Œè‚¯å®šä¸ä¼šè®¤ä¸ºå®ƒå’Œä¸€èˆ¬çš„è¯­è¨€æœ‰ä»€ä¹ˆå·®åˆ«ã€‚æ‰€ä»¥ï¼Œå¾ˆå¤šç‰¹æ€§å¥½ä¸å¥½ï¼Œåº”è¯¥ä» <code>Go åªæ˜¯ä¸€é—¨æ™®é€šçš„è¯­è¨€ï¼Œå¾ˆæ“…é•¿å†™ server</code> çš„è§’åº¦æ¥çœ‹ã€‚</p><p>ä»è¿™ä¸ªè§’åº¦æ¥çœ‹ï¼Œcontext å¹¶æ²¡æœ‰é‚£ä¹ˆç¾å¥½ã€‚Go å®˜æ–¹å»ºè®®æˆ‘ä»¬æŠŠ Context ä½œä¸ºå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œç”šè‡³è¿åå­—éƒ½å‡†å¤‡å¥½äº†ã€‚è¿™é€ æˆä¸€ä¸ªåæœï¼šå› ä¸ºæˆ‘ä»¬æƒ³æ§åˆ¶æ‰€æœ‰çš„åç¨‹çš„å–æ¶ˆåŠ¨ä½œï¼Œæ‰€ä»¥éœ€è¦åœ¨å‡ ä¹æ‰€æœ‰çš„å‡½æ•°é‡ŒåŠ ä¸Šä¸€ä¸ª Context å‚æ•°ã€‚å¾ˆå¿«ï¼Œæˆ‘ä»¬çš„ä»£ç é‡Œï¼Œcontext å°†åƒç—…æ¯’ä¸€æ ·æ‰©æ•£çš„åˆ°å¤„éƒ½æ˜¯ã€‚</p><p>åœ¨å‚è€ƒèµ„æ–™<code>ã€Go2 åº”è¯¥å»æ‰ contextã€‘</code>è¿™ç¯‡è‹±æ–‡åšå®¢é‡Œï¼Œä½œè€…ç”šè‡³è°ƒä¾ƒè¯´ï¼šå¦‚æœè¦æŠŠ Go æ ‡å‡†åº“çš„å¤§éƒ¨åˆ†å‡½æ•°éƒ½åŠ ä¸Š context å‚æ•°çš„è¯ï¼Œä¾‹å¦‚ä¸‹é¢è¿™æ ·ï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>n, err := r.Read(context.TODO(), p)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å°±ç»™æˆ‘æ¥ä¸€æªå§ï¼</p><p>åŸæ–‡æ˜¯è¿™æ ·è¯´çš„ï¼š<code>put a bullet in my head, please.</code>æˆ‘å½“æ—¶çœ‹åˆ°è¿™å¥è¯çš„æ—¶å€™ï¼Œä¼šå¿ƒä¸€ç¬‘ã€‚è¿™å¯èƒ½å°±æ˜¯é™¶æ¸Šæ˜è¯´çš„ï¼šæ¯æœ‰ä¼šæ„ï¼Œä¾¿æ¬£ç„¶å¿˜é£Ÿã€‚å½“ç„¶ï¼Œæˆ‘æ˜¯åœ¨æ™šé¥­ä¼šçœ‹åˆ°è¿™å¥è¯çš„ã€‚</p><p>ä¸ºäº†è¡¨è¾¾è‡ªå·±å¯¹ context å¹¶æ²¡æœ‰ä»€ä¹ˆå¥½æ„Ÿï¼Œä½œè€…æ¥ç€åˆè¯´äº†ä¸€å¥ï¼šIf you use ctx.Value in my (non-existent) company, youâ€™re fired. ç®€ç›´å¤ªå¹½é»˜äº†ï¼Œå“ˆå“ˆã€‚</p><p>å¦å¤–ï¼Œåƒ <code>WithCancel</code>ã€<code>WithDeadline</code>ã€<code>WithTimeout</code>ã€<code>WithValue</code> è¿™äº›åˆ›å»ºå‡½æ•°ï¼Œå®é™…ä¸Šæ˜¯åˆ›å»ºäº†ä¸€ä¸ªä¸ªçš„é“¾è¡¨ç»“ç‚¹è€Œå·²ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œå¯¹é“¾è¡¨çš„æ“ä½œï¼Œé€šå¸¸éƒ½æ˜¯ <code>O(n)</code> å¤æ‚åº¦çš„ï¼Œæ•ˆç‡ä¸é«˜ã€‚</p><p>é‚£ä¹ˆï¼Œcontext åŒ…åˆ°åº•è§£å†³äº†ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼š<code>cancelation</code>ã€‚ä»…ç®¡å®ƒå¹¶ä¸å®Œç¾ï¼Œä½†å®ƒç¡®å®å¾ˆç®€æ´åœ°è§£å†³äº†é—®é¢˜ã€‚</p><h2 id="æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#æ€»ç»“" aria-hidden="true">#</a> æ€»ç»“</h2><p>åˆ°è¿™é‡Œï¼Œæ•´ä¸ª context åŒ…çš„å†…å®¹å°±å…¨éƒ¨è®²å®Œäº†ã€‚æºç éå¸¸çŸ­ï¼Œå¾ˆé€‚åˆå­¦ä¹ ï¼Œä¸€å®šè¦å»è¯»ä¸€ä¸‹ã€‚</p><p>context åŒ…æ˜¯ Go 1.7 å¼•å…¥çš„æ ‡å‡†åº“ï¼Œä¸»è¦ç”¨äºåœ¨ goroutine ä¹‹é—´ä¼ é€’å–æ¶ˆä¿¡å·ã€è¶…æ—¶æ—¶é—´ã€æˆªæ­¢æ—¶é—´ä»¥åŠä¸€äº›å…±äº«çš„å€¼ç­‰ã€‚å®ƒå¹¶ä¸æ˜¯å¤ªå®Œç¾ï¼Œä½†å‡ ä¹æˆäº†å¹¶å‘æ§åˆ¶å’Œè¶…æ—¶æ§åˆ¶çš„æ ‡å‡†åšæ³•ã€‚</p><p>ä½¿ç”¨ä¸Šï¼Œå…ˆåˆ›å»ºä¸€ä¸ªæ ¹èŠ‚ç‚¹çš„ contextï¼Œä¹‹åæ ¹æ®åº“æä¾›çš„å››ä¸ªå‡½æ•°åˆ›å»ºç›¸åº”åŠŸèƒ½çš„å­èŠ‚ç‚¹ contextã€‚ç”±äºå®ƒæ˜¯å¹¶å‘å®‰å…¨çš„ï¼Œæ‰€ä»¥å¯ä»¥æ”¾å¿ƒåœ°ä¼ é€’ã€‚</p><p>å½“ä½¿ç”¨ context ä½œä¸ºå‡½æ•°å‚æ•°æ—¶ï¼Œç›´æ¥æŠŠå®ƒæ”¾åœ¨ç¬¬ä¸€ä¸ªå‚æ•°çš„ä½ç½®ï¼Œå¹¶ä¸”å‘½åä¸º ctxã€‚å¦å¤–ï¼Œä¸è¦æŠŠ context åµŒå¥—åœ¨è‡ªå®šä¹‰çš„ç±»å‹é‡Œã€‚</p><p>æœ€åï¼Œå¤§å®¶ä¸‹æ¬¡åœ¨çœ‹åˆ°ä»£ç é‡Œæœ‰ç”¨åˆ° context çš„ï¼Œè§‚å¯Ÿä¸‹æ˜¯æ€ä¹ˆä½¿ç”¨çš„ï¼Œè‚¯å®šé€ƒä¸å‡ºæˆ‘ä»¬è®²çš„å‡ ç§ç±»å‹ã€‚ç†Ÿæ‚‰ä¹‹åä¼šå‘ç°ï¼šcontext å¯èƒ½å¹¶ä¸å®Œç¾ï¼Œä½†å®ƒç¡®å®ç®€æ´é«˜æ•ˆåœ°è§£å†³äº†é—®é¢˜ã€‚</p><h3 id="å‚è€ƒèµ„æ–™" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒèµ„æ–™" aria-hidden="true">#</a> å‚è€ƒèµ„æ–™</h3><p>ã€zhihu.comã€‘ https://zhuanlan.zhihu.com/p/68792989</p><p>ã€context å®˜æ–¹åšå®¢ã€‘<a href="https://link.zhihu.com/?target=https%3A//blog.golang.org/context" target="_blank" rel="noopener noreferrer">https://blog.golang.org/context<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>ã€ä»Šæ—¥å¤´æ¡æ„å»ºGoçš„å®è·µã€‘https://zhuanlan.zhihu.com/p/26695984</p><p>ã€é£é›ªæ— æƒ…çš„åšå®¢ã€‘<a href="https://link.zhihu.com/?target=https%3A//www.flysnow.org/2017/05/12/go-in-action-go-context.html" target="_blank" rel="noopener noreferrer">https://www.flysnow.org/2017/05/12/go-in-action-go-context.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>ã€context æºç ã€‘<a href="https://link.zhihu.com/?target=https%3A//juejin.im/post/5a6873fef265da3e317e55b6" target="_blank" rel="noopener noreferrer">https://juejin.im/post/5a6873fef265da3e317e55b6<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>ã€è…¾è®¯äº‘æºç é˜…è¯»ã€‘<a href="https://link.zhihu.com/?target=https%3A//cloud.tencent.com/developer/section/1140703" target="_blank" rel="noopener noreferrer">https://cloud.tencent.com/developer/section/1140703<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>ã€æ›´å®è§‚åœ°ä¸€äº›æ€è€ƒï¼Œenglishã€‘<a href="https://link.zhihu.com/?target=https%3A//siadat.github.io/post/context" target="_blank" rel="noopener noreferrer">https://siadat.github.io/post/context<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>ã€é¿å…åç¨‹æ³„æ¼ã€‘<a href="https://link.zhihu.com/?target=https%3A//rakyll.org/leakingctx/" target="_blank" rel="noopener noreferrer">https://rakyll.org/leakingctx/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>ã€åº”ç”¨åˆ†ç±»ã€‘<a href="https://link.zhihu.com/?target=https%3A//dreamerjonson.com/2019/05/09/golang-73-context/index.html" target="_blank" rel="noopener noreferrer">https://dreamerjonson.com/2019/05/09/golang-73-context/index.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>ã€å®˜æ–¹æ–‡æ¡£ç¤ºä¾‹ç¿»è¯‘ç‰ˆã€‘<a href="https://link.zhihu.com/?target=https%3A//brantou.github.io/2017/05/19/go-concurrency-patterns-context/" target="_blank" rel="noopener noreferrer">https://brantou.github.io/2017/05/19/go-concurrency-patterns-context/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>ã€ä¾‹å­ï¼Œenglishã€‘<a href="https://link.zhihu.com/?target=http%3A//p.agnihotry.com/post/understanding_the_context_package_in_golang/" target="_blank" rel="noopener noreferrer">http://p.agnihotry.com/post/understanding_the_context_package_in_golang/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>ã€Go2 åº”è¯¥å»æ‰ contextã€‘<a href="https://link.zhihu.com/?target=https%3A//faiface.github.io/post/context-should-go-away-go2/" target="_blank" rel="noopener noreferrer">https://faiface.github.io/post/context-should-go-away-go2/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>ã€æºç ï¼Œæ¯”è¾ƒè¯¦ç»†ã€‘<a href="https://link.zhihu.com/?target=https%3A//juejin.im/post/5c1514c86fb9a049b82a5acb" target="_blank" rel="noopener noreferrer">https://juejin.im/post/5c1514c86fb9a049b82a5acb<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>ã€Golang Context æ˜¯å¥½çš„è®¾è®¡å—ï¼Ÿã€‘<a href="https://link.zhihu.com/?target=https%3A//segmentfault.com/a/1190000017394302" target="_blank" rel="noopener noreferrer">https://segmentfault.com/a/1190000017394302<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>ã€ä»Šæ—¥å¤´æ¡çš„ Go å®è·µã€‘<a href="https://link.zhihu.com/?target=https%3A//36kr.com/p/5073181" target="_blank" rel="noopener noreferrer">https://36kr.com/p/5073181<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>ã€å®ä¾‹ã€‘<a href="https://zhuanlan.zhihu.com/p/60180409" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/60<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h2 id="end-é“¾æ¥" tabindex="-1"><a class="header-anchor" href="#end-é“¾æ¥" aria-hidden="true">#</a> END é“¾æ¥</h2><ul><li><div><a href="12.md" style="float:left;">â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”— </a><a href="14.md" style="float:right;"> ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div></li></ul><ul><li><p><a href="/" class="">â“‚ï¸å›åˆ°ç›®å½•ğŸ </a></p></li><li><p><a href="https://nsddd.top/archives/contributors" target="_blank" rel="noopener noreferrer"><strong>ğŸ«µå‚ä¸è´¡çŒ®ğŸ’â¤ï¸â€ğŸ”¥ğŸ’–</strong><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>)</p></li><li><p>âœ´ï¸ç‰ˆæƒå£°æ˜ Â© ï¼šæœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª<a href="http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="noopener noreferrer">CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰Â©<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li></ul></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/3293172751/awesome-docker/edit/master/docs/Cloud-Native/13.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨GitHubä¸Šè´¡çŒ®æ­¤é¡µé¢"><!--[--><!--]--> åœ¨GitHubä¸Šè´¡çŒ®æ­¤é¡µé¢ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">ä¸Šæ¬¡æ›´æ–°: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">è´¡çŒ®è€…: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 3293172751nss@gmail.com">xiongxinwei</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/Cloud-Native/12.html" class="" aria-label="ç¬¬12èŠ‚ sealer æ•°æ®å­˜å‚¨ç›®å½•"><!--[--><!--]--> ç¬¬12èŠ‚ sealer æ•°æ®å­˜å‚¨ç›®å½• <!--[--><!--]--></a></span><span class="next"><a href="/Cloud-Native/14.html" class="" aria-label="ç¬¬14èŠ‚ go è°ƒè¯• æµ‹è¯• ä»¥åŠè°ƒè¯•å·¥å…· dlv"><!--[--><!--]--> ç¬¬14èŠ‚ go è°ƒè¯• æµ‹è¯• ä»¥åŠè°ƒè¯•å·¥å…· dlv <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.f2f3c0f5.js" defer></script>
  </body>
</html>
