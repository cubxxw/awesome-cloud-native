<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.51">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/img/1.jpg"><title>ç¬¬40èŠ‚ é€Ÿè¯» sealos æºç  | ä½ å¥½</title><meta name="description" content="é“¾å­¦ç¤¾è‡´åŠ›äºæ‰“é€ å‡ºåŒºå—é“¾å»ä¸­å¿ƒåŒ–çš„å­¦ä¹ å¹³å°">
    <link rel="modulepreload" href="/assets/app.e902a46c.js"><link rel="modulepreload" href="/assets/40.html.259d7133.js"><link rel="modulepreload" href="/assets/40.html.0c25b56b.js"><link rel="prefetch" href="/assets/index.html.a7575911.js"><link rel="prefetch" href="/assets/1.html.18938c4c.js"><link rel="prefetch" href="/assets/10.html.f664515e.js"><link rel="prefetch" href="/assets/11.html.894534ee.js"><link rel="prefetch" href="/assets/12.html.7be36974.js"><link rel="prefetch" href="/assets/13.html.63f1e7e4.js"><link rel="prefetch" href="/assets/14.html.89138f20.js"><link rel="prefetch" href="/assets/15.html.455305e3.js"><link rel="prefetch" href="/assets/16.html.b53d8f21.js"><link rel="prefetch" href="/assets/17.html.40724eb8.js"><link rel="prefetch" href="/assets/18.html.0c25012b.js"><link rel="prefetch" href="/assets/19.html.3ce29682.js"><link rel="prefetch" href="/assets/2.html.f4300b24.js"><link rel="prefetch" href="/assets/20.html.8858a4e9.js"><link rel="prefetch" href="/assets/21.html.e5b16c89.js"><link rel="prefetch" href="/assets/22.html.a91eab06.js"><link rel="prefetch" href="/assets/23.html.8928dd88.js"><link rel="prefetch" href="/assets/24.html.e5bb064a.js"><link rel="prefetch" href="/assets/25.html.8e5080fc.js"><link rel="prefetch" href="/assets/26.html.dcc6bb0c.js"><link rel="prefetch" href="/assets/27.html.7aea7424.js"><link rel="prefetch" href="/assets/28.html.9b4f492d.js"><link rel="prefetch" href="/assets/29.html.4cd69ba4.js"><link rel="prefetch" href="/assets/3.html.7aea9b7f.js"><link rel="prefetch" href="/assets/30.html.a46a758d.js"><link rel="prefetch" href="/assets/31.html.d7390509.js"><link rel="prefetch" href="/assets/32.html.c433c11f.js"><link rel="prefetch" href="/assets/33.html.30375b0f.js"><link rel="prefetch" href="/assets/34.html.201cfeb6.js"><link rel="prefetch" href="/assets/35.html.15fb2830.js"><link rel="prefetch" href="/assets/36.html.75b9800c.js"><link rel="prefetch" href="/assets/37.html.a93f8c48.js"><link rel="prefetch" href="/assets/38.html.8b270f20.js"><link rel="prefetch" href="/assets/39.html.72220720.js"><link rel="prefetch" href="/assets/4.html.d75f7d0e.js"><link rel="prefetch" href="/assets/41.html.ebde12e4.js"><link rel="prefetch" href="/assets/42.html.98b0929d.js"><link rel="prefetch" href="/assets/43.html.a362dcd0.js"><link rel="prefetch" href="/assets/44.html.3fcc9a07.js"><link rel="prefetch" href="/assets/45.html.d280487f.js"><link rel="prefetch" href="/assets/46.html.e311282b.js"><link rel="prefetch" href="/assets/47.html.613325c9.js"><link rel="prefetch" href="/assets/48.html.4a4db7ad.js"><link rel="prefetch" href="/assets/49.html.8b671ad7.js"><link rel="prefetch" href="/assets/5.html.32bda1b0.js"><link rel="prefetch" href="/assets/50.html.ed9ddc5b.js"><link rel="prefetch" href="/assets/51.html.8edafd7d.js"><link rel="prefetch" href="/assets/52.html.d226f9fd.js"><link rel="prefetch" href="/assets/53.html.d1c693c4.js"><link rel="prefetch" href="/assets/54.html.37a1eff3.js"><link rel="prefetch" href="/assets/55.html.dde3ab2d.js"><link rel="prefetch" href="/assets/56.html.2ac52495.js"><link rel="prefetch" href="/assets/57.html.bacbca68.js"><link rel="prefetch" href="/assets/58.html.4505d1c9.js"><link rel="prefetch" href="/assets/59.html.b34e6550.js"><link rel="prefetch" href="/assets/6.html.43677f4a.js"><link rel="prefetch" href="/assets/60.html.b4109b9c.js"><link rel="prefetch" href="/assets/61.html.b523b5ff.js"><link rel="prefetch" href="/assets/62.html.ae7dc90f.js"><link rel="prefetch" href="/assets/63.html.303f1ec3.js"><link rel="prefetch" href="/assets/64.html.9a893b61.js"><link rel="prefetch" href="/assets/65.html.03e77126.js"><link rel="prefetch" href="/assets/66.html.88143b69.js"><link rel="prefetch" href="/assets/67.html.b0109f9a.js"><link rel="prefetch" href="/assets/68.html.324487cb.js"><link rel="prefetch" href="/assets/69.html.99b484cd.js"><link rel="prefetch" href="/assets/7.html.cb20d1a2.js"><link rel="prefetch" href="/assets/70.html.14b1357f.js"><link rel="prefetch" href="/assets/71.html.a0032e32.js"><link rel="prefetch" href="/assets/72.html.3b1418fa.js"><link rel="prefetch" href="/assets/73.html.866dd89e.js"><link rel="prefetch" href="/assets/74.html.f7be2218.js"><link rel="prefetch" href="/assets/75.html.27b5baeb.js"><link rel="prefetch" href="/assets/76.html.00568f4c.js"><link rel="prefetch" href="/assets/77.html.9dbe8ea7.js"><link rel="prefetch" href="/assets/78.html.c19abea0.js"><link rel="prefetch" href="/assets/79.html.001fec96.js"><link rel="prefetch" href="/assets/8.html.cd541b09.js"><link rel="prefetch" href="/assets/80.html.c7833729.js"><link rel="prefetch" href="/assets/81.html.5e9941b0.js"><link rel="prefetch" href="/assets/82.html.41324c79.js"><link rel="prefetch" href="/assets/83.html.e38e8dd9.js"><link rel="prefetch" href="/assets/84.html.fd03f5b0.js"><link rel="prefetch" href="/assets/85.html.3f667e5f.js"><link rel="prefetch" href="/assets/86.html.94c2f18e.js"><link rel="prefetch" href="/assets/87.html.0d39d5b3.js"><link rel="prefetch" href="/assets/88.html.8e8f07de.js"><link rel="prefetch" href="/assets/89.html.fc38df69.js"><link rel="prefetch" href="/assets/9.html.21fb1ee7.js"><link rel="prefetch" href="/assets/90.html.0b0448cc.js"><link rel="prefetch" href="/assets/91.html.f7320e64.js"><link rel="prefetch" href="/assets/92.html.d8582fb2.js"><link rel="prefetch" href="/assets/93.html.841401ac.js"><link rel="prefetch" href="/assets/94.html.cf611e9c.js"><link rel="prefetch" href="/assets/95.html.2a553f73.js"><link rel="prefetch" href="/assets/96.html.2a9acdbf.js"><link rel="prefetch" href="/assets/97.html.6c1f49c6.js"><link rel="prefetch" href="/assets/98.html.c75acc71.js"><link rel="prefetch" href="/assets/99.html.54c6fa27.js"><link rel="prefetch" href="/assets/index.html.dc8ab598.js"><link rel="prefetch" href="/assets/TODO.html.830317c3.js"><link rel="prefetch" href="/assets/1.html.b0d7e311.js"><link rel="prefetch" href="/assets/10.html.74bfa8d5.js"><link rel="prefetch" href="/assets/11.html.a0ee6e27.js"><link rel="prefetch" href="/assets/12.html.c7e95b78.js"><link rel="prefetch" href="/assets/13.html.21fe8d41.js"><link rel="prefetch" href="/assets/14.html.2bc4842f.js"><link rel="prefetch" href="/assets/15.html.273aab40.js"><link rel="prefetch" href="/assets/16.html.cff5ccdd.js"><link rel="prefetch" href="/assets/17.html.61d6478a.js"><link rel="prefetch" href="/assets/18.html.b5af5a3c.js"><link rel="prefetch" href="/assets/19.html.8dd80505.js"><link rel="prefetch" href="/assets/2.html.c38b309c.js"><link rel="prefetch" href="/assets/20.html.7423c3ab.js"><link rel="prefetch" href="/assets/21.html.4f66bd46.js"><link rel="prefetch" href="/assets/22.html.a59e5010.js"><link rel="prefetch" href="/assets/23.html.1548e8fe.js"><link rel="prefetch" href="/assets/24.html.4fa654f7.js"><link rel="prefetch" href="/assets/25.html.c2065edd.js"><link rel="prefetch" href="/assets/26.html.a1050e08.js"><link rel="prefetch" href="/assets/27.html.d6d251ce.js"><link rel="prefetch" href="/assets/28.html.50e90924.js"><link rel="prefetch" href="/assets/29.html.5e4331f5.js"><link rel="prefetch" href="/assets/3.html.6b85bcb4.js"><link rel="prefetch" href="/assets/30.html.54824bc2.js"><link rel="prefetch" href="/assets/31.html.df4f90ad.js"><link rel="prefetch" href="/assets/32.html.ee8fa45f.js"><link rel="prefetch" href="/assets/33.html.ce4b5b50.js"><link rel="prefetch" href="/assets/34.html.6692d866.js"><link rel="prefetch" href="/assets/35.html.113be7d0.js"><link rel="prefetch" href="/assets/36.html.c5f9162c.js"><link rel="prefetch" href="/assets/37.html.e6401841.js"><link rel="prefetch" href="/assets/38.html.e648e6c2.js"><link rel="prefetch" href="/assets/39.html.1107f344.js"><link rel="prefetch" href="/assets/4.html.2ba64301.js"><link rel="prefetch" href="/assets/40.html.8da7b155.js"><link rel="prefetch" href="/assets/41.html.2a8a63fa.js"><link rel="prefetch" href="/assets/42.html.129390e0.js"><link rel="prefetch" href="/assets/43.html.da0927d8.js"><link rel="prefetch" href="/assets/44.html.36225633.js"><link rel="prefetch" href="/assets/45.html.72187430.js"><link rel="prefetch" href="/assets/46.html.202f463b.js"><link rel="prefetch" href="/assets/47.html.170cb5f2.js"><link rel="prefetch" href="/assets/48.html.f7a22b63.js"><link rel="prefetch" href="/assets/49.html.99c718b4.js"><link rel="prefetch" href="/assets/5.html.9a93b5bd.js"><link rel="prefetch" href="/assets/6.html.6a0cab53.js"><link rel="prefetch" href="/assets/7.html.4ecafecd.js"><link rel="prefetch" href="/assets/8.html.f3e71fb5.js"><link rel="prefetch" href="/assets/9.html.0f94f747.js"><link rel="prefetch" href="/assets/1.html.fefabf1f.js"><link rel="prefetch" href="/assets/10.html.a591fdaf.js"><link rel="prefetch" href="/assets/11.html.f0c58879.js"><link rel="prefetch" href="/assets/12.html.6174ec90.js"><link rel="prefetch" href="/assets/13.html.181888e9.js"><link rel="prefetch" href="/assets/14.html.7b106669.js"><link rel="prefetch" href="/assets/15.html.c0e4acaa.js"><link rel="prefetch" href="/assets/16.html.7a3ba1ea.js"><link rel="prefetch" href="/assets/17.html.7a0b131d.js"><link rel="prefetch" href="/assets/18.html.a9e5ae4a.js"><link rel="prefetch" href="/assets/19.html.f9a1dad0.js"><link rel="prefetch" href="/assets/2.html.47656e60.js"><link rel="prefetch" href="/assets/20.html.7990e495.js"><link rel="prefetch" href="/assets/21.html.10de0a75.js"><link rel="prefetch" href="/assets/22.html.ccdeb6c4.js"><link rel="prefetch" href="/assets/23.html.371d6681.js"><link rel="prefetch" href="/assets/24.html.1e3b14eb.js"><link rel="prefetch" href="/assets/25.html.ce330676.js"><link rel="prefetch" href="/assets/26.html.d044406f.js"><link rel="prefetch" href="/assets/27.html.ccc926f6.js"><link rel="prefetch" href="/assets/28.html.49f5cbc7.js"><link rel="prefetch" href="/assets/29.html.f44fb171.js"><link rel="prefetch" href="/assets/3.html.44eda9ad.js"><link rel="prefetch" href="/assets/30.html.71962bb9.js"><link rel="prefetch" href="/assets/31.html.05d73e5f.js"><link rel="prefetch" href="/assets/32.html.e98a73d9.js"><link rel="prefetch" href="/assets/33.html.55b3c6fb.js"><link rel="prefetch" href="/assets/34.html.5146048c.js"><link rel="prefetch" href="/assets/35.html.51cb1df4.js"><link rel="prefetch" href="/assets/36.html.dea92735.js"><link rel="prefetch" href="/assets/37.html.4987df3a.js"><link rel="prefetch" href="/assets/38.html.94359779.js"><link rel="prefetch" href="/assets/39.html.e9fb19b6.js"><link rel="prefetch" href="/assets/4.html.72833ac9.js"><link rel="prefetch" href="/assets/40.html.12ce2063.js"><link rel="prefetch" href="/assets/41.html.17b39dbf.js"><link rel="prefetch" href="/assets/42.html.737c2f7f.js"><link rel="prefetch" href="/assets/43.html.4aa549bb.js"><link rel="prefetch" href="/assets/44.html.461dd21b.js"><link rel="prefetch" href="/assets/45.html.f89e3252.js"><link rel="prefetch" href="/assets/46.html.0c1c3d86.js"><link rel="prefetch" href="/assets/47.html.7a6006c3.js"><link rel="prefetch" href="/assets/48.html.876530ae.js"><link rel="prefetch" href="/assets/49.html.93195ef1.js"><link rel="prefetch" href="/assets/5.html.d52a2513.js"><link rel="prefetch" href="/assets/50.html.ae771c42.js"><link rel="prefetch" href="/assets/6.html.6207e399.js"><link rel="prefetch" href="/assets/7.html.60b74bd7.js"><link rel="prefetch" href="/assets/8.html.4ebadc89.js"><link rel="prefetch" href="/assets/9.html.38305fea.js"><link rel="prefetch" href="/assets/k8s_011.html.a02b632d.js"><link rel="prefetch" href="/assets/k8s_012.html.43d51b72.js"><link rel="prefetch" href="/assets/k8s_013.html.ec5b47f7.js"><link rel="prefetch" href="/assets/k8s_014.html.f6d97c90.js"><link rel="prefetch" href="/assets/k8s_015.html.e0a1919b.js"><link rel="prefetch" href="/assets/k8s_016.html.3974eb6c.js"><link rel="prefetch" href="/assets/k8s_017.html.75871624.js"><link rel="prefetch" href="/assets/k8s_018.html.12099bf7.js"><link rel="prefetch" href="/assets/k8s_019.html.056e3a37.js"><link rel="prefetch" href="/assets/k8s_020.html.81fc58d1.js"><link rel="prefetch" href="/assets/k8s_021.html.28a3099b.js"><link rel="prefetch" href="/assets/k8s_022.html.bd4c9467.js"><link rel="prefetch" href="/assets/k8s_023.html.ffd7194a.js"><link rel="prefetch" href="/assets/k8s_024.html.3422943c.js"><link rel="prefetch" href="/assets/k8s_025.html.29b4b1e1.js"><link rel="prefetch" href="/assets/k8s_026.html.37a39c28.js"><link rel="prefetch" href="/assets/k8s_027.html.ffb2e25f.js"><link rel="prefetch" href="/assets/k8s_028.html.d98c6ad6.js"><link rel="prefetch" href="/assets/k8s_029.html.ca41febf.js"><link rel="prefetch" href="/assets/k8s_030.html.9902d045.js"><link rel="prefetch" href="/assets/README (copy).html.813a2fda.js"><link rel="prefetch" href="/assets/index.html.3fd59935.js"><link rel="prefetch" href="/assets/1.html.908ee66a.js"><link rel="prefetch" href="/assets/10.html.e77e0455.js"><link rel="prefetch" href="/assets/11.html.7e785902.js"><link rel="prefetch" href="/assets/12.html.1599a54d.js"><link rel="prefetch" href="/assets/13.html.70628749.js"><link rel="prefetch" href="/assets/14.html.18e6797b.js"><link rel="prefetch" href="/assets/15.html.df743cd2.js"><link rel="prefetch" href="/assets/16.html.55d56ea8.js"><link rel="prefetch" href="/assets/17.html.6874d49f.js"><link rel="prefetch" href="/assets/18.html.65b90de4.js"><link rel="prefetch" href="/assets/19.html.dde6b661.js"><link rel="prefetch" href="/assets/2.html.e1274803.js"><link rel="prefetch" href="/assets/20.html.0fe80452.js"><link rel="prefetch" href="/assets/21.html.f85d8468.js"><link rel="prefetch" href="/assets/22.html.0afb63ed.js"><link rel="prefetch" href="/assets/23.html.acd56ad8.js"><link rel="prefetch" href="/assets/24.html.f874b480.js"><link rel="prefetch" href="/assets/25.html.e020387b.js"><link rel="prefetch" href="/assets/26.html.ccbed0cc.js"><link rel="prefetch" href="/assets/27.html.148446d1.js"><link rel="prefetch" href="/assets/28.html.a94af5c0.js"><link rel="prefetch" href="/assets/29.html.aa33eff4.js"><link rel="prefetch" href="/assets/3.html.cac76b28.js"><link rel="prefetch" href="/assets/30.html.6c68425a.js"><link rel="prefetch" href="/assets/31.html.9b16aa42.js"><link rel="prefetch" href="/assets/32.html.6d1882b9.js"><link rel="prefetch" href="/assets/33.html.450fcdf8.js"><link rel="prefetch" href="/assets/34.html.b2875ca6.js"><link rel="prefetch" href="/assets/35.html.b9867f79.js"><link rel="prefetch" href="/assets/36.html.614ee854.js"><link rel="prefetch" href="/assets/37.html.2d010e5c.js"><link rel="prefetch" href="/assets/38.html.db03c609.js"><link rel="prefetch" href="/assets/39.html.dae7a11d.js"><link rel="prefetch" href="/assets/4.html.d793bb26.js"><link rel="prefetch" href="/assets/40.html.78ecc669.js"><link rel="prefetch" href="/assets/41.html.f71f97a0.js"><link rel="prefetch" href="/assets/42.html.8af2270a.js"><link rel="prefetch" href="/assets/43.html.aeab5555.js"><link rel="prefetch" href="/assets/44.html.ca417de8.js"><link rel="prefetch" href="/assets/45.html.26989a52.js"><link rel="prefetch" href="/assets/46.html.48fe7270.js"><link rel="prefetch" href="/assets/47.html.3e47ee65.js"><link rel="prefetch" href="/assets/48.html.d08a8b7f.js"><link rel="prefetch" href="/assets/49.html.1c55cdc2.js"><link rel="prefetch" href="/assets/5.html.f58f6203.js"><link rel="prefetch" href="/assets/50.html.581cdfdd.js"><link rel="prefetch" href="/assets/51.html.143c32e9.js"><link rel="prefetch" href="/assets/52.html.7488aa3f.js"><link rel="prefetch" href="/assets/53.html.df9bfd27.js"><link rel="prefetch" href="/assets/54.html.97e0befc.js"><link rel="prefetch" href="/assets/55.html.9f2e0fc4.js"><link rel="prefetch" href="/assets/56.html.832dc435.js"><link rel="prefetch" href="/assets/57.html.55b5f82f.js"><link rel="prefetch" href="/assets/58.html.f97be2b4.js"><link rel="prefetch" href="/assets/59.html.c2454b9d.js"><link rel="prefetch" href="/assets/6.html.2b7b8ad3.js"><link rel="prefetch" href="/assets/60.html.5867f9c4.js"><link rel="prefetch" href="/assets/61.html.1e8bbff2.js"><link rel="prefetch" href="/assets/62.html.ce4e8457.js"><link rel="prefetch" href="/assets/63.html.b668ae9a.js"><link rel="prefetch" href="/assets/64.html.875cd724.js"><link rel="prefetch" href="/assets/65.html.53b86f35.js"><link rel="prefetch" href="/assets/66.html.a502d8c9.js"><link rel="prefetch" href="/assets/67.html.7d2e39ec.js"><link rel="prefetch" href="/assets/68.html.4430bebd.js"><link rel="prefetch" href="/assets/69.html.bf5ab228.js"><link rel="prefetch" href="/assets/7.html.44323637.js"><link rel="prefetch" href="/assets/70.html.670b967e.js"><link rel="prefetch" href="/assets/71.html.4898ac53.js"><link rel="prefetch" href="/assets/72.html.3ed54957.js"><link rel="prefetch" href="/assets/73.html.3269221e.js"><link rel="prefetch" href="/assets/74.html.d36867b2.js"><link rel="prefetch" href="/assets/75.html.8b1ecf89.js"><link rel="prefetch" href="/assets/76.html.6edcd166.js"><link rel="prefetch" href="/assets/77.html.e7635ab7.js"><link rel="prefetch" href="/assets/78.html.0de8f8e0.js"><link rel="prefetch" href="/assets/79.html.b84c0c1d.js"><link rel="prefetch" href="/assets/8.html.fbdd9051.js"><link rel="prefetch" href="/assets/80.html.72b53b23.js"><link rel="prefetch" href="/assets/81.html.2df80b97.js"><link rel="prefetch" href="/assets/82.html.ad487a1e.js"><link rel="prefetch" href="/assets/83.html.c2f31839.js"><link rel="prefetch" href="/assets/84.html.8f08ca4d.js"><link rel="prefetch" href="/assets/85.html.58986e20.js"><link rel="prefetch" href="/assets/86.html.b208cc40.js"><link rel="prefetch" href="/assets/87.html.c3518680.js"><link rel="prefetch" href="/assets/88.html.4987ffcc.js"><link rel="prefetch" href="/assets/89.html.ba926430.js"><link rel="prefetch" href="/assets/9.html.1b790a84.js"><link rel="prefetch" href="/assets/90.html.21f82605.js"><link rel="prefetch" href="/assets/91.html.b7301274.js"><link rel="prefetch" href="/assets/92.html.3662bc0c.js"><link rel="prefetch" href="/assets/93.html.e2ac0831.js"><link rel="prefetch" href="/assets/94.html.02d9e407.js"><link rel="prefetch" href="/assets/95.html.10a9639a.js"><link rel="prefetch" href="/assets/96.html.62960ce9.js"><link rel="prefetch" href="/assets/97.html.d0ab9bbe.js"><link rel="prefetch" href="/assets/98.html.89ca1b0b.js"><link rel="prefetch" href="/assets/99.html.5143f23b.js"><link rel="prefetch" href="/assets/index.html.b4c0dc45.js"><link rel="prefetch" href="/assets/404.html.c3e557d0.js"><link rel="prefetch" href="/assets/index.html.a1f72eb8.js"><link rel="prefetch" href="/assets/1.html.addeeba9.js"><link rel="prefetch" href="/assets/10.html.76a40f15.js"><link rel="prefetch" href="/assets/11.html.5ee402f7.js"><link rel="prefetch" href="/assets/12.html.8b4aa833.js"><link rel="prefetch" href="/assets/13.html.4a78b1f9.js"><link rel="prefetch" href="/assets/14.html.8f69671e.js"><link rel="prefetch" href="/assets/15.html.7e0a5e79.js"><link rel="prefetch" href="/assets/16.html.c0288fcf.js"><link rel="prefetch" href="/assets/17.html.4d3435c7.js"><link rel="prefetch" href="/assets/18.html.6616dfb6.js"><link rel="prefetch" href="/assets/19.html.73070db5.js"><link rel="prefetch" href="/assets/2.html.5fec42e2.js"><link rel="prefetch" href="/assets/20.html.38ae1626.js"><link rel="prefetch" href="/assets/21.html.12af000f.js"><link rel="prefetch" href="/assets/22.html.cbab5936.js"><link rel="prefetch" href="/assets/23.html.6b06508a.js"><link rel="prefetch" href="/assets/24.html.20d987cf.js"><link rel="prefetch" href="/assets/25.html.f9e636f5.js"><link rel="prefetch" href="/assets/26.html.a57a6911.js"><link rel="prefetch" href="/assets/27.html.22cce44b.js"><link rel="prefetch" href="/assets/28.html.972bae1c.js"><link rel="prefetch" href="/assets/29.html.f51d60bd.js"><link rel="prefetch" href="/assets/3.html.1481eaa6.js"><link rel="prefetch" href="/assets/30.html.c16b44ed.js"><link rel="prefetch" href="/assets/31.html.2feffaf4.js"><link rel="prefetch" href="/assets/32.html.182bec6e.js"><link rel="prefetch" href="/assets/33.html.203c5cfc.js"><link rel="prefetch" href="/assets/34.html.208460e3.js"><link rel="prefetch" href="/assets/35.html.35b7e823.js"><link rel="prefetch" href="/assets/36.html.2f162f83.js"><link rel="prefetch" href="/assets/37.html.3fcc3aba.js"><link rel="prefetch" href="/assets/38.html.de51cec1.js"><link rel="prefetch" href="/assets/39.html.45428b56.js"><link rel="prefetch" href="/assets/4.html.53486b5e.js"><link rel="prefetch" href="/assets/41.html.43e2a023.js"><link rel="prefetch" href="/assets/42.html.4261ba16.js"><link rel="prefetch" href="/assets/43.html.a83ab473.js"><link rel="prefetch" href="/assets/44.html.f067be24.js"><link rel="prefetch" href="/assets/45.html.c941354b.js"><link rel="prefetch" href="/assets/46.html.3e804630.js"><link rel="prefetch" href="/assets/47.html.3f5c9bed.js"><link rel="prefetch" href="/assets/48.html.ffb4d87e.js"><link rel="prefetch" href="/assets/49.html.094d3e8e.js"><link rel="prefetch" href="/assets/5.html.ebd07efb.js"><link rel="prefetch" href="/assets/50.html.b338c826.js"><link rel="prefetch" href="/assets/51.html.4347f51f.js"><link rel="prefetch" href="/assets/52.html.ab7fdf47.js"><link rel="prefetch" href="/assets/53.html.d1a3dbd0.js"><link rel="prefetch" href="/assets/54.html.0464fffe.js"><link rel="prefetch" href="/assets/55.html.5f124ed1.js"><link rel="prefetch" href="/assets/56.html.3a939604.js"><link rel="prefetch" href="/assets/57.html.6128bd43.js"><link rel="prefetch" href="/assets/58.html.05ec0fa2.js"><link rel="prefetch" href="/assets/59.html.5f87056b.js"><link rel="prefetch" href="/assets/6.html.316ac226.js"><link rel="prefetch" href="/assets/60.html.161349c7.js"><link rel="prefetch" href="/assets/61.html.fb0dbd44.js"><link rel="prefetch" href="/assets/62.html.e205a86c.js"><link rel="prefetch" href="/assets/63.html.6710b71e.js"><link rel="prefetch" href="/assets/64.html.95dc0fc8.js"><link rel="prefetch" href="/assets/65.html.2f653873.js"><link rel="prefetch" href="/assets/66.html.bd07967c.js"><link rel="prefetch" href="/assets/67.html.17263c85.js"><link rel="prefetch" href="/assets/68.html.edaa2806.js"><link rel="prefetch" href="/assets/69.html.7e6aceba.js"><link rel="prefetch" href="/assets/7.html.ea17fdab.js"><link rel="prefetch" href="/assets/70.html.920034f5.js"><link rel="prefetch" href="/assets/71.html.61498c31.js"><link rel="prefetch" href="/assets/72.html.8ba577d7.js"><link rel="prefetch" href="/assets/73.html.568c0149.js"><link rel="prefetch" href="/assets/74.html.6976381c.js"><link rel="prefetch" href="/assets/75.html.c25d5eb6.js"><link rel="prefetch" href="/assets/76.html.f338ca92.js"><link rel="prefetch" href="/assets/77.html.b2fd7ca3.js"><link rel="prefetch" href="/assets/78.html.110a36c7.js"><link rel="prefetch" href="/assets/79.html.effc07cf.js"><link rel="prefetch" href="/assets/8.html.dbf8ca15.js"><link rel="prefetch" href="/assets/80.html.d2cb5b50.js"><link rel="prefetch" href="/assets/81.html.b243b354.js"><link rel="prefetch" href="/assets/82.html.cc5b3b58.js"><link rel="prefetch" href="/assets/83.html.e88ab316.js"><link rel="prefetch" href="/assets/84.html.9ed3d4e7.js"><link rel="prefetch" href="/assets/85.html.26e90e71.js"><link rel="prefetch" href="/assets/86.html.7144e09c.js"><link rel="prefetch" href="/assets/87.html.de8c744b.js"><link rel="prefetch" href="/assets/88.html.e6329b76.js"><link rel="prefetch" href="/assets/89.html.beb2f015.js"><link rel="prefetch" href="/assets/9.html.01248808.js"><link rel="prefetch" href="/assets/90.html.c13cb977.js"><link rel="prefetch" href="/assets/91.html.1d2c1c19.js"><link rel="prefetch" href="/assets/92.html.8067e319.js"><link rel="prefetch" href="/assets/93.html.c9e58e4b.js"><link rel="prefetch" href="/assets/94.html.ed040106.js"><link rel="prefetch" href="/assets/95.html.3ea7e6fd.js"><link rel="prefetch" href="/assets/96.html.56d2c8e3.js"><link rel="prefetch" href="/assets/97.html.f609d419.js"><link rel="prefetch" href="/assets/98.html.a56ef72c.js"><link rel="prefetch" href="/assets/99.html.f1169b93.js"><link rel="prefetch" href="/assets/index.html.49d1cbbe.js"><link rel="prefetch" href="/assets/TODO.html.55089365.js"><link rel="prefetch" href="/assets/1.html.f2656a97.js"><link rel="prefetch" href="/assets/10.html.b8a772a2.js"><link rel="prefetch" href="/assets/11.html.2ed5e57e.js"><link rel="prefetch" href="/assets/12.html.b74ad336.js"><link rel="prefetch" href="/assets/13.html.b2ce4ccc.js"><link rel="prefetch" href="/assets/14.html.ef101cd5.js"><link rel="prefetch" href="/assets/15.html.164f72bb.js"><link rel="prefetch" href="/assets/16.html.314cf309.js"><link rel="prefetch" href="/assets/17.html.ed3cc434.js"><link rel="prefetch" href="/assets/18.html.58505fe2.js"><link rel="prefetch" href="/assets/19.html.89b2375f.js"><link rel="prefetch" href="/assets/2.html.0c3b1de0.js"><link rel="prefetch" href="/assets/20.html.1271ec33.js"><link rel="prefetch" href="/assets/21.html.0fc49472.js"><link rel="prefetch" href="/assets/22.html.953f6969.js"><link rel="prefetch" href="/assets/23.html.69db65e1.js"><link rel="prefetch" href="/assets/24.html.ae324904.js"><link rel="prefetch" href="/assets/25.html.bf5ed42a.js"><link rel="prefetch" href="/assets/26.html.8e9b4db4.js"><link rel="prefetch" href="/assets/27.html.393de9cf.js"><link rel="prefetch" href="/assets/28.html.cd7106d0.js"><link rel="prefetch" href="/assets/29.html.2be75481.js"><link rel="prefetch" href="/assets/3.html.09d8e3b1.js"><link rel="prefetch" href="/assets/30.html.f6f122f3.js"><link rel="prefetch" href="/assets/31.html.ed75c3fc.js"><link rel="prefetch" href="/assets/32.html.0c11e1b8.js"><link rel="prefetch" href="/assets/33.html.4c73f1b1.js"><link rel="prefetch" href="/assets/34.html.5f118757.js"><link rel="prefetch" href="/assets/35.html.7c5b0f72.js"><link rel="prefetch" href="/assets/36.html.b88cc481.js"><link rel="prefetch" href="/assets/37.html.fa4be9d4.js"><link rel="prefetch" href="/assets/38.html.dabeb633.js"><link rel="prefetch" href="/assets/39.html.c85d01b4.js"><link rel="prefetch" href="/assets/4.html.692b75d0.js"><link rel="prefetch" href="/assets/40.html.e2cc65d2.js"><link rel="prefetch" href="/assets/41.html.979c5669.js"><link rel="prefetch" href="/assets/42.html.170095ed.js"><link rel="prefetch" href="/assets/43.html.60242098.js"><link rel="prefetch" href="/assets/44.html.a9afaa7c.js"><link rel="prefetch" href="/assets/45.html.f0a89d71.js"><link rel="prefetch" href="/assets/46.html.1db86e54.js"><link rel="prefetch" href="/assets/47.html.aff5fbf9.js"><link rel="prefetch" href="/assets/48.html.de69b5b0.js"><link rel="prefetch" href="/assets/49.html.06288fc7.js"><link rel="prefetch" href="/assets/5.html.ee2db930.js"><link rel="prefetch" href="/assets/6.html.047438b7.js"><link rel="prefetch" href="/assets/7.html.300932f5.js"><link rel="prefetch" href="/assets/8.html.b0ca353b.js"><link rel="prefetch" href="/assets/9.html.c1ecac6a.js"><link rel="prefetch" href="/assets/1.html.ada8f073.js"><link rel="prefetch" href="/assets/10.html.f1aa5fea.js"><link rel="prefetch" href="/assets/11.html.71c7185a.js"><link rel="prefetch" href="/assets/12.html.d98623d9.js"><link rel="prefetch" href="/assets/13.html.795601af.js"><link rel="prefetch" href="/assets/14.html.12e045a0.js"><link rel="prefetch" href="/assets/15.html.0716ce4e.js"><link rel="prefetch" href="/assets/16.html.ea0ade3d.js"><link rel="prefetch" href="/assets/17.html.c1925335.js"><link rel="prefetch" href="/assets/18.html.7fb2d87f.js"><link rel="prefetch" href="/assets/19.html.0a001781.js"><link rel="prefetch" href="/assets/2.html.6bc7a078.js"><link rel="prefetch" href="/assets/20.html.bb45306c.js"><link rel="prefetch" href="/assets/21.html.b569948e.js"><link rel="prefetch" href="/assets/22.html.898ed396.js"><link rel="prefetch" href="/assets/23.html.d71788bc.js"><link rel="prefetch" href="/assets/24.html.6c5d2628.js"><link rel="prefetch" href="/assets/25.html.0205f6d8.js"><link rel="prefetch" href="/assets/26.html.853ee5fb.js"><link rel="prefetch" href="/assets/27.html.0c8e80d9.js"><link rel="prefetch" href="/assets/28.html.9423d677.js"><link rel="prefetch" href="/assets/29.html.3425afc6.js"><link rel="prefetch" href="/assets/3.html.8f52c2c3.js"><link rel="prefetch" href="/assets/30.html.08d11f5a.js"><link rel="prefetch" href="/assets/31.html.1a101b9d.js"><link rel="prefetch" href="/assets/32.html.77bd6017.js"><link rel="prefetch" href="/assets/33.html.44085015.js"><link rel="prefetch" href="/assets/34.html.29da6128.js"><link rel="prefetch" href="/assets/35.html.bb75e517.js"><link rel="prefetch" href="/assets/36.html.9cbdbad9.js"><link rel="prefetch" href="/assets/37.html.42d7ce31.js"><link rel="prefetch" href="/assets/38.html.1adec6e0.js"><link rel="prefetch" href="/assets/39.html.bbd53714.js"><link rel="prefetch" href="/assets/4.html.72ac4e0b.js"><link rel="prefetch" href="/assets/40.html.a38258b5.js"><link rel="prefetch" href="/assets/41.html.890148e8.js"><link rel="prefetch" href="/assets/42.html.91167da8.js"><link rel="prefetch" href="/assets/43.html.47f96719.js"><link rel="prefetch" href="/assets/44.html.05095b05.js"><link rel="prefetch" href="/assets/45.html.ee65f167.js"><link rel="prefetch" href="/assets/46.html.2dde8782.js"><link rel="prefetch" href="/assets/47.html.4e6ec348.js"><link rel="prefetch" href="/assets/48.html.ac6b8fda.js"><link rel="prefetch" href="/assets/49.html.f19a22f6.js"><link rel="prefetch" href="/assets/5.html.812a6d91.js"><link rel="prefetch" href="/assets/50.html.bd306146.js"><link rel="prefetch" href="/assets/6.html.3b72208c.js"><link rel="prefetch" href="/assets/7.html.17499391.js"><link rel="prefetch" href="/assets/8.html.03640093.js"><link rel="prefetch" href="/assets/9.html.cb5152bc.js"><link rel="prefetch" href="/assets/k8s_011.html.6d7b3fd8.js"><link rel="prefetch" href="/assets/k8s_012.html.a15ca6a5.js"><link rel="prefetch" href="/assets/k8s_013.html.4301e2c8.js"><link rel="prefetch" href="/assets/k8s_014.html.c98ff313.js"><link rel="prefetch" href="/assets/k8s_015.html.1a980061.js"><link rel="prefetch" href="/assets/k8s_016.html.0d5403ad.js"><link rel="prefetch" href="/assets/k8s_017.html.8540089d.js"><link rel="prefetch" href="/assets/k8s_018.html.7c208967.js"><link rel="prefetch" href="/assets/k8s_019.html.e089dcc8.js"><link rel="prefetch" href="/assets/k8s_020.html.bf1d2a09.js"><link rel="prefetch" href="/assets/k8s_021.html.2de12958.js"><link rel="prefetch" href="/assets/k8s_022.html.c0bb9b53.js"><link rel="prefetch" href="/assets/k8s_023.html.1ac08c89.js"><link rel="prefetch" href="/assets/k8s_024.html.4f2fa023.js"><link rel="prefetch" href="/assets/k8s_025.html.18f69563.js"><link rel="prefetch" href="/assets/k8s_026.html.3153fdb9.js"><link rel="prefetch" href="/assets/k8s_027.html.23cdbca5.js"><link rel="prefetch" href="/assets/k8s_028.html.8b4c0ea6.js"><link rel="prefetch" href="/assets/k8s_029.html.094e5e79.js"><link rel="prefetch" href="/assets/k8s_030.html.49aaac36.js"><link rel="prefetch" href="/assets/README (copy).html.82801cdc.js"><link rel="prefetch" href="/assets/index.html.a1310403.js"><link rel="prefetch" href="/assets/1.html.1c6190f9.js"><link rel="prefetch" href="/assets/10.html.a8ee1fcc.js"><link rel="prefetch" href="/assets/11.html.0e1a8a1c.js"><link rel="prefetch" href="/assets/12.html.a84d16ba.js"><link rel="prefetch" href="/assets/13.html.085a244a.js"><link rel="prefetch" href="/assets/14.html.26880f6b.js"><link rel="prefetch" href="/assets/15.html.2fa3862d.js"><link rel="prefetch" href="/assets/16.html.f872d30a.js"><link rel="prefetch" href="/assets/17.html.ca78c31a.js"><link rel="prefetch" href="/assets/18.html.e6962d53.js"><link rel="prefetch" href="/assets/19.html.df39149b.js"><link rel="prefetch" href="/assets/2.html.975bd170.js"><link rel="prefetch" href="/assets/20.html.43213eb9.js"><link rel="prefetch" href="/assets/21.html.ac9fb500.js"><link rel="prefetch" href="/assets/22.html.89c6322b.js"><link rel="prefetch" href="/assets/23.html.f5cc013d.js"><link rel="prefetch" href="/assets/24.html.ef92b407.js"><link rel="prefetch" href="/assets/25.html.6443eda7.js"><link rel="prefetch" href="/assets/26.html.6cac72a7.js"><link rel="prefetch" href="/assets/27.html.92f868aa.js"><link rel="prefetch" href="/assets/28.html.4b10622a.js"><link rel="prefetch" href="/assets/29.html.5b9b2e11.js"><link rel="prefetch" href="/assets/3.html.0853d2f8.js"><link rel="prefetch" href="/assets/30.html.8dc16378.js"><link rel="prefetch" href="/assets/31.html.508e56bb.js"><link rel="prefetch" href="/assets/32.html.719deb69.js"><link rel="prefetch" href="/assets/33.html.9aa92e3e.js"><link rel="prefetch" href="/assets/34.html.e613c97c.js"><link rel="prefetch" href="/assets/35.html.44fef3a5.js"><link rel="prefetch" href="/assets/36.html.a757c48a.js"><link rel="prefetch" href="/assets/37.html.b32f843e.js"><link rel="prefetch" href="/assets/38.html.32b3bc1a.js"><link rel="prefetch" href="/assets/39.html.40f83b64.js"><link rel="prefetch" href="/assets/4.html.3a00c874.js"><link rel="prefetch" href="/assets/40.html.820357bd.js"><link rel="prefetch" href="/assets/41.html.794b9afa.js"><link rel="prefetch" href="/assets/42.html.8d9c4865.js"><link rel="prefetch" href="/assets/43.html.1765c101.js"><link rel="prefetch" href="/assets/44.html.f19a45a8.js"><link rel="prefetch" href="/assets/45.html.888b2d0c.js"><link rel="prefetch" href="/assets/46.html.c1e0599c.js"><link rel="prefetch" href="/assets/47.html.8bbd5c9d.js"><link rel="prefetch" href="/assets/48.html.cb0efba9.js"><link rel="prefetch" href="/assets/49.html.39c2a6eb.js"><link rel="prefetch" href="/assets/5.html.11750410.js"><link rel="prefetch" href="/assets/50.html.12d66557.js"><link rel="prefetch" href="/assets/51.html.aeb05951.js"><link rel="prefetch" href="/assets/52.html.28284f05.js"><link rel="prefetch" href="/assets/53.html.c6d91538.js"><link rel="prefetch" href="/assets/54.html.5af22021.js"><link rel="prefetch" href="/assets/55.html.84a9db52.js"><link rel="prefetch" href="/assets/56.html.5ab5b654.js"><link rel="prefetch" href="/assets/57.html.c87748f5.js"><link rel="prefetch" href="/assets/58.html.d4db2659.js"><link rel="prefetch" href="/assets/59.html.e7c1cdac.js"><link rel="prefetch" href="/assets/6.html.4e334720.js"><link rel="prefetch" href="/assets/60.html.2c8bab03.js"><link rel="prefetch" href="/assets/61.html.18e64b80.js"><link rel="prefetch" href="/assets/62.html.fa34539c.js"><link rel="prefetch" href="/assets/63.html.27519077.js"><link rel="prefetch" href="/assets/64.html.8e383db7.js"><link rel="prefetch" href="/assets/65.html.a66fef9e.js"><link rel="prefetch" href="/assets/66.html.b5e20f04.js"><link rel="prefetch" href="/assets/67.html.8dde2857.js"><link rel="prefetch" href="/assets/68.html.c1bbef92.js"><link rel="prefetch" href="/assets/69.html.ff92c5ce.js"><link rel="prefetch" href="/assets/7.html.1a8a0aa1.js"><link rel="prefetch" href="/assets/70.html.3e2214c7.js"><link rel="prefetch" href="/assets/71.html.54721ca8.js"><link rel="prefetch" href="/assets/72.html.6b08aed9.js"><link rel="prefetch" href="/assets/73.html.d512d36e.js"><link rel="prefetch" href="/assets/74.html.9a68b6ec.js"><link rel="prefetch" href="/assets/75.html.837bf084.js"><link rel="prefetch" href="/assets/76.html.0ff29100.js"><link rel="prefetch" href="/assets/77.html.c06a7243.js"><link rel="prefetch" href="/assets/78.html.8e370bf4.js"><link rel="prefetch" href="/assets/79.html.acb811a0.js"><link rel="prefetch" href="/assets/8.html.4a8d8090.js"><link rel="prefetch" href="/assets/80.html.3f5a38d2.js"><link rel="prefetch" href="/assets/81.html.522ff193.js"><link rel="prefetch" href="/assets/82.html.234b3131.js"><link rel="prefetch" href="/assets/83.html.9ed9ca51.js"><link rel="prefetch" href="/assets/84.html.d44616c0.js"><link rel="prefetch" href="/assets/85.html.314abb17.js"><link rel="prefetch" href="/assets/86.html.11dd4627.js"><link rel="prefetch" href="/assets/87.html.d0d8796a.js"><link rel="prefetch" href="/assets/88.html.663fa194.js"><link rel="prefetch" href="/assets/89.html.66591602.js"><link rel="prefetch" href="/assets/9.html.1ad214a7.js"><link rel="prefetch" href="/assets/90.html.1c9b4466.js"><link rel="prefetch" href="/assets/91.html.12247c6d.js"><link rel="prefetch" href="/assets/92.html.771e4a0d.js"><link rel="prefetch" href="/assets/93.html.1e1cfd14.js"><link rel="prefetch" href="/assets/94.html.ab705aee.js"><link rel="prefetch" href="/assets/95.html.ae134e5c.js"><link rel="prefetch" href="/assets/96.html.c27893b0.js"><link rel="prefetch" href="/assets/97.html.4c656796.js"><link rel="prefetch" href="/assets/98.html.cef2d758.js"><link rel="prefetch" href="/assets/99.html.1855f81c.js"><link rel="prefetch" href="/assets/index.html.ab8d8246.js"><link rel="prefetch" href="/assets/404.html.73a75a2c.js">
    <link rel="stylesheet" href="/assets/style.57cbcbfb.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="åˆ‡æ¢ä¾§è¾¹æ " aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name can-hide">ä½ å¥½</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ¤µå…³äºæˆ‘"><span class="title">ğŸ¤µå…³äºæˆ‘</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ¤µå…³äºæˆ‘"><span class="title">ğŸ¤µå…³äºæˆ‘</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/cubxxw/awesome-cs-cloudnative-blockchain" target="_self" aria-label="Githubä»“åº“"><!--[--><!--]--> Githubä»“åº“ <!----><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="http://nsddd.top" target="_self" aria-label="æˆ‘çš„åšå®¢"><!--[--><!--]--> æˆ‘çš„åšå®¢ <!----><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.zhihu.com/people/3293172751" rel="noopener noreferrer" target="_blank" aria-label="çŸ¥ä¹"><!--[--><!--]--> çŸ¥ä¹ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/kubecub/" rel="noopener noreferrer" target="_blank" aria-label="â›“ï¸é“¾å­¦ç¤¾ç»„ç»‡"><!--[--><!--]--> â›“ï¸é“¾å­¦ç¤¾ç»„ç»‡ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/" class="" aria-label="ğŸ é¦–é¡µ"><!--[--><!--]--> ğŸ é¦–é¡µ <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://go.nsddd.top" rel="noopener noreferrer" target="_blank" aria-label="ğŸ“šGoè¯­è¨€å­¦ä¹ "><!--[--><!--]--> ğŸ“šGoè¯­è¨€å­¦ä¹  <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a href="/Cloud-Native-k8s/" class="" aria-label="âš¡ k8så­¦ä¹ ç¯‡"><!--[--><!--]--> âš¡ k8så­¦ä¹ ç¯‡ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/markdown/" class="" aria-label="âš¡ dockerå­¦ä¹ ç¯‡"><!--[--><!--]--> âš¡ dockerå­¦ä¹ ç¯‡ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Cloud-Native/" class="router-link-active" aria-label="ğŸ„â€â™‚ï¸ äº‘åŸç”Ÿå­¦ä¹ ç¯‡"><!--[--><!--]--> ğŸ„â€â™‚ï¸ äº‘åŸç”Ÿå­¦ä¹ ç¯‡ <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/3293172751/awesome-docker" rel="noopener noreferrer" target="_blank" aria-label="æŸ¥çœ‹æºç "><!--[--><!--]--> æŸ¥çœ‹æºç  <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="åˆ‡æ¢é¢œè‰²æ¨¡å¼"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><div id="docsearch-container"></div></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="ğŸ¤µå…³äºæˆ‘"><span class="title">ğŸ¤µå…³äºæˆ‘</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="ğŸ¤µå…³äºæˆ‘"><span class="title">ğŸ¤µå…³äºæˆ‘</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/cubxxw/awesome-cs-cloudnative-blockchain" target="_self" aria-label="Githubä»“åº“"><!--[--><!--]--> Githubä»“åº“ <!----><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="http://nsddd.top" target="_self" aria-label="æˆ‘çš„åšå®¢"><!--[--><!--]--> æˆ‘çš„åšå®¢ <!----><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://www.zhihu.com/people/3293172751" rel="noopener noreferrer" target="_blank" aria-label="çŸ¥ä¹"><!--[--><!--]--> çŸ¥ä¹ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/kubecub/" rel="noopener noreferrer" target="_blank" aria-label="â›“ï¸é“¾å­¦ç¤¾ç»„ç»‡"><!--[--><!--]--> â›“ï¸é“¾å­¦ç¤¾ç»„ç»‡ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/" class="" aria-label="ğŸ é¦–é¡µ"><!--[--><!--]--> ğŸ é¦–é¡µ <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://go.nsddd.top" rel="noopener noreferrer" target="_blank" aria-label="ğŸ“šGoè¯­è¨€å­¦ä¹ "><!--[--><!--]--> ğŸ“šGoè¯­è¨€å­¦ä¹  <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="navbar-item"><a href="/Cloud-Native-k8s/" class="" aria-label="âš¡ k8så­¦ä¹ ç¯‡"><!--[--><!--]--> âš¡ k8så­¦ä¹ ç¯‡ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/markdown/" class="" aria-label="âš¡ dockerå­¦ä¹ ç¯‡"><!--[--><!--]--> âš¡ dockerå­¦ä¹ ç¯‡ <!--[--><!--]--></a></div><div class="navbar-item"><a href="/Cloud-Native/" class="router-link-active" aria-label="ğŸ„â€â™‚ï¸ äº‘åŸç”Ÿå­¦ä¹ ç¯‡"><!--[--><!--]--> ğŸ„â€â™‚ï¸ äº‘åŸç”Ÿå­¦ä¹ ç¯‡ <!--[--><!--]--></a></div><div class="navbar-item"><a class="external-link" href="https://github.com/3293172751/awesome-docker" rel="noopener noreferrer" target="_blank" aria-label="æŸ¥çœ‹æºç "><!--[--><!--]--> æŸ¥çœ‹æºç  <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><a href="/" class="sidebar-item sidebar-heading" aria-label="ğŸ å›åˆ°ä¸»é¡µ"><!--[--><!--]--> ğŸ å›åˆ°ä¸»é¡µ <!--[--><!--]--></a><!----></li><li><a class="external-link sidebar-item sidebar-heading" href="https://xxw.nsddd.top/s/wRSz" rel="noopener noreferrer" target="_blank" aria-label="ğŸ’±ä¸ªäººäº‘ç›˜åœ°å€"><!--[--><!--]--> ğŸ’±ä¸ªäººäº‘ç›˜åœ°å€ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a><!----></li><li><p tabindex="0" class="sidebar-item sidebar-heading active">ğŸ„â€â™‚ï¸ äº‘åŸç”Ÿå­¦ä¹ ç¯‡ <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a href="/Cloud-Native/1.html" class="sidebar-item" aria-label="ç¬¬1èŠ‚ å¼€æºç¤¾åŒºçš„ä¸€ä»½å®Œæ•´çš„è´¡çŒ®è§„èŒƒ"><!--[--><!--]--> ç¬¬1èŠ‚ å¼€æºç¤¾åŒºçš„ä¸€ä»½å®Œæ•´çš„è´¡çŒ®è§„èŒƒ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/2.html" class="sidebar-item" aria-label="ç¬¬2èŠ‚ ä½¿ç”¨ sealos æ­å»º k8sï¼Œhelmå­¦ä¹ "><!--[--><!--]--> ç¬¬2èŠ‚ ä½¿ç”¨ sealos æ­å»º k8sï¼Œhelmå­¦ä¹  <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/3.html" class="sidebar-item" aria-label="ç¬¬3èŠ‚ å­¦ä¹  sealos çš„é¡¹ç›®ç»“æ„"><!--[--><!--]--> ç¬¬3èŠ‚ å­¦ä¹  sealos çš„é¡¹ç›®ç»“æ„ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/4.html" class="sidebar-item" aria-label="ç¬¬4èŠ‚ ç¬¬ä¸€ä»½è®¾è®¡ç¨¿"><!--[--><!--]--> ç¬¬4èŠ‚ ç¬¬ä¸€ä»½è®¾è®¡ç¨¿ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/5.html" class="sidebar-item" aria-label="ç¬¬5èŠ‚ sealer runtime è®¾è®¡"><!--[--><!--]--> ç¬¬5èŠ‚ sealer runtime è®¾è®¡ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/6.html" class="sidebar-item" aria-label="ç¬¬6èŠ‚ k3s Runtime Design"><!--[--><!--]--> ç¬¬6èŠ‚ k3s Runtime Design <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/7.html" class="sidebar-item" aria-label="ç¬¬7èŠ‚ k3s vs k0s"><!--[--><!--]--> ç¬¬7èŠ‚ k3s vs k0s <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/8.html" class="sidebar-item" aria-label="ç¬¬8èŠ‚ MicroK8s"><!--[--><!--]--> ç¬¬8èŠ‚ MicroK8s <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/9.html" class="sidebar-item" aria-label="ç¬¬9èŠ‚ sealer runtime Stage 2 (including biweekly meetings)"><!--[--><!--]--> ç¬¬9èŠ‚ sealer runtime Stage 2 (including biweekly meetings) <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/10.html" class="sidebar-item" aria-label="ç¬¬10èŠ‚ scratchæ„å»ºruntime(linux)"><!--[--><!--]--> ç¬¬10èŠ‚ scratchæ„å»ºruntime(linux) <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/11.html" class="sidebar-item" aria-label="ç¬¬11èŠ‚ k3s HA ~"><!--[--><!--]--> ç¬¬11èŠ‚ k3s HA ~ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/12.html" class="sidebar-item" aria-label="ç¬¬12èŠ‚ sealer æ•°æ®å­˜å‚¨ç›®å½•"><!--[--><!--]--> ç¬¬12èŠ‚ sealer æ•°æ®å­˜å‚¨ç›®å½• <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/13.html" class="sidebar-item" aria-label="ç¬¬13èŠ‚ go context ä¸Šä¸‹æ–‡"><!--[--><!--]--> ç¬¬13èŠ‚ go context ä¸Šä¸‹æ–‡ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/14.html" class="sidebar-item" aria-label="ç¬¬14èŠ‚ go è°ƒè¯• æµ‹è¯• ä»¥åŠè°ƒè¯•å·¥å…· dlv"><!--[--><!--]--> ç¬¬14èŠ‚ go è°ƒè¯• æµ‹è¯• ä»¥åŠè°ƒè¯•å·¥å…· dlv <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/15.html" class="sidebar-item" aria-label="ç¬¬15èŠ‚ about"><!--[--><!--]--> ç¬¬15èŠ‚ about <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/16.html" class="sidebar-item" aria-label="ç¬¬16èŠ‚ sealer code"><!--[--><!--]--> ç¬¬16èŠ‚ sealer code <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/17.html" class="sidebar-item" aria-label="ç¬¬17èŠ‚ è§„èŒƒ"><!--[--><!--]--> ç¬¬17èŠ‚ è§„èŒƒ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/18.html" class="sidebar-item" aria-label="ç¬¬18èŠ‚ åè¯è§£é‡Š"><!--[--><!--]--> ç¬¬18èŠ‚ åè¯è§£é‡Š <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/19.html" class="sidebar-item" aria-label="ç¬¬19èŠ‚ sealos éƒ¨ç½² k3s"><!--[--><!--]--> ç¬¬19èŠ‚ sealos éƒ¨ç½² k3s <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/20.html" class="sidebar-item" aria-label="ç¬¬20èŠ‚ æ–°ä¼šè®®æ”¹å˜basefs"><!--[--><!--]--> ç¬¬20èŠ‚ æ–°ä¼šè®®æ”¹å˜basefs <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/21.html" class="sidebar-item" aria-label="ç¬¬21èŠ‚ ç”¨äºæœ¬åœ°å®éªŒçš„å°å‹ Kubernetesï¼šk0sã€MicroK8sã€kindã€k3s å’Œ Minikube"><!--[--><!--]--> ç¬¬21èŠ‚ ç”¨äºæœ¬åœ°å®éªŒçš„å°å‹ Kubernetesï¼šk0sã€MicroK8sã€kindã€k3s å’Œ Minikube <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/22.html" class="sidebar-item" aria-label="ç¬¬22èŠ‚ sealer 1.9.1æ–°å¹´è§„åˆ’"><!--[--><!--]--> ç¬¬22èŠ‚ sealer 1.9.1æ–°å¹´è§„åˆ’ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/23.html" class="sidebar-item" aria-label="ç¬¬23èŠ‚ docker rootless"><!--[--><!--]--> ç¬¬23èŠ‚ docker rootless <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/24.html" class="sidebar-item" aria-label="ç¬¬24èŠ‚ Kubernetes rootless design"><!--[--><!--]--> ç¬¬24èŠ‚ Kubernetes rootless design <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/25.html" class="sidebar-item" aria-label="ç¬¬25èŠ‚ Buildah / podman ä»¥åŠåœ¨ rootless æ¨¡å¼ä¸‹å·¥ä½œåŸç†"><!--[--><!--]--> ç¬¬25èŠ‚ Buildah / podman ä»¥åŠåœ¨ rootless æ¨¡å¼ä¸‹å·¥ä½œåŸç† <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/26.html" class="sidebar-item" aria-label="ç¬¬26èŠ‚ OCIï¼ŒCRIï¼Œruncï¼Œcontainerdï¼Œcri-containerdï¼Œdockershimç­‰ç»„ä»¶è§£é‡Š"><!--[--><!--]--> ç¬¬26èŠ‚ OCIï¼ŒCRIï¼Œruncï¼Œcontainerdï¼Œcri-containerdï¼Œdockershimç­‰ç»„ä»¶è§£é‡Š <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/27.html" class="sidebar-item" aria-label="ç¬¬27èŠ‚ unshare å’Œ newuidmap"><!--[--><!--]--> ç¬¬27èŠ‚ unshare å’Œ newuidmap <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/28.html" class="sidebar-item" aria-label="ç¬¬28èŠ‚ sudo rootless"><!--[--><!--]--> ç¬¬28èŠ‚ sudo rootless <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/29.html" class="sidebar-item" aria-label="ç¬¬29èŠ‚ Feat/support nvidia docker and nonroot #2048"><!--[--><!--]--> ç¬¬29èŠ‚ Feat/support nvidia docker and nonroot #2048 <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/30.html" class="sidebar-item" aria-label="ç¬¬30èŠ‚  localRegistry&#39;s info into a secret in namespace kube-system #2056"><!--[--><!--]--> ç¬¬30èŠ‚  localRegistry&#39;s info into a secret in namespace kube-system #2056 <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/31.html" class="sidebar-item" aria-label="ç¬¬31èŠ‚ horizon"><!--[--><!--]--> ç¬¬31èŠ‚ horizon <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/32.html" class="sidebar-item" aria-label="ç¬¬32èŠ‚ horizon issues #46"><!--[--><!--]--> ç¬¬32èŠ‚ horizon issues #46 <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/33.html" class="sidebar-item" aria-label="ç¬¬33èŠ‚ sealos PR"><!--[--><!--]--> ç¬¬33èŠ‚ sealos PR <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/34.html" class="sidebar-item" aria-label="ç¬¬34èŠ‚ localregistry save Kubernetes secret"><!--[--><!--]--> ç¬¬34èŠ‚ localregistry save Kubernetes secret <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/35.html" class="sidebar-item" aria-label="ç¬¬35èŠ‚ å­¦ä¹ ã€åŠ å…¥å¼€æºçš„é˜¶æ®µæ€§"><!--[--><!--]--> ç¬¬35èŠ‚ å­¦ä¹ ã€åŠ å…¥å¼€æºçš„é˜¶æ®µæ€§ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/36.html" class="sidebar-item" aria-label="ç¬¬36èŠ‚ Feature Request: Local Installation with k3s Support for HorizonCD"><!--[--><!--]--> ç¬¬36èŠ‚ Feature Request: Local Installation with k3s Support for HorizonCD <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/37.html" class="sidebar-item" aria-label="ç¬¬37èŠ‚ sealos question"><!--[--><!--]--> ç¬¬37èŠ‚ sealos question <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/38.html" class="sidebar-item" aria-label="ç¬¬38èŠ‚ RFC: Sealer é—®é¢˜ææ¡ˆ(ä¸­è‹±æ–‡)"><!--[--><!--]--> ç¬¬38èŠ‚ RFC: Sealer é—®é¢˜ææ¡ˆ(ä¸­è‹±æ–‡) <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/39.html" class="sidebar-item" aria-label="ç¬¬39èŠ‚ Update containers vendor æ›´æ–°å®¹å™¨ä¾›åº”å•†"><!--[--><!--]--> ç¬¬39èŠ‚ Update containers vendor æ›´æ–°å®¹å™¨ä¾›åº”å•† <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/40.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="ç¬¬40èŠ‚ é€Ÿè¯» sealos æºç "><!--[--><!--]--> ç¬¬40èŠ‚ é€Ÿè¯» sealos æºç  <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/Cloud-Native/40.html#å‡†å¤‡" class="router-link-active router-link-exact-active sidebar-item" aria-label="å‡†å¤‡"><!--[--><!--]--> å‡†å¤‡ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/40.html#åŸç†å®ç°" class="router-link-active router-link-exact-active sidebar-item" aria-label="åŸç†å®ç°"><!--[--><!--]--> åŸç†å®ç° <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/40.html#applier" class="router-link-active router-link-exact-active sidebar-item" aria-label="Applier"><!--[--><!--]--> Applier <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/40.html#applier-struct" class="router-link-active router-link-exact-active sidebar-item" aria-label="Applier struct"><!--[--><!--]--> Applier struct <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/40.html#æ·±æŒ–é›†ç¾¤çš„-cluster-ç»“æ„ä½“" class="router-link-active router-link-exact-active sidebar-item" aria-label="æ·±æŒ–é›†ç¾¤çš„ Cluster ç»“æ„ä½“"><!--[--><!--]--> æ·±æŒ–é›†ç¾¤çš„ Cluster ç»“æ„ä½“ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/40.html#clusterfile" class="router-link-active router-link-exact-active sidebar-item" aria-label="ClusterFile"><!--[--><!--]--> ClusterFile <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/40.html#åˆ›å»º-applier" class="router-link-active router-link-exact-active sidebar-item" aria-label="åˆ›å»º Applier"><!--[--><!--]--> åˆ›å»º Applier <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/40.html#å¼€å§‹-apply" class="router-link-active router-link-exact-active sidebar-item" aria-label="å¼€å§‹ Apply"><!--[--><!--]--> å¼€å§‹ Apply <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/40.html#mount" class="router-link-active router-link-exact-active sidebar-item" aria-label="mount"><!--[--><!--]--> mount <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/40.html#mirrorregistry-å’Œ-bootstrap-æ­¥éª¤" class="router-link-active router-link-exact-active sidebar-item" aria-label="MirrorRegistry å’Œ Bootstrap æ­¥éª¤"><!--[--><!--]--> MirrorRegistry å’Œ Bootstrap æ­¥éª¤ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/40.html#init-é˜¶æ®µ" class="router-link-active router-link-exact-active sidebar-item" aria-label="init é˜¶æ®µ"><!--[--><!--]--> init é˜¶æ®µ <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/40.html#controller" class="router-link-active router-link-exact-active sidebar-item" aria-label="controller"><!--[--><!--]--> controller <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/Cloud-Native/40.html#end-é“¾æ¥" class="router-link-active router-link-exact-active sidebar-item" aria-label="END é“¾æ¥"><!--[--><!--]--> END é“¾æ¥ <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a href="/Cloud-Native/41.html" class="sidebar-item" aria-label="ç¬¬41èŠ‚ é€Ÿè¯» horizon æºç ï¼Œæ ¸å¿ƒè®¾è®¡æ€æƒ³"><!--[--><!--]--> ç¬¬41èŠ‚ é€Ÿè¯» horizon æºç ï¼Œæ ¸å¿ƒè®¾è®¡æ€æƒ³ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/42.html" class="sidebar-item" aria-label="ç¬¬42èŠ‚ RFC: å¯¹ horizon å·¥ç¨‹å’Œä»£ç ç»†èŠ‚ä¸Šéƒ¨åˆ†æ”¹è¿›ç­–ç•¥"><!--[--><!--]--> ç¬¬42èŠ‚ RFC: å¯¹ horizon å·¥ç¨‹å’Œä»£ç ç»†èŠ‚ä¸Šéƒ¨åˆ†æ”¹è¿›ç­–ç•¥ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/43.html" class="sidebar-item" aria-label="ç¬¬43èŠ‚ k8sgpt Kubernetes SREè¶…èƒ½åŠ›"><!--[--><!--]--> ç¬¬43èŠ‚ k8sgpt Kubernetes SREè¶…èƒ½åŠ› <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/44.html" class="sidebar-item" aria-label="ç¬¬44èŠ‚ OpenIM first meeting source code"><!--[--><!--]--> ç¬¬44èŠ‚ OpenIM first meeting source code <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/45.html" class="sidebar-item" aria-label="ç¬¬45èŠ‚ OpenMI å‘æ¶ˆæ¯çš„æ—¶å€™åšäº†ä»€ä¹ˆ"><!--[--><!--]--> ç¬¬45èŠ‚ OpenMI å‘æ¶ˆæ¯çš„æ—¶å€™åšäº†ä»€ä¹ˆ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/46.html" class="sidebar-item" aria-label="ç¬¬46èŠ‚ RFCï¼šUser interface design"><!--[--><!--]--> ç¬¬46èŠ‚ RFCï¼šUser interface design <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/47.html" class="sidebar-item" aria-label="ç¬¬47èŠ‚ã€RFC101ã€‘A series of plans before refactoring"><!--[--><!--]--> ç¬¬47èŠ‚ã€RFC101ã€‘A series of plans before refactoring <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/48.html" class="sidebar-item" aria-label="ç¬¬48èŠ‚ Contributing to {name}"><!--[--><!--]--> ç¬¬48èŠ‚ Contributing to {name} <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/49.html" class="sidebar-item" aria-label="ç¬¬49èŠ‚ åœ¨ Sealos ä¸Šå¼€å‘ä¸€æ¬¾ AI è‡ªåŠ¨äº‘åŸç”ŸåŒ–é¡¹ç›®è‡ªåŠ¨ä¸Šçº¿å·¥å…·"><!--[--><!--]--> ç¬¬49èŠ‚ åœ¨ Sealos ä¸Šå¼€å‘ä¸€æ¬¾ AI è‡ªåŠ¨äº‘åŸç”ŸåŒ–é¡¹ç›®è‡ªåŠ¨ä¸Šçº¿å·¥å…· <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/50.html" class="sidebar-item" aria-label="ç¬¬50èŠ‚ å¦‚ä½•å®‰è£…å’Œä½¿ç”¨è‡ªä¸»äººå·¥æ™ºèƒ½å·¥å…·Auto-GPT"><!--[--><!--]--> ç¬¬50èŠ‚ å¦‚ä½•å®‰è£…å’Œä½¿ç”¨è‡ªä¸»äººå·¥æ™ºèƒ½å·¥å…·Auto-GPT <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/51.html" class="sidebar-item" aria-label="ç¬¬51èŠ‚ k8sgpt"><!--[--><!--]--> ç¬¬51èŠ‚ k8sgpt <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/52.html" class="sidebar-item" aria-label="ç¬¬52èŠ‚ community ç¼–å†™æŒ‡å—"><!--[--><!--]--> ç¬¬52èŠ‚ community ç¼–å†™æŒ‡å— <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/53.html" class="sidebar-item" aria-label="ç¬¬53èŠ‚ CloudBuildAI"><!--[--><!--]--> ç¬¬53èŠ‚ CloudBuildAI <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/54.html" class="sidebar-item" aria-label="ç¬¬54èŠ‚ OpenIM é‡æ„ç¡®å®šåè®®"><!--[--><!--]--> ç¬¬54èŠ‚ OpenIM é‡æ„ç¡®å®šåè®® <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/55.html" class="sidebar-item" aria-label="ç¬¬55èŠ‚ RFC æ¨¡æ¿è®¾è®¡ 0000-template.md"><!--[--><!--]--> ç¬¬55èŠ‚ RFC æ¨¡æ¿è®¾è®¡ 0000-template.md <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/56.html" class="sidebar-item" aria-label="ç¬¬56èŠ‚ adopters"><!--[--><!--]--> ç¬¬56èŠ‚ adopters <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/57.html" class="sidebar-item" aria-label="ç¬¬57èŠ‚ ææ¡ˆ sealer æ„å»ºå·¥ç¨‹è®¾è®¡"><!--[--><!--]--> ç¬¬57èŠ‚ ææ¡ˆ sealer æ„å»ºå·¥ç¨‹è®¾è®¡ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/58.html" class="sidebar-item" aria-label="ç¬¬58èŠ‚ lychee å®ç° docs æ£€æŸ¥"><!--[--><!--]--> ç¬¬58èŠ‚ lychee å®ç° docs æ£€æŸ¥ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/59.html" class="sidebar-item" aria-label="ç¬¬59èŠ‚ [RFC #0001] OpenIMSDK cicd robot machine proposal"><!--[--><!--]--> ç¬¬59èŠ‚ [RFC #0001] OpenIMSDK cicd robot machine proposal <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/60.html" class="sidebar-item" aria-label="ç¬¬60èŠ‚ é«˜çº§çš„ Githook è®¾è®¡"><!--[--><!--]--> ç¬¬60èŠ‚ é«˜çº§çš„ Githook è®¾è®¡ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/61.html" class="sidebar-item" aria-label="ç¬¬61èŠ‚ release è®¾è®¡ä¸å®ç°"><!--[--><!--]--> ç¬¬61èŠ‚ release è®¾è®¡ä¸å®ç° <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/62.html" class="sidebar-item" aria-label="ç¬¬62èŠ‚ å¯¹æ—¥å¿—çš„å¤„ç† â€” è‡ªåŠ¨ç”Ÿæˆ CHANGELOG"><!--[--><!--]--> ç¬¬62èŠ‚ å¯¹æ—¥å¿—çš„å¤„ç† â€” è‡ªåŠ¨ç”Ÿæˆ CHANGELOG <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/63.html" class="sidebar-item" aria-label="ç¬¬63èŠ‚ README æ¨¡æ¿å’Œè®¾è®¡"><!--[--><!--]--> ç¬¬63èŠ‚ README æ¨¡æ¿å’Œè®¾è®¡ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/64.html" class="sidebar-item" aria-label="ç¬¬64èŠ‚ automation: ä¸ºé£ä¹¦æ–‡æ¡£åˆ¶ä½œåå°"><!--[--><!--]--> ç¬¬64èŠ‚ automation: ä¸ºé£ä¹¦æ–‡æ¡£åˆ¶ä½œåå° <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/65.html" class="sidebar-item" aria-label="ç¬¬65èŠ‚ slack API å¼€å‘"><!--[--><!--]--> ç¬¬65èŠ‚ slack API å¼€å‘ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/66.html" class="sidebar-item" aria-label="ç¬¬66èŠ‚ go è¯­è¨€å·¥å…·åŒ…"><!--[--><!--]--> ç¬¬66èŠ‚ go è¯­è¨€å·¥å…·åŒ… <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/67.html" class="sidebar-item" aria-label="ç¬¬67èŠ‚ æ·±å…¥å­¦ä¹  beego æºç "><!--[--><!--]--> ç¬¬67èŠ‚ æ·±å…¥å­¦ä¹  beego æºç  <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/68.html" class="sidebar-item" aria-label="ç¬¬68èŠ‚ æ·±å…¥å­¦ä¹  gin æºç "><!--[--><!--]--> ç¬¬68èŠ‚ æ·±å…¥å­¦ä¹  gin æºç  <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/69.html" class="sidebar-item" aria-label="ç¬¬69èŠ‚ GitHub ä¸­ OWNERS æ–‡ä»¶"><!--[--><!--]--> ç¬¬69èŠ‚ GitHub ä¸­ OWNERS æ–‡ä»¶ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/70.html" class="sidebar-item" aria-label="ç¬¬70èŠ‚ æ¶æ„è®¾è®¡"><!--[--><!--]--> ç¬¬70èŠ‚ æ¶æ„è®¾è®¡ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/71.html" class="sidebar-item" aria-label="ç¬¬71èŠ‚ OpenIM Gitlink RFC"><!--[--><!--]--> ç¬¬71èŠ‚ OpenIM Gitlink RFC <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/72.html" class="sidebar-item" aria-label="ç¬¬72èŠ‚ go-flutter"><!--[--><!--]--> ç¬¬72èŠ‚ go-flutter <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/73.html" class="sidebar-item" aria-label="ç¬¬73èŠ‚"><!--[--><!--]--> ç¬¬73èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/74.html" class="sidebar-item" aria-label="ç¬¬74èŠ‚"><!--[--><!--]--> ç¬¬74èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/75.html" class="sidebar-item" aria-label="ç¬¬75èŠ‚"><!--[--><!--]--> ç¬¬75èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/76.html" class="sidebar-item" aria-label="ç¬¬76èŠ‚"><!--[--><!--]--> ç¬¬76èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/77.html" class="sidebar-item" aria-label="ç¬¬77èŠ‚"><!--[--><!--]--> ç¬¬77èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/78.html" class="sidebar-item" aria-label="ç¬¬78èŠ‚"><!--[--><!--]--> ç¬¬78èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/79.html" class="sidebar-item" aria-label="ç¬¬79èŠ‚"><!--[--><!--]--> ç¬¬79èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/80.html" class="sidebar-item" aria-label="ç¬¬80èŠ‚"><!--[--><!--]--> ç¬¬80èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/81.html" class="sidebar-item" aria-label="ç¬¬81èŠ‚"><!--[--><!--]--> ç¬¬81èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/82.html" class="sidebar-item" aria-label="ç¬¬82èŠ‚"><!--[--><!--]--> ç¬¬82èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/83.html" class="sidebar-item" aria-label="ç¬¬83èŠ‚"><!--[--><!--]--> ç¬¬83èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/84.html" class="sidebar-item" aria-label="ç¬¬84èŠ‚"><!--[--><!--]--> ç¬¬84èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/85.html" class="sidebar-item" aria-label="ç¬¬85èŠ‚"><!--[--><!--]--> ç¬¬85èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/86.html" class="sidebar-item" aria-label="ç¬¬86èŠ‚"><!--[--><!--]--> ç¬¬86èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/87.html" class="sidebar-item" aria-label="ç¬¬87èŠ‚"><!--[--><!--]--> ç¬¬87èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/88.html" class="sidebar-item" aria-label="ç¬¬88èŠ‚"><!--[--><!--]--> ç¬¬88èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/89.html" class="sidebar-item" aria-label="ç¬¬89èŠ‚"><!--[--><!--]--> ç¬¬89èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/90.html" class="sidebar-item" aria-label="ç¬¬90èŠ‚"><!--[--><!--]--> ç¬¬90èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/91.html" class="sidebar-item" aria-label="ç¬¬91èŠ‚"><!--[--><!--]--> ç¬¬91èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/92.html" class="sidebar-item" aria-label="ç¬¬92èŠ‚"><!--[--><!--]--> ç¬¬92èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/93.html" class="sidebar-item" aria-label="ç¬¬93èŠ‚"><!--[--><!--]--> ç¬¬93èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/94.html" class="sidebar-item" aria-label="ç¬¬94èŠ‚"><!--[--><!--]--> ç¬¬94èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/95.html" class="sidebar-item" aria-label="ç¬¬95èŠ‚"><!--[--><!--]--> ç¬¬95èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/96.html" class="sidebar-item" aria-label="ç¬¬96èŠ‚"><!--[--><!--]--> ç¬¬96èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/97.html" class="sidebar-item" aria-label="ç¬¬97èŠ‚"><!--[--><!--]--> ç¬¬97èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/98.html" class="sidebar-item" aria-label="ç¬¬98èŠ‚"><!--[--><!--]--> ç¬¬98èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/99.html" class="sidebar-item" aria-label="ç¬¬99èŠ‚"><!--[--><!--]--> ç¬¬99èŠ‚ <!--[--><!--]--></a><!----></li><li><a href="/Cloud-Native/100.md" class="sidebar-item" aria-label="100.md"><!--[--><!--]--> 100.md <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><ul><li><a href="http://nsddd.top" target="_blank" rel="noopener noreferrer">author<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><h1 id="ç¬¬40èŠ‚-é€Ÿè¯»-sealos-æºç " tabindex="-1"><a class="header-anchor" href="#ç¬¬40èŠ‚-é€Ÿè¯»-sealos-æºç " aria-hidden="true">#</a> ç¬¬40èŠ‚ é€Ÿè¯» sealos æºç </h1><div><a href="39.md" style="float:left;">â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”— </a><a href="41.md" style="float:right;"> â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div><br><blockquote><p>â¤ï¸ğŸ’•ğŸ’•è®°å½•<a href="https://github.com/cubxxw/sealos" target="_blank" rel="noopener noreferrer">sealos<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>å¼€æºé¡¹ç›®çš„å­¦ä¹ è¿‡ç¨‹ã€‚<a href="https://github.com/cubxxw/sealos" target="_blank" rel="noopener noreferrer">k8s,dockerå’Œäº‘åŸç”Ÿçš„å­¦ä¹ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚Myblog:<a href="http://nsddd.top/" target="_blank" rel="noopener noreferrer">http://nsddd.top<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><hr><p>[TOC]</p><h2 id="å‡†å¤‡" tabindex="-1"><a class="header-anchor" href="#å‡†å¤‡" aria-hidden="true">#</a> å‡†å¤‡</h2><p>è¿™ç¯‡æ–‡ç« ç­‰çš„å¤ªä¹…äº†ï¼Œå¤§è‡´ å››ä¸ªæœˆäº†æŠŠï¼Œä¹Ÿæ˜¯è‡ªå·±ç»å† docker è·¨è¶Šåˆ° Kubernetes ä»¥åŠ CloudNative ç”Ÿæ€çš„è¿‡ç¨‹ã€‚</p><p>åè¿‡æ¥å†å»ç†è§£å¼€æºã€ç†è§£ sealosã€ ç†è§£ Kubernetesï¼Œæœ‰ç§è±ç„¶å¼€æœ—çš„è§†è§’ã€‚</p><p>è¿™ç¯‡æ–‡ç« å’Œå…¶ä»–æ–‡ç« ä¸ä¸€æ ·çš„æ˜¯ï¼Œè¿™ç¯‡æ˜¯æŒ‰ç…§è‡ªå·±ç°åœ¨çš„æ€è·¯æ¥å†™çš„ï¼Œå…·ä½“ä¸ºä»€ä¹ˆï¼Œåœ¨ä»¥å‰çš„æ–‡ç« ä¸­èƒ½æ‰¾åˆ°ç­”æ¡ˆ~</p><p><strong>ä» CMD è§’åº¦ä¸Šå¯¹æ¥æºç ï¼Œä»æœ€å¼€å§‹å‡ºå‘ï¼š</strong></p><p>ä¸ç®¡æ˜¯ sealer è¿˜æ˜¯ sealctlï¼Œéƒ½ç¦»ä¸å¼€ é•œåƒçš„æ„å»ºæ ¸å¿ƒã€‹ buildahï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token punctuation">(</span>
	<span class="token string">&quot;github.com/containers/buildah&quot;</span>

	<span class="token string">&quot;github.com/labring/sealos/cmd/sealctl/cmd&quot;</span>
<span class="token punctuation">)</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> buildah<span class="token punctuation">.</span><span class="token function">InitReexec</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span>
	<span class="token punctuation">}</span>
	cmd<span class="token punctuation">.</span><span class="token function">Execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä» <code>InitReexec</code> è°ƒç”¨ buildah åˆå§‹åŒ–å¼€å§‹ï¼Œè¿›è¡Œèµ°è¿› sealos çš„å¤§é—¨ï¼š<code>Execute</code></p><p>åœ¨ cobra ä¸­ï¼Œ<code>Execute</code> åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œä¸ç®¡æ˜¯æ­£ç¡®çš„è¿˜æ˜¯å¤±è´¥çš„~</p><p>åœ¨è°ƒç”¨çš„æ—¶å€™ï¼Œä¼šå…ˆæ‰§è¡Œ <code>init</code> åˆå§‹åŒ–å‡½æ•°ï¼Œå®ƒ å®šä¹‰äº†ä¸€äº›åˆå§‹åŒ–å·¥ä½œä»¥åŠæ ‡å¿—ï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	cobra<span class="token punctuation">.</span><span class="token function">OnInitialize</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		logger<span class="token punctuation">.</span><span class="token function">CfgConsoleLogger</span><span class="token punctuation">(</span>debug<span class="token punctuation">,</span> showPath<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>

	rootCmd<span class="token punctuation">.</span><span class="token function">PersistentFlags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">BoolVar</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>debug<span class="token punctuation">,</span> <span class="token string">&quot;debug&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">&quot;enable debug logger&quot;</span><span class="token punctuation">)</span>
	rootCmd<span class="token punctuation">.</span><span class="token function">PersistentFlags</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">BoolVar</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>showPath<span class="token punctuation">,</span> <span class="token string">&quot;show-path&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">&quot;enable show code path&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å“ˆå“ˆï¼Œsealos å¯¹äºæ—¥å¿—åŒ…çš„å°è£…ï¼Œè¿˜æ˜¯å¾ˆè®©æˆ‘æƒŠå–œçš„ï¼Œä½¿ç”¨äº† <code>zap</code> è¿›è¡ŒäºŒæ¬¡å¼€å‘å’Œå°è£…ï¼Œç”¨äºé€‚åˆè‡ªå·±çš„ä¸šåŠ¡éœ€è¦ï¼Œè¿™å¯¹æˆ‘æ˜¯æœ‰å‚è€ƒæ„ä¹‰çš„ï¼ŒåŒ…æ‹¬ horizonï¼Œæœªæ¥å¯èƒ½éœ€è¦åœ¨ æ—¥å¿—åŒ…å’Œ é”™è¯¯ç è®¾è®¡ä¸Šè¿›è¡Œæ”¹è¿›ï¼Œè¿™æ˜¯æˆå°±ä¸€ä¸ªä¼˜ç§€çš„å¼€æºé¡¹ç›®çš„å¿…è¦æ¡ä»¶~</p><p>åé¢å¯¹ <code>rootCmd</code> è¿›è¡Œäº†æ ‡å¿—ç»‘å®šï¼Œè¿™å°±æ˜¯æˆ‘ä»¬ <code>sealos</code> çš„æ ¹å‘½ä»¤ï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token comment">// rootCmd represents the base command when called without any subcommands</span>
<span class="token keyword">var</span> rootCmd <span class="token operator">=</span> <span class="token operator">&amp;</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">{</span>
	Use<span class="token punctuation">:</span>   <span class="token string">&quot;sealos&quot;</span><span class="token punctuation">,</span>
	Short<span class="token punctuation">:</span> <span class="token string">&quot;sealos is a Kubernetes distribution, a unified OS to manage cloud native applications.&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½œä¸º sealos æˆå°± Kubernetes é›†ç¾¤æœ€ä¸»è¦çš„å‘½ä»¤ï¼Œæˆ‘ä»¬æ¥å°è¯•ä¸€ä¸‹ <code>sealos run</code></p><ul><li><a href="https://docker.nsddd.top/Cloud-Native-k8s/6.html" target="_blank" rel="noopener noreferrer">ä½¿ç”¨ sealos å¿«é€Ÿæ­å»º HA cluster<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>sealos run labring/kubernetes:v1.25.0 labring/helm:v3.8.2 labring/calico:v3.24.1 <span class="token punctuation">\</span>
     <span class="token parameter variable">--masters</span> <span class="token number">192.168</span>.0.2,192.168.0.3<span class="token punctuation">\</span>
     <span class="token parameter variable">--nodes</span> <span class="token number">192.168</span>.0.4 <span class="token parameter variable">-p</span> <span class="token punctuation">[</span>your-ssh-passwd<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¾ˆé«˜å…´çš„ä¸€ç‚¹ï¼Œç›¸æ¯”è¾ƒ sealerï¼Œsealos å°† run.go é€»è¾‘ä¸­çš„å¤§éƒ¨åˆ†éƒ½æ”¾åœ¨äº† pkg ä¸­å®ç°ï¼Œè®©å…¶çœ‹ä¸Šå»å¹¶ä¸æ˜¯é‚£ä¹ˆè‡ƒè‚¿ï¼Œä½†æ˜¯å¯¹äº sealos çš„æ¶æ„æ¥è¯´ï¼Œå› ä¸ºæ²¡æœ‰ cluster-runtime ä½œä¸ºæŠ½è±¡å±‚ï¼Œæ‰€ä»¥ sealos çš„ä¾èµ–è¿‡äºä¸¥é‡ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘ç›®å‰æ­£åœ¨è®¾è®¡ k3s runtime æ‰€å¿…é¡»è§£å†³çš„æ€è·¯ã€‚</p><h2 id="åŸç†å®ç°" tabindex="-1"><a class="header-anchor" href="#åŸç†å®ç°" aria-hidden="true">#</a> åŸç†å®ç°</h2><p>run ç®€ç®€å•å•çš„ä¸€ä¸ªå‘½åæ˜¯é«˜åº¦æŠ½è±¡çš„ï¼šæˆ‘ä»¬ run çš„æ—¶å€™ cmd å°† <code>applier, err := apply.NewApplierFromArgs(images, runArgs)</code> ä¼ é€’ç»™ <code>NewApplierFromArgs</code></p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">NewApplierFromArgs</span><span class="token punctuation">(</span>imageName <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">,</span> args <span class="token operator">*</span>RunArgs<span class="token punctuation">)</span> <span class="token punctuation">(</span>applydrivers<span class="token punctuation">.</span>Interface<span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	clusterPath <span class="token operator">:=</span> constants<span class="token punctuation">.</span><span class="token function">Clusterfile</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>ClusterName<span class="token punctuation">)</span>
	cf <span class="token operator">:=</span> clusterfile<span class="token punctuation">.</span><span class="token function">NewClusterFile</span><span class="token punctuation">(</span>clusterPath<span class="token punctuation">,</span>
		clusterfile<span class="token punctuation">.</span><span class="token function">WithCustomConfigFiles</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>CustomConfigFiles<span class="token punctuation">)</span><span class="token punctuation">,</span>
		clusterfile<span class="token punctuation">.</span><span class="token function">WithCustomEnvs</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>CustomEnv<span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span>
	err <span class="token operator">:=</span> cf<span class="token punctuation">.</span><span class="token function">Process</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token operator">&amp;&amp;</span> err <span class="token operator">!=</span> clusterfile<span class="token punctuation">.</span>ErrClusterFileNotExists <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> err
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> err <span class="token operator">=</span> cf<span class="token punctuation">.</span><span class="token function">SetSingleMode</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>Single<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> err
	<span class="token punctuation">}</span>

	cluster <span class="token operator">:=</span> cf<span class="token punctuation">.</span><span class="token function">GetCluster</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> cluster <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		logger<span class="token punctuation">.</span><span class="token function">Debug</span><span class="token punctuation">(</span><span class="token string">&quot;creating new cluster&quot;</span><span class="token punctuation">)</span>
		cluster <span class="token operator">=</span> <span class="token function">initCluster</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>ClusterName<span class="token punctuation">)</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		cluster <span class="token operator">=</span> cluster<span class="token punctuation">.</span><span class="token function">DeepCopy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	c <span class="token operator">:=</span> <span class="token operator">&amp;</span>ClusterArgs<span class="token punctuation">{</span>
		clusterName<span class="token punctuation">:</span> cluster<span class="token punctuation">.</span>Name<span class="token punctuation">,</span>
		cluster<span class="token punctuation">:</span>     cluster<span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> err <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">runArgs</span><span class="token punctuation">(</span>imageName<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> err
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> applydrivers<span class="token punctuation">.</span><span class="token function">NewDefaultApplier</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>cluster<span class="token punctuation">,</span> cf<span class="token punctuation">,</span> imageName<span class="token punctuation">)</span>
<span class="token punctuation">}</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>NewApplierFromArgs</code> ç”¨äºåˆ›å»ºä¸€ä¸ª <code>Applier</code> å®ä¾‹å¯¹è±¡ã€‚å®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼šä¸€ä¸ªæ˜¯é•œåƒåç§°æ•°ç»„ <code>imageName</code>ï¼Œå¦ä¸€ä¸ªæ˜¯è¿è¡Œå‚æ•° argsã€‚åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œå®ƒå®ç°äº†ä»å‚æ•°ä¸­è·å– <code>ClusterName</code>ï¼Œç„¶åæ ¹æ® <code>ClusterName</code> è·å–å¯¹åº”çš„ <code>ClusterFile</code>ï¼Œå¦‚æœè·å–ä¸åˆ°ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„ã€‚æ¥ç€ï¼Œå®ƒæ ¹æ®ç”¨æˆ·è¾“å…¥çš„å‚æ•°ï¼Œæ›´æ–°é›†ç¾¤çŠ¶æ€ Cluster ä¸­çš„ specï¼Œæœ€åé€šè¿‡ Cluster å¯¹è±¡å’Œ ClusterFile å¯¹è±¡ï¼Œåˆ›å»ºä¸€ä¸ª Applier å¯¹è±¡è¿”å›ã€‚</p><h2 id="applier" tabindex="-1"><a class="header-anchor" href="#applier" aria-hidden="true">#</a> Applier</h2><p>é¦–å…ˆï¼ŒSealos ä¼šåˆ›å»ºä¸€ä¸ª Applier ç»“æ„ä½“ï¼Œè´Ÿè´£äº†éƒ¨ç½²é›†ç¾¤çš„æ ¸å¿ƒé€»è¾‘ã€‚</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">NewDefaultApplier</span><span class="token punctuation">(</span>cluster <span class="token operator">*</span>v2<span class="token punctuation">.</span>Cluster<span class="token punctuation">,</span> cf clusterfile<span class="token punctuation">.</span>Interface<span class="token punctuation">,</span> images <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>Interface<span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> cluster<span class="token punctuation">.</span>Name <span class="token operator">==</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">&quot;cluster name cannot be empty&quot;</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> cf <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		cf <span class="token operator">=</span> clusterfile<span class="token punctuation">.</span><span class="token function">NewClusterFile</span><span class="token punctuation">(</span>constants<span class="token punctuation">.</span><span class="token function">Clusterfile</span><span class="token punctuation">(</span>cluster<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	err <span class="token operator">:=</span> cf<span class="token punctuation">.</span><span class="token function">Process</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> <span class="token operator">!</span>cluster<span class="token punctuation">.</span>CreationTimestamp<span class="token punctuation">.</span><span class="token function">IsZero</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">nil</span><span class="token punctuation">,</span> err
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token operator">&amp;</span>Applier<span class="token punctuation">{</span>
		ClusterDesired<span class="token punctuation">:</span> cluster<span class="token punctuation">,</span>
		ClusterFile<span class="token punctuation">:</span>    cf<span class="token punctuation">,</span>
		ClusterCurrent<span class="token punctuation">:</span> cf<span class="token punctuation">.</span><span class="token function">GetCluster</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		RunNewImages<span class="token punctuation">:</span>   images<span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>NewDefaultApplier</code> å‡½æ•°æ˜¯ç”¨äºåˆ›å»ºä¸€ä¸ª <code>Applier</code> å®ä¾‹å¯¹è±¡çš„ã€‚å®ƒæ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼š</p><ul><li>ä¸€ä¸ªæ˜¯ <code>Cluster</code> å¯¹è±¡</li><li>ä¸€ä¸ªæ˜¯ <code>ClusterFile</code> å¯¹è±¡</li><li>è¿˜æœ‰ä¸€ä¸ªæ˜¯é•œåƒåç§°æ•°ç»„ <code>images</code></li></ul><p>åœ¨è¿™ä¸ªå‡½æ•°ä¸­ï¼Œå®ƒå®ç°äº†ä»å‚æ•°ä¸­è·å–é›†ç¾¤åç§°ï¼Œç„¶åæ ¹æ®é›†ç¾¤åç§°è·å–å¯¹åº”çš„ <code>ClusterFile</code>ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è¿”å›ä¸€ä¸ªé”™è¯¯ã€‚æ¥ç€ï¼Œå®ƒæ ¹æ®ç”¨æˆ·è¾“å…¥çš„å‚æ•°ï¼Œæ›´æ–°é›†ç¾¤çŠ¶æ€ <code>ClusterDesired</code> ä¸­çš„ <code>Spec</code>ï¼Œæœ€åé€šè¿‡ <code>ClusterDesired</code> å¯¹è±¡å’Œ <code>ClusterFile</code> å¯¹è±¡ï¼Œåˆ›å»ºä¸€ä¸ª <code>Applier</code> å¯¹è±¡è¿”å›ã€‚</p><p><strong>å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</strong></p><ol><li>åˆ¤æ–­é›†ç¾¤åç§°æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºåˆ™è¿”å›ä¸€ä¸ªé”™è¯¯ã€‚</li><li>åˆ¤æ–­ <code>ClusterFile</code> æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>ClusterFile</code>ã€‚</li><li>å¦‚æœ <code>ClusterDesired</code> çš„åˆ›å»ºæ—¶é—´æˆ³ä¸ºç©ºä¸” <code>ClusterCurrent</code> ä¸º <code>nil</code> æˆ– <code>ClusterCurrent</code> çš„åˆ›å»ºæ—¶é—´æˆ³ä¸ºç©ºï¼Œåˆ™åˆå§‹åŒ–åˆ›å»ºä¸€ä¸ªæ–°çš„é›†ç¾¤ï¼Œ<code>ClusterDesired</code> çš„åˆ›å»ºæ—¶é—´æˆ³è®¾ç½®ä¸ºå½“å‰æ—¶é—´ã€‚</li><li>å¦‚æœ <code>ClusterDesired</code> å’Œ <code>ClusterCurrent</code> çš„åˆ›å»ºæ—¶é—´æˆ³éƒ½ä¸ä¸ºç©ºï¼Œåˆ™æ›´æ–°é›†ç¾¤çŠ¶æ€ <code>ClusterDesired</code> ä¸­çš„ <code>Spec</code>ã€‚</li></ol><p><code>Applier</code> é‡‡ç”¨äº† k8s çš„ <strong>å£°æ˜å¼</strong> çš„è®¾è®¡æ€æƒ³ï¼Œç”¨æˆ·å£°æ˜ä¸€ä¸ªæœŸæœ›çš„é›†ç¾¤çŠ¶æ€ï¼Œè€Œ Applier è´Ÿè´£å°†é›†ç¾¤ç°åœ¨çš„çŠ¶æ€è½¬æ¢æˆç”¨æˆ·æœŸæœ›çš„çŠ¶æ€ã€‚</p><h2 id="applier-struct" tabindex="-1"><a class="header-anchor" href="#applier-struct" aria-hidden="true">#</a> Applier struct</h2><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> Applier <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    ClusterDesired     <span class="token operator">*</span>v2<span class="token punctuation">.</span>Cluster <span class="token comment">// ç”¨æˆ·æœŸæœ›çš„é›†ç¾¤çŠ¶æ€</span>
    ClusterCurrent     <span class="token operator">*</span>v2<span class="token punctuation">.</span>Cluster <span class="token comment">// é›†ç¾¤å½“å‰çŠ¶æ€</span>
    ClusterFile        clusterfile<span class="token punctuation">.</span>Interface <span class="token comment">// å½“å‰é›†ç¾¤æ¥å£</span>
    Client             kubernetes<span class="token punctuation">.</span>Client
    CurrentClusterInfo <span class="token operator">*</span>version<span class="token punctuation">.</span>Info
    RunNewImages       <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span>              <span class="token comment">// run å‘½ä»¤æ–°å¢çš„é•œåƒåç§°</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>clusterfile.Interface</code> æ˜¯ä¸€ä¸ªæ¥å£ç±»å‹ï¼ŒSealos ä¸­é€šè¿‡ <code>ClusterFile</code> å®ç°äº†è¿™ä¸€æ¥å£ã€‚å› æ­¤ï¼Œ<code>Applier</code> ç»“æ„ä½“ä¸­æœ€é‡è¦çš„å°±æ˜¯ <code>Cluster</code> å’Œ <code>ClusterFile</code> è¿™ä¸¤ä¸ªç±»å‹ï¼Œå®ƒä»¬å®šä¹‰äº†é›†ç¾¤çš„çŠ¶æ€å’Œé…ç½®ã€‚</p><ol><li>ClusterDesiredï¼šç”¨æˆ·æœŸæœ›çš„é›†ç¾¤çŠ¶æ€</li><li>ClusterCurrentï¼šé›†ç¾¤å½“å‰çŠ¶æ€</li><li>ClusterFileï¼šå½“å‰é›†ç¾¤æ¥å£</li><li>Clientï¼šKubernetes å®¢æˆ·ç«¯</li><li>CurrentClusterInfoï¼šé›†ç¾¤å½“å‰ä¿¡æ¯</li><li>RunNewImagesï¼šrun å‘½ä»¤æ–°å¢çš„é•œåƒåç§°</li></ol><h2 id="æ·±æŒ–é›†ç¾¤çš„-cluster-ç»“æ„ä½“" tabindex="-1"><a class="header-anchor" href="#æ·±æŒ–é›†ç¾¤çš„-cluster-ç»“æ„ä½“" aria-hidden="true">#</a> æ·±æŒ–é›†ç¾¤çš„ Cluster ç»“æ„ä½“</h2><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> Cluster <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    metav1<span class="token punctuation">.</span>TypeMeta   <span class="token string">`json:&quot;,inline&quot;`</span>
    metav1<span class="token punctuation">.</span>ObjectMeta <span class="token string">`json:&quot;metadata,omitempty&quot;`</span>

    Spec   ClusterSpec   <span class="token string">`json:&quot;spec,omitempty&quot;`</span>
    Status ClusterStatus <span class="token string">`json:&quot;status,omitempty&quot;`</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> ClusterSpec <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    Image ImageList <span class="token string">`json:&quot;image,omitempty&quot;`</span>
    SSH   SSH       <span class="token string">`json:&quot;ssh&quot;`</span>
    Hosts <span class="token punctuation">[</span><span class="token punctuation">]</span>Host    <span class="token string">`json:&quot;hosts,omitempty&quot;`</span>
    Env <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token string">`json:&quot;env,omitempty&quot;`</span>
    Command <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span> <span class="token string">`json:&quot;command,omitempty&quot;`</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> ClusterStatus <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    Phase      ClusterPhase       <span class="token string">`json:&quot;phase,omitempty&quot;`</span>
    Mounts     <span class="token punctuation">[</span><span class="token punctuation">]</span>MountImage       <span class="token string">`json:&quot;mounts,omitempty&quot;`</span>
    Conditions <span class="token punctuation">[</span><span class="token punctuation">]</span>ClusterCondition <span class="token string">`json:&quot;conditions,omitempty&quot; `</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Cluster çš„å†…å®¹æŒ‰ç…§ K8s Resource çš„æ ¼å¼è¿›è¡Œäº†è®¾è®¡ï¼Œå¯ä»¥çœ‹åˆ°æ˜¯å°†ç»“æ„ä½“éƒ½æ‹†åˆ†å‡ºæ¥äº†ï¼Œè€Œä¸æ˜¯ä½¿ç”¨çš„ç»“æ„ä½“åµŒå¥—ï¼Œè¿™æ ·æ›´åŠ è§„èŒƒã€æ›´åŠ æ•´æ´ã€‚åœ¨ ClusterSpec ä¸­ï¼Œå®šä¹‰äº†ä¸€ç³»åˆ—ç”¨äºéƒ¨ç½² K8s é›†ç¾¤çš„å‚æ•°ï¼Œä¾‹å¦‚ï¼Œé•œåƒã€SSH å‚æ•°ã€èŠ‚ç‚¹ç­‰ç­‰ã€‚</p><p>è€Œåœ¨ ClusterStatus ä¸­ï¼Œ<code>Phase</code> å®šä¹‰äº†å½“å‰é›†ç¾¤çš„çŠ¶æ€ï¼Œ<code>Mounts</code> å®šä¹‰äº†é›†ç¾¤ä½¿ç”¨çš„é•œåƒï¼Œ<code>Conditions</code> ä¿å­˜äº†é›†ç¾¤ä¸­æ‰€å‘ç”Ÿçš„ä¸€ç³»åˆ—äº‹ä»¶ã€‚</p><h2 id="clusterfile" tabindex="-1"><a class="header-anchor" href="#clusterfile" aria-hidden="true">#</a> ClusterFile</h2><p><code>ClusterFile</code> æ˜¯çœŸæ­£è¢« <code>Applier</code> æ“ä½œçš„å¯¹è±¡ï¼Œä»¥åŠæŒä¹…åŒ–åˆ°æ–‡ä»¶ä¸­çš„å†…å®¹ã€‚è¿™é‡ŒåŒ…å«äº†æ‰€æœ‰é›†ç¾¤çš„å½“å‰çŠ¶æ€ä¿¡æ¯ï¼ŒåŒæ—¶è¿˜åŒ…å«äº† <code>kubeconfig</code>ã€‚è¿™é‡Œçš„ kubeconfig å¹¶ä¸æ˜¯æˆ‘ä»¬å¹³æ—¶æ“ä½œ k8s æ—¶æ‰€ç”¨çš„ config æ–‡ä»¶ï¼Œè€Œæ˜¯ä¸€ç³»åˆ—ç”¨äºæ­å»ºé›†ç¾¤æ‰€éœ€çš„é…ç½®é¡¹ã€‚åœ¨ä½¿ç”¨ <code>kubeadm</code> æ—¶ï¼Œè¿™äº›é…ç½®é¡¹å¾€å¾€éœ€è¦æˆ‘ä»¬æ‰‹åŠ¨é…ç½®ï¼Œè€Œ Sealos åœ¨è¿™é‡Œä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬å¡«å†™å¹¶åº”ç”¨äºé›†ç¾¤ä¸­ã€‚å¯ä»¥çœ‹å‡ºï¼Œ<code>Cluster</code> æ›´åƒæ˜¯ <code>ClusterFile</code> çš„ä¸€ä¸ªå®ä¾‹ï¼Œè®°å½•äº†é›†ç¾¤å®æ—¶çš„çŠ¶æ€ã€‚</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> Interface <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	PreProcessor
	<span class="token function">GetCluster</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>v2<span class="token punctuation">.</span>Cluster
	<span class="token function">GetConfigs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>v2<span class="token punctuation">.</span>Config
	<span class="token function">GetKubeadmConfig</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span>runtime<span class="token punctuation">.</span>KubeadmConfig
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="åˆ›å»º-applier" tabindex="-1"><a class="header-anchor" href="#åˆ›å»º-applier" aria-hidden="true">#</a> åˆ›å»º Applier</h2><p>åˆ›å»º Applier çš„é€»è¾‘ï¼š</p><p><code>buildah mount</code> å‘½ä»¤æ˜¯ç”¨äºå°†å®¹å™¨é•œåƒæŒ‚è½½åˆ°æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿä¸Šçš„å·¥å…·ã€‚é€šè¿‡è¯¥å‘½ä»¤å¯ä»¥æ–¹ä¾¿åœ°æŸ¥çœ‹ã€ç¼–è¾‘å®¹å™¨é•œåƒä¸­çš„æ–‡ä»¶ã€‚å…·ä½“ç”¨æ³•å¯ä»¥å‚è€ƒ <a href="https://buildah.io/commands/mount/" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ã€‚</p><p><img src="http://sm.nsddd.top/sm202304152156333.png" alt="Untitled"></p><p><strong>åˆ›å»ºä¸€ä¸ª <code>Applier</code> ä¼šç»è¿‡ä»¥ä¸‹æ­¥éª¤ï¼š</strong></p><ol><li>åˆ¤æ–­æ˜¯å¦å·²ç»å­˜åœ¨ <code>ClusterFile</code> ï¼Œå¦‚æœå­˜åœ¨ï¼Œé‚£ä¹ˆç›´æ¥è¯»å–ï¼Œæ„å»ºå‡ºé›†ç¾¤çŠ¶æ€ <code>Cluster</code>ã€‚å¦åˆ™ï¼Œåˆå§‹åŒ–åˆ›å»ºä¸€ä¸ªç©ºçš„é›†ç¾¤çŠ¶æ€ <code>Cluster</code>ã€‚</li><li>æ ¹æ®ç”¨æˆ·æœ¬æ¬¡çš„å‚æ•°ï¼Œæ›´æ–°é›†ç¾¤çŠ¶æ€ <code>Cluster</code> ä¸­çš„ specï¼Œæ­¤æ—¶ï¼Œ<code>Cluster</code> å³ä¸ºç›®æ ‡çš„é›†ç¾¤çŠ¶æ€ã€‚</li><li>å†æ¬¡ä»æ–‡ä»¶ä¸­æ„å»º <code>ClusterFile</code>ï¼Œä½œä¸ºé›†ç¾¤å½“å‰çš„çŠ¶æ€å’Œå¯¹è±¡ã€‚</li><li>æ„å»º <code>Applier</code> ç»“æ„ä½“è¿”å›ã€‚</li></ol><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å›åˆ°äº† run çš„é€»è¾‘ï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code>RunE<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>cmd <span class="token operator">*</span>cobra<span class="token punctuation">.</span>Command<span class="token punctuation">,</span> args <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> runSingle <span class="token punctuation">{</span>
				addr<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> iputils<span class="token punctuation">.</span><span class="token function">ListLocalHostAddrs</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
				runArgs<span class="token punctuation">.</span>Masters <span class="token operator">=</span> iputils<span class="token punctuation">.</span><span class="token function">LocalIP</span><span class="token punctuation">(</span>addr<span class="token punctuation">)</span>
				runArgs<span class="token punctuation">.</span>Single <span class="token operator">=</span> <span class="token boolean">true</span>
			<span class="token punctuation">}</span>

			images<span class="token punctuation">,</span> err <span class="token operator">:=</span> <span class="token function">args2Images</span><span class="token punctuation">(</span>args<span class="token punctuation">,</span> transport<span class="token punctuation">)</span>
			<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> err
			<span class="token punctuation">}</span>

			applier<span class="token punctuation">,</span> err <span class="token operator">:=</span> apply<span class="token punctuation">.</span><span class="token function">NewApplierFromArgs</span><span class="token punctuation">(</span>images<span class="token punctuation">,</span> runArgs<span class="token punctuation">)</span>
			<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> err
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> applier<span class="token punctuation">.</span><span class="token function">Apply</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>applier</code> å°±æ˜¯æ„å»ºå‡ºçš„ç»“æ„ä½“ï¼šæ„å»º <code>applier</code> çš„ç›®çš„æ˜¯ä¸ºäº†å°†é›†ç¾¤çš„å½“å‰çŠ¶æ€è½¬æ¢æˆç”¨æˆ·æœŸæœ›çš„çŠ¶æ€ã€‚é€šè¿‡åˆå§‹åŒ–åˆ›å»ºä¸€ä¸ª <code>Applier</code>ï¼Œå¯ä»¥æ ¹æ®ç”¨æˆ·æœ¬æ¬¡çš„å‚æ•°ï¼Œæ›´æ–°é›†ç¾¤çŠ¶æ€ <code>Cluster</code> ä¸­çš„ specï¼Œæœ€ç»ˆæ„å»ºå‡ºä¸€ä¸ª <code>Applier</code> ç»“æ„ä½“ã€‚è¿™ä¸ªç»“æ„ä½“å¯ä»¥å°†ç”¨æˆ·æœŸæœ›çš„é›†ç¾¤çŠ¶æ€è½¬æ¢æˆå®é™…çš„é›†ç¾¤çŠ¶æ€ï¼Œå®ç°äº† K8s çš„å£°æ˜å¼çš„è®¾è®¡æ€æƒ³ã€‚æ¥ä¸‹æ¥åˆ°äº† <code>Apply()</code> æ“ä½œäº†ã€‚</p><h2 id="å¼€å§‹-apply" tabindex="-1"><a class="header-anchor" href="#å¼€å§‹-apply" aria-hidden="true">#</a> å¼€å§‹ Apply</h2><p>æ¥ä¸‹æ¥ï¼Œé€šè¿‡ <code>Applier.Apply()</code>ï¼ŒSealos å¼€å§‹æ­£å¼çš„éƒ¨ç½²é›†ç¾¤ï¼Œä½¿é›†ç¾¤çŠ¶æ€å‘ç›®æ ‡é è¿‘ã€‚é¦–å…ˆï¼ŒSealos ä¼šå°†å½“å‰é›†ç¾¤çš„çŠ¶æ€ç½®ä¸º <code>ClusterInProcess</code>ã€‚æ¥ä¸‹æ¥ï¼Œæ ¹æ®é›†ç¾¤åˆ›å»ºæˆ–æ˜¯æ›´æ–°ï¼Œåˆ†åˆ«è¿›å…¥ä¸¤ä¸ªåˆ†æ”¯ã€‚</p><blockquote><p>è¿™é‡Œæœ‰ä¸€ç‚¹éœ€è¦è¯´æ˜å¾—ï¼Œä¹‹å‰æœ‰ä¸€æ¬¡é¢è¯•çš„æ—¶å€™é¢è¯•å®˜é—®æˆ‘ï¼Œ<code>apply</code> å’Œ <code>create</code> å®ç°çš„é€»è¾‘ï¼Œè¿™ä¸¤ä¸ªå®ç°çš„é€»è¾‘åŒºåˆ«å°±æ˜¯ï¼Œå¾ˆæ˜æ˜¾çš„ï¼Œcreate å¹¶ä¸ä¼šè¿›è¡Œ æ§åˆ¶å™¨ çš„ è§‚å¯Ÿã€åˆ†æé˜¶æ®µï¼Œè€Œæ˜¯ç›´æ¥æ‰§è¡Œå’Œæ›´æ–°ï¼Œè¿™æ ·çš„æ˜¯ç¬¦åˆçš„æ˜¯å‘½ä»¤å¼ç‰¹ç‚¹ï¼Œè€Œå¹¶éæ˜¯å£°æ˜å¼çš„ ç‰¹å¾ã€‚</p></blockquote><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Applier<span class="token punctuation">)</span> <span class="token function">Apply</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
	clusterPath <span class="token operator">:=</span> constants<span class="token punctuation">.</span><span class="token function">Clusterfile</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>ClusterDesired<span class="token punctuation">.</span>Name<span class="token punctuation">)</span>
	<span class="token comment">// clusterErr and appErr should not appear in the same time</span>
	<span class="token keyword">var</span> clusterErr<span class="token punctuation">,</span> appErr <span class="token builtin">error</span>
	<span class="token comment">// save cluster to file after apply</span>
	<span class="token keyword">defer</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">switch</span> clusterErr<span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token keyword">type</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">case</span> <span class="token operator">*</span>processor<span class="token punctuation">.</span>CheckError<span class="token punctuation">,</span> <span class="token operator">*</span>processor<span class="token punctuation">.</span>PreProcessError<span class="token punctuation">:</span>
			<span class="token keyword">return</span>
		<span class="token punctuation">}</span>
		logger<span class="token punctuation">.</span><span class="token function">Debug</span><span class="token punctuation">(</span><span class="token string">&quot;write cluster file to local storage: %s&quot;</span><span class="token punctuation">,</span> clusterPath<span class="token punctuation">)</span>
		saveErr <span class="token operator">:=</span> yaml<span class="token punctuation">.</span><span class="token function">MarshalYamlToFile</span><span class="token punctuation">(</span>clusterPath<span class="token punctuation">,</span> c<span class="token punctuation">.</span><span class="token function">getWriteBackObjects</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">...</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span> saveErr <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			logger<span class="token punctuation">.</span><span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">&quot;write cluster file to local storage: %s error, %s&quot;</span><span class="token punctuation">,</span> clusterPath<span class="token punctuation">,</span> saveErr<span class="token punctuation">)</span>
			logger<span class="token punctuation">.</span><span class="token function">Debug</span><span class="token punctuation">(</span><span class="token string">&quot;complete write back file: \n %v&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">.</span><span class="token function">getWriteBackObjects</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	c<span class="token punctuation">.</span><span class="token function">initStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> c<span class="token punctuation">.</span>ClusterDesired<span class="token punctuation">.</span>CreationTimestamp<span class="token punctuation">.</span><span class="token function">IsZero</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>c<span class="token punctuation">.</span>ClusterCurrent <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token operator">||</span> c<span class="token punctuation">.</span>ClusterCurrent<span class="token punctuation">.</span>CreationTimestamp<span class="token punctuation">.</span><span class="token function">IsZero</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		clusterErr <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">initCluster</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		c<span class="token punctuation">.</span>ClusterDesired<span class="token punctuation">.</span>CreationTimestamp <span class="token operator">=</span> metav1<span class="token punctuation">.</span><span class="token function">Now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		clusterErr<span class="token punctuation">,</span> appErr <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">reconcileCluster</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		c<span class="token punctuation">.</span>ClusterDesired<span class="token punctuation">.</span>CreationTimestamp <span class="token operator">=</span> c<span class="token punctuation">.</span>ClusterCurrent<span class="token punctuation">.</span>CreationTimestamp
	<span class="token punctuation">}</span>
	c<span class="token punctuation">.</span><span class="token function">updateStatus</span><span class="token punctuation">(</span>clusterErr<span class="token punctuation">,</span> appErr<span class="token punctuation">)</span>

	<span class="token comment">// return app error if not nil</span>
	<span class="token keyword">if</span> appErr <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>errors<span class="token punctuation">.</span><span class="token function">Is</span><span class="token punctuation">(</span>appErr<span class="token punctuation">,</span> processor<span class="token punctuation">.</span>ErrCancelled<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> appErr
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> clusterErr
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Apply()</code> å‡½æ•°æ˜¯ Sealos ä¸­è´Ÿè´£éƒ¨ç½²é›†ç¾¤çš„æ ¸å¿ƒå‡½æ•°ã€‚è¯¥å‡½æ•°é€šè¿‡ä¼ å…¥çš„ <code>Applier</code> å®ä¾‹çš„ <code>ClusterDesired</code> å’Œ <code>ClusterCurrent</code> çš„å€¼æ¥åˆ¤æ–­é›†ç¾¤æ˜¯å¦å·²ç»å­˜åœ¨ã€‚åœ¨å‡½æ•°æ‰§è¡Œæ—¶ï¼Œé¦–å…ˆä¼šå°†å½“å‰é›†ç¾¤çŠ¶æ€ç½®ä¸º <code>ClusterInProcess</code>ï¼Œç„¶ååˆ†åˆ«è°ƒç”¨ <code>initCluster()</code> å’Œ <code>reconcileCluster()</code> æ¥ <strong>åˆ›å»ºå’Œæ›´æ–°é›†ç¾¤</strong>ã€‚æœ€åï¼Œå‡½æ•°ä¼šæ ¹æ® <code>appErr</code> å’Œ <code>clusterErr</code> çš„å€¼æ¥æ›´æ–°é›†ç¾¤ï¼ˆæˆ–è€… APPï¼‰çš„çŠ¶æ€ï¼Œå› ä¸ºä¸Šé¢è®²è¿‡ <code>EXECUTE</code> åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œæ— è®ºå¯¹é”™ï¼Œæ‰€ä»¥ cluster å’Œ app åªèƒ½æœ‰ä¸€ä¸ªå­˜åœ¨ã€‚</p><p>ä¸ºä»€ä¹ˆéœ€è¦ <code>c.initStatus()</code>:</p><p>initStatus å‡½æ•°çš„ä½œç”¨æ˜¯åˆå§‹åŒ–é›†ç¾¤çŠ¶æ€ï¼Œå³ä¸ºé›†ç¾¤çŠ¶æ€ Cluster ä¸­çš„ Status å­—æ®µèµ‹åˆå€¼ï¼šå°† Phase è®¾ä¸º ClusterInProcessï¼Œå¦‚æœ Conditions ä¸ºç©ºï¼Œåˆ™åˆ›å»ºä¸€ä¸ªç©ºæ•°ç»„ã€‚</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Applier<span class="token punctuation">)</span> <span class="token function">initStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	c<span class="token punctuation">.</span>ClusterDesired<span class="token punctuation">.</span>Status<span class="token punctuation">.</span>Phase <span class="token operator">=</span> v2<span class="token punctuation">.</span>ClusterInProcess
	<span class="token keyword">if</span> c<span class="token punctuation">.</span>ClusterDesired<span class="token punctuation">.</span>Status<span class="token punctuation">.</span>Conditions <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		c<span class="token punctuation">.</span>ClusterDesired<span class="token punctuation">.</span>Status<span class="token punctuation">.</span>Conditions <span class="token operator">=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span>v2<span class="token punctuation">.</span>ClusterCondition<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‡½æ•°å®ç°å¾ˆç®€å•ï¼Œå…ˆå°† <code>Phase</code> è®¾ä¸º <code>ClusterInProcess</code>ï¼Œè¡¨ç¤ºé›†ç¾¤æ­£åœ¨éƒ¨ç½²ä¸­ã€‚ç„¶åï¼Œåˆ¤æ–­ <code>Conditions</code> æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºï¼Œåˆ™å°† <code>Conditions</code> è®¾ä¸ºä¸€ä¸ªç©ºæ•°ç»„ã€‚</p><p>è¿™æ®µä»£ç æ˜¯åœ¨åˆ¤æ–­é›†ç¾¤æ˜¯å¦å·²ç»å­˜åœ¨ï¼Œå…·ä½“è§£é‡Šå¦‚ä¸‹ï¼š</p><ul><li><code>c.ClusterDesired.CreationTimestamp.IsZero()</code> åˆ¤æ–­æœŸæœ›çŠ¶æ€çš„ <code>CreationTimestamp</code> æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºåˆ™è¯´æ˜é›†ç¾¤ä¸å­˜åœ¨æˆ–è€…è¿˜æ²¡æœ‰åˆ›å»ºã€‚</li><li><code>(c.ClusterCurrent == nil || c.ClusterCurrent.CreationTimestamp.IsZero())</code> åˆ¤æ–­å½“å‰çŠ¶æ€çš„ <code>ClusterCurrent</code> æ˜¯å¦ä¸ºç©ºæˆ–è€… <code>CreationTimestamp</code> æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºåˆ™è¯´æ˜é›†ç¾¤ä¸å­˜åœ¨æˆ–è€…è¿˜æ²¡æœ‰åˆ›å»ºã€‚</li></ul><p>å¦‚æœä»¥ä¸Šä¸¤ä¸ªæ¡ä»¶éƒ½æ»¡è¶³ï¼Œè¯´æ˜é›†ç¾¤è¿˜æ²¡æœ‰åˆ›å»ºï¼Œå¯ä»¥è°ƒç”¨ <code>initCluster()</code> å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„é›†ç¾¤ã€‚å¦åˆ™ï¼Œè¯´æ˜é›†ç¾¤å·²ç»å­˜åœ¨ï¼Œå¯ä»¥è°ƒç”¨ <code>reconcileCluster()</code> å‡½æ•°æ¥æ›´æ–°é›†ç¾¤ã€‚</p><p><code>yaml.MarshalYamlToFile</code> çš„ä½œç”¨æ˜¯å°†ä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡åºåˆ—åŒ–ä¸º YAML æ ¼å¼ï¼Œå¹¶å°†åºåˆ—åŒ–åçš„å­—ç¬¦ä¸²å†™å…¥æŒ‡å®šçš„æ–‡ä»¶ã€‚åœ¨ Sealos ä¸­ï¼Œ<code>yaml.MarshalYamlToFile</code> ç”¨äºå°† <code>ClusterFile</code> å¯¹è±¡åºåˆ—åŒ–ä¸º YAML æ ¼å¼ï¼Œå¹¶å°†å…¶å†™å…¥æŒ‡å®šçš„æ–‡ä»¶ä¸­ã€‚è¿™ä¸ªæ–‡ä»¶ç”¨äºæŒä¹…åŒ–é›†ç¾¤çš„çŠ¶æ€ã€‚</p><p><code>initCluster()</code> å‡½æ•°ä¼šä»é›¶å¼€å§‹åˆ›å»ºä¸€ä¸ªé›†ç¾¤ï¼Œä¼šä½¿ç”¨ <code>CreateProcessor</code> å¯¹è±¡æ¥éƒ¨ç½²æœŸæœ›çŠ¶æ€çš„é›†ç¾¤ã€‚<code>CreateProcessor.Execute()</code> å‡½æ•°æ¥æ”¶æœŸæœ›çš„é›†ç¾¤çŠ¶æ€ <code>ClusterDesired</code>ï¼Œç„¶åæ‰§è¡Œä¸€ç³»åˆ— pipelineï¼Œæ­£å¼è¿›å…¥å®é™…çš„é›†ç¾¤éƒ¨ç½²è¿‡ç¨‹ä¸­ã€‚</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>InstallProcessor<span class="token punctuation">)</span> <span class="token function">GetPipeLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">func</span><span class="token punctuation">(</span>cluster <span class="token operator">*</span>v2<span class="token punctuation">.</span>Cluster<span class="token punctuation">)</span> <span class="token builtin">error</span><span class="token punctuation">,</span> <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> todoList <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">func</span><span class="token punctuation">(</span>cluster <span class="token operator">*</span>v2<span class="token punctuation">.</span>Cluster<span class="token punctuation">)</span> <span class="token builtin">error</span>
	todoList <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>todoList<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>SyncStatusAndCheck<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>ConfirmOverrideApps<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>PreProcess<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>RunConfig<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>MountRootfs<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>MirrorRegistry<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>UpgradeIfNeed<span class="token punctuation">,</span>
		<span class="token comment">// i.GetPhasePluginFunc(plugin.PhasePreGuest),</span>
		c<span class="token punctuation">.</span>RunGuest<span class="token punctuation">,</span>
		c<span class="token punctuation">.</span>PostProcess<span class="token punctuation">,</span>
		<span class="token comment">// i.GetPhasePluginFunc(plugin.PhasePostInstall),</span>
	<span class="token punctuation">)</span>
	<span class="token keyword">return</span> todoList<span class="token punctuation">,</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ Sealos ä¸­ï¼Œ<code>CreateProcessor</code> å’Œ <code>InstallProcessor</code> æ˜¯ä¸¤ä¸ªä¸åŒçš„ Processorï¼Œåˆ†åˆ«ç”¨äºåˆ›å»ºé›†ç¾¤å’Œå®‰è£…é›†ç¾¤ã€‚å®ƒä»¬å®ç°äº† <code>processor.Processor</code> æ¥å£ï¼Œè¯¥æ¥å£å®šä¹‰äº†æ‰§è¡Œé›†ç¾¤éƒ¨ç½²æ‰€éœ€çš„åŸºæœ¬æ–¹æ³•ã€‚æ¯ä¸ª Processor ä¸­éƒ½åŒ…å«äº†ä¸€ç³»åˆ—çš„ Pipelineï¼Œæ¯ä¸ª Pipeline ä¸­åˆåŒ…å«äº†ä¸€ç³»åˆ—çš„å‡½æ•°ï¼Œè¿™äº›å‡½æ•°ç”¨äºæ‰§è¡Œå…·ä½“çš„éƒ¨ç½²æ“ä½œã€‚</p><p>åœ¨ <code>CreateProcessor</code> ä¸­ï¼Œ<code>GetPipeLine()</code> å‡½æ•°è¿”å›ä¸€ä¸ªåŒ…å«äº†åˆ›å»ºé›†ç¾¤æ‰€éœ€ Pipeline çš„åˆ—è¡¨ã€‚è¿™ä¸ªåˆ—è¡¨ä¸­åŒ…å«äº†ä¸€äº›åŸºæœ¬æ“ä½œï¼Œä¾‹å¦‚æ£€æŸ¥é›†ç¾¤æ˜¯å¦å·²ç»å­˜åœ¨ã€è¿è¡Œé…ç½®ã€æ£€æŸ¥å¹¶æŒ‚è½½ rootfsã€å¯åŠ¨ bootstrap ç­‰ç­‰ã€‚è¿™äº›æ“ä½œä¼šè¢«ä¾æ¬¡æ‰§è¡Œï¼Œæœ€ç»ˆå®Œæˆé›†ç¾¤çš„åˆ›å»ºè¿‡ç¨‹ã€‚</p><p>è€Œåœ¨ <code>InstallProcessor</code> ä¸­ï¼Œ<code>GetPipeLine()</code> å‡½æ•°è¿”å›ä¸€ä¸ªåŒ…å«äº†å®‰è£…é›†ç¾¤æ‰€éœ€ Pipeline çš„åˆ—è¡¨ã€‚è¿™ä¸ªåˆ—è¡¨ä¸­åŒ…å«äº†ä¸åˆ›å»ºé›†ç¾¤ç±»ä¼¼çš„æ“ä½œï¼Œä½†ä¹ŸåŒ…å«äº†ä¸€äº›é¢å¤–çš„æ“ä½œï¼Œå¦‚å‡çº§ã€è¿è¡Œ guestã€åå¤„ç†ç­‰ç­‰ã€‚è¿™äº›æ“ä½œä¼šè¢«ä¾æ¬¡æ‰§è¡Œï¼Œæœ€ç»ˆå®Œæˆé›†ç¾¤çš„å®‰è£…è¿‡ç¨‹ã€‚</p><p>ä»åŠŸèƒ½ä¸Šæ¥çœ‹ï¼Œ<code>CreateProcessor</code> æ›´ä¾§é‡äºåˆ›å»ºé›†ç¾¤ï¼Œè€Œ <code>InstallProcessor</code> æ›´ä¾§é‡äºå®‰è£…é›†ç¾¤ã€‚å®é™…ä¸Šï¼Œåœ¨ Sealos ä¸­ï¼Œè¿™ä¸¤ä¸ª Processor ä¹‹é—´å¹¶æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ï¼Œå®ƒä»¬éƒ½åŒ…å«äº†ç›¸åŒçš„ Pipeline å’Œæ“ä½œã€‚å”¯ä¸€çš„åŒºåˆ«åœ¨äºå®ƒä»¬è¢«ç”¨äºä¸åŒçš„åœºæ™¯ã€‚</p><p><code>pipeline</code> ä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š</p><ol><li><p>Checkï¼šæ£€æŸ¥é›†ç¾¤çš„ä¸»æœºï¼ŒåŒ…æ‹¬ IP æ˜¯å¦èƒ½å¤Ÿè®¿é—®ï¼Œä¸»æœºæ˜¯å¦ä¸º Linux ç³»ç»Ÿï¼Œç”¨æˆ·æ˜¯å¦ä¸º root ç­‰ã€‚</p></li><li><p>PreProcessï¼šè´Ÿè´£é›†ç¾¤éƒ¨ç½²å‰çš„é•œåƒé¢„å¤„ç†æ“ä½œï¼Œä¸»è¦æ˜¯ä½¿ç”¨ <code>image.Manager</code> å¯¹è±¡æ¥å¤„ç†é•œåƒã€‚åœ¨è¿™é‡Œä¼šæ‹‰å–é•œåƒï¼Œå¹¶å¯¹é•œåƒè¿›è¡Œæ ¼å¼æ£€æŸ¥ã€æŒ‚è½½åˆ° rootfs ä¸Šç­‰æ“ä½œã€‚</p></li><li><p>RunConfigï¼šå°†é›†ç¾¤çŠ¶æ€ä¸­çš„ <code>working container</code> å¯¼å‡ºæˆ yaml æ ¼å¼çš„é…ç½®å¹¶æŒä¹…åŒ–åˆ°å®¿ä¸»æœºçš„æ–‡ä»¶ç³»ç»Ÿä¸­ã€‚</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>InstallProcessor<span class="token punctuation">)</span> <span class="token function">RunConfig</span><span class="token punctuation">(</span><span class="token boolean">_</span> <span class="token operator">*</span>v2<span class="token punctuation">.</span>Cluster<span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>NewMounts<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">nil</span>
	<span class="token punctuation">}</span>
	eg<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> errgroup<span class="token punctuation">.</span><span class="token function">WithContext</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> cManifest <span class="token operator">:=</span> <span class="token keyword">range</span> c<span class="token punctuation">.</span>NewMounts <span class="token punctuation">{</span>
		manifest <span class="token operator">:=</span> cManifest
		eg<span class="token punctuation">.</span><span class="token function">Go</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
			cfg <span class="token operator">:=</span> config<span class="token punctuation">.</span><span class="token function">NewConfiguration</span><span class="token punctuation">(</span>manifest<span class="token punctuation">.</span>ImageName<span class="token punctuation">,</span> manifest<span class="token punctuation">.</span>MountPoint<span class="token punctuation">,</span> c<span class="token punctuation">.</span>ClusterFile<span class="token punctuation">.</span><span class="token function">GetConfigs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
			<span class="token keyword">return</span> cfg<span class="token punctuation">.</span><span class="token function">Dump</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> eg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>RunConfig</code> å‡½æ•°çš„ä½œç”¨æ˜¯å°†é›†ç¾¤çŠ¶æ€ä¸­çš„ <code>working container</code> å¯¼å‡ºæˆ yaml æ ¼å¼çš„é…ç½®å¹¶æŒä¹…åŒ–åˆ°å®¿ä¸»æœºçš„æ–‡ä»¶ç³»ç»Ÿä¸­ã€‚åœ¨å‡½æ•°æ‰§è¡Œæ—¶ï¼Œä¼šå°† <code>working container</code> çš„é…ç½®å¯¼å‡ºæˆ Config å¯¹è±¡ï¼Œç„¶åä½¿ç”¨ <code>config.Dump()</code> å‡½æ•°å°† Config å¯¹è±¡åºåˆ—åŒ–ä¸º YAML æ ¼å¼ï¼Œå¹¶å°†å…¶å†™å…¥æŒ‡å®šçš„æ–‡ä»¶ä¸­ã€‚åœ¨ Sealos ä¸­ï¼Œ<code>RunConfig</code> å‡½æ•°ä¸»è¦ç”¨äºç”Ÿæˆ Kubernetes é›†ç¾¤çš„é…ç½®æ–‡ä»¶ï¼Œè¿™äº›é…ç½®æ–‡ä»¶ç”¨äºæŒä¹…åŒ–é›†ç¾¤çš„çŠ¶æ€ã€‚</p><p><code>rootfs â†’ Clusterfile</code></p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Dumper<span class="token punctuation">)</span> <span class="token function">Dump</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>Configs<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">{</span>
		logger<span class="token punctuation">.</span><span class="token function">Debug</span><span class="token punctuation">(</span><span class="token string">&quot;clusterfile config is empty!&quot;</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token boolean">nil</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> err <span class="token operator">:=</span> c<span class="token punctuation">.</span><span class="token function">WriteFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">&quot;failed to write config files %v&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>

<span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>Dumper<span class="token punctuation">)</span> <span class="token function">WriteFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>err <span class="token builtin">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> config <span class="token operator">:=</span> <span class="token keyword">range</span> c<span class="token punctuation">.</span>Configs <span class="token punctuation">{</span>
		<span class="token keyword">if</span> config<span class="token punctuation">.</span>Spec<span class="token punctuation">.</span>Match <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span> config<span class="token punctuation">.</span>Spec<span class="token punctuation">.</span>Match <span class="token operator">!=</span> c<span class="token punctuation">.</span>name <span class="token punctuation">{</span>
			<span class="token keyword">continue</span>
		<span class="token punctuation">}</span>
		configData <span class="token operator">:=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token function">byte</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>Spec<span class="token punctuation">.</span>Data<span class="token punctuation">)</span>
		configPath <span class="token operator">:=</span> filepath<span class="token punctuation">.</span><span class="token function">Join</span><span class="token punctuation">(</span>c<span class="token punctuation">.</span>RootPath<span class="token punctuation">,</span> config<span class="token punctuation">.</span>Spec<span class="token punctuation">.</span>Path<span class="token punctuation">)</span>
		<span class="token comment">//only the YAML format is supported</span>
		<span class="token keyword">switch</span> config<span class="token punctuation">.</span>Spec<span class="token punctuation">.</span>Strategy <span class="token punctuation">{</span>
		<span class="token keyword">case</span> v1beta1<span class="token punctuation">.</span>Merge<span class="token punctuation">:</span>
			configData<span class="token punctuation">,</span> err <span class="token operator">=</span> <span class="token function">getMergeConfigData</span><span class="token punctuation">(</span>configPath<span class="token punctuation">,</span> configData<span class="token punctuation">)</span>
			<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> err
			<span class="token punctuation">}</span>
		<span class="token keyword">case</span> v1beta1<span class="token punctuation">.</span>Insert<span class="token punctuation">:</span>
			configData<span class="token punctuation">,</span> err <span class="token operator">=</span> <span class="token function">getAppendOrInsertConfigData</span><span class="token punctuation">(</span>configPath<span class="token punctuation">,</span> configData<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
			<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> err
			<span class="token punctuation">}</span>
		<span class="token keyword">case</span> v1beta1<span class="token punctuation">.</span>Append<span class="token punctuation">:</span>
			configData<span class="token punctuation">,</span> err <span class="token operator">=</span> <span class="token function">getAppendOrInsertConfigData</span><span class="token punctuation">(</span>configPath<span class="token punctuation">,</span> configData<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
			<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> err
			<span class="token punctuation">}</span>
		<span class="token keyword">case</span> v1beta1<span class="token punctuation">.</span>Override<span class="token punctuation">:</span>
		<span class="token punctuation">}</span>
		err <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">WriteFile</span><span class="token punctuation">(</span>configPath<span class="token punctuation">,</span> configData<span class="token punctuation">)</span>
		<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">&quot;write config file failed %v&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Dump()</code> å‡½æ•°æ˜¯ä¸€ä¸ªå°†é›†ç¾¤é…ç½®å†™å…¥æ–‡ä»¶çš„æ–¹æ³•ã€‚è¯¥å‡½æ•°é¦–å…ˆæ£€æŸ¥é…ç½®æ˜¯å¦ä¸ºç©ºã€‚å¦‚æœä¸ä¸ºç©ºï¼Œå®ƒå°†è°ƒç”¨ <code>WriteFiles()</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°†ä¸ºæ¯ä¸ªé…ç½®æ–‡ä»¶å†™å…¥æ–‡ä»¶ã€‚å¦‚æœæ²¡æœ‰å‘ç”Ÿé”™è¯¯ï¼Œåˆ™è¿”å› <code>nil</code>ã€‚å¦‚æœå‡ºç°é”™è¯¯ï¼Œåˆ™è¿”å›é”™è¯¯ã€‚</p><p><code>WriteFiles()</code> æ–¹æ³•æ˜¯å°†é›†ç¾¤é…ç½®å†™å…¥æ–‡ä»¶çš„å®é™…æ–¹æ³•ã€‚è¯¥æ–¹æ³•éå†æ‰€æœ‰é…ç½®å¹¶æ£€æŸ¥ä¸å½“å‰åç§°åŒ¹é…çš„é…ç½®ã€‚å¦‚æœæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„é…ç½®ï¼Œåˆ™ä½¿ç”¨è¯¥é…ç½®ä¸­çš„æ•°æ®å°†å…¶å†™å…¥æ–‡ä»¶ã€‚åœ¨å†™å…¥åˆ°æ–‡ä»¶ä¹‹å‰ï¼Œè¿˜éœ€è¦æ£€æŸ¥é…ç½®ä¸­çš„ç­–ç•¥å¹¶è¿›è¡Œç›¸åº”çš„å¤„ç†ã€‚æœ€åï¼Œè¯¥æ–¹æ³•å°†è¿”å› <code>nil</code> æˆ–é”™è¯¯ã€‚</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">const</span> <span class="token punctuation">(</span>
	Merge    StrategyType <span class="token operator">=</span> <span class="token string">&quot;merge&quot;</span>
	Override StrategyType <span class="token operator">=</span> <span class="token string">&quot;override&quot;</span>
	Insert   StrategyType <span class="token operator">=</span> <span class="token string">&quot;insert&quot;</span>
	Append   StrategyType <span class="token operator">=</span> <span class="token string">&quot;append&quot;</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™äº›å¸¸é‡å®šä¹‰äº† <code>StrategyType</code> ç±»å‹çš„æšä¸¾å€¼ï¼Œç”¨äºæŒ‡å®šåœ¨æ›´æ–°é…ç½®æ–‡ä»¶æ—¶ä½¿ç”¨çš„ç­–ç•¥ã€‚å…¶ä¸­ï¼Œ<code>Merge</code> è¡¨ç¤ºå°†æ–°é…ç½®åˆå¹¶åˆ°æ—§é…ç½®ä¸­ï¼Œ<code>Override</code> è¡¨ç¤ºä½¿ç”¨æ–°é…ç½®è¦†ç›–æ—§é…ç½®ï¼Œ<code>Insert</code> è¡¨ç¤ºåœ¨æ—§é…ç½®æ–‡ä»¶çš„æŒ‡å®šä½ç½®æ’å…¥æ–°é…ç½®ï¼Œ<code>Append</code> è¡¨ç¤ºå°†æ–°é…ç½®è¿½åŠ åˆ°æ—§é…ç½®æ–‡ä»¶çš„æœ«å°¾ã€‚</p></li><li><p><code>MountRootfs</code>ï¼šå°†æŒ‚è½½çš„é•œåƒå†…å®¹æŒ‰ç…§ç±»åˆ«åˆ†å‘åˆ°æ¯å°æœºå™¨ä¸Šã€‚è¿™é‡Œéœ€è¦ä»‹ç»ä¸€ä¸‹ sealos çš„é•œåƒç»“æ„ï¼Œä»¥æœ€åŸºç¡€çš„ k8s é•œåƒä¸ºä¾‹ï¼š</p></li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>labring/kubernetes
   - etc # é…ç½®é¡¹
   - scripts # è„šæœ¬
       - init-containerd.sh
       - init-kube.sh
       - init-shim.sh
       - init-registry.sh
       - init.sh
   - Kubefile # dockerfile è¯­æ³•ï¼Œå®šä¹‰äº†é•œåƒçš„æ‰§è¡Œé€»è¾‘
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>è¿™ä¸ªè¿‡ç¨‹å¯¹æˆ‘ä»¬åˆ¶ä½œ k3s çš„é•œåƒæ¥è¯´éå¸¸é‡è¦ï¼Œæˆ‘åœ¨ä¸‹ä¸€ä¸ªæ ‡é¢˜è¯¦ç»†è§£é‡Šè¿™ä¸ªæ­¥éª¤ï¼Œæˆ–è®¸æˆ‘ä»¬åº”è¯¥å¥½å¥½çš„ç†è§£è¿™ä¸ªæ­¥éª¤~</p></blockquote><h2 id="mount" tabindex="-1"><a class="header-anchor" href="#mount" aria-hidden="true">#</a> mount</h2><p>ä¸Šé¢æœ‰ä¸€éƒ¨åˆ†æ˜¯ mount çš„åŸºç¡€é•œåƒï¼Œçœ‹åˆ°äº† <code>init.sh</code> æ˜¯æœ€å¼€å§‹æ‰§è¡Œçš„ã€‚è¿™ä¸ªæ—¶å€™ä¼šç”¨ <code>init</code> åˆå§‹åŒ–ä¸€äº› kubeadm å’Œ kubectl ä¸€äº›ä¸œè¥¿ï¼Œæˆ‘ä»¬åœ¨å­¦ä¹  Kubernetes ä¸­ä¹ŸçŸ¥é“äº†ï¼ŒKubernetes çš„ä¸€äº›åˆå§‹åŒ–é—®é¢˜ï¼Œæ˜¯æ²¡æœ‰åŠæ³•ä½¿ç”¨å®¹å™¨åŒ–éƒ¨ç½²çš„ï¼Œå› ä¸º kubeadm æ˜¯å’Œ å®¹å™¨å’Œ å®¿ä¸»æœºæ‰“äº¤é“çš„ã€‚</p><p>Sealos çš„é•œåƒç»“æ„ä¸­åŒ…å«äº† addons æ–‡ä»¶å¤¹ï¼Œå…¶ä¸­å­˜æ”¾äº†ä¸€äº›é¢å¤–çš„ç»„ä»¶ï¼Œæ¯”å¦‚ dashboard å’Œ metrics-serverã€‚åœ¨ MountRootfs è¿™æ­¥ä¸­ï¼Œä¼šæ‰§è¡Œ addons ç±»å‹çš„ init.sh è„šæœ¬ï¼Œå°† addons ä¸­çš„ç»„ä»¶å®‰è£…åˆ°é›†ç¾¤ä¸­</p><p>K8s ä½œä¸ºæ•´ä¸ªé›†ç¾¤çš„åŸºç¡€ï¼Œè™½ç„¶æœ€ç»ˆé•œåƒå†…çš„ç›®å½•ç»“æ„ä¸å…¶ä»–ä¸€è‡´ï¼Œä½†å…¶æ„å»ºè¿‡ç¨‹ç¨å¾®æœ‰æ‰€ä¸åŒã€‚åœ¨ CI ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œk8s é•œåƒå…¶å®æ˜¯åˆå¹¶äº†å¤šä¸ªæ–‡ä»¶å¤¹ï¼Œcontainerdï¼Œrootfs å’Œ registryã€‚è¿™äº›ç‹¬ç«‹çš„æ–‡ä»¶å¤¹ä¸­åŒ…å«æœ‰å®‰è£…å¯¹åº”ç»„ä»¶çš„è„šæœ¬ã€‚åœ¨ MountRootfs è¿™æ­¥ä¸­ï¼Œåªä¼šæ‰§è¡Œ rootfs å’Œ addons ç±»å‹çš„ init.sh è„šæœ¬ã€‚è¿™ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œå› ä¸ºåˆ°ç›®å‰ä¸ºæ­¢ï¼ŒSealos ä»…ä»…åœ¨æ¯å°æœºå™¨ä¸Šå®‰è£…æˆåŠŸäº† kubeletï¼Œæ•´ä¸ª k8s é›†ç¾¤è¿˜æœªå¯ç”¨ã€‚</p><p>å…ˆé€šè¿‡ä¸€ä¸ª æ„é€ å‡½æ•° ï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>f <span class="token operator">*</span>defaultRootfs<span class="token punctuation">)</span> <span class="token function">MountRootfs</span><span class="token punctuation">(</span>cluster <span class="token operator">*</span>v2<span class="token punctuation">.</span>Cluster<span class="token punctuation">,</span> hosts <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> f<span class="token punctuation">.</span><span class="token function">mountRootfs</span><span class="token punctuation">(</span>cluster<span class="token punctuation">,</span> hosts<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è™½ç„¶æˆ‘ä¹Ÿä¸çŸ¥é“è¿™ä¸ªæœ‰å•¥ç”¨ï¼Œä¸è¿‡ä¹Ÿç®—æ˜¯å®ç°äº†ç»“æ„ä½“æ–¹æ³•æŠŠï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>f <span class="token operator">*</span>defaultRootfs<span class="token punctuation">)</span> <span class="token function">mountRootfs</span><span class="token punctuation">(</span>cluster <span class="token operator">*</span>v2<span class="token punctuation">.</span>Cluster<span class="token punctuation">,</span> ipList <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
	target <span class="token operator">:=</span> constants<span class="token punctuation">.</span><span class="token function">NewData</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">getClusterName</span><span class="token punctuation">(</span>cluster<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">RootFSPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	ctx <span class="token operator">:=</span> context<span class="token punctuation">.</span><span class="token function">Background</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	eg<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> errgroup<span class="token punctuation">.</span><span class="token function">WithContext</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
	envProcessor <span class="token operator">:=</span> env<span class="token punctuation">.</span><span class="token function">NewEnvProcessor</span><span class="token punctuation">(</span>cluster<span class="token punctuation">,</span> f<span class="token punctuation">.</span>mounts<span class="token punctuation">)</span>
	<span class="token keyword">for</span> <span class="token boolean">_</span><span class="token punctuation">,</span> mount <span class="token operator">:=</span> <span class="token keyword">range</span> f<span class="token punctuation">.</span>mounts <span class="token punctuation">{</span>
		src <span class="token operator">:=</span> mount
		eg<span class="token punctuation">.</span><span class="token function">Go</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">IsExist</span><span class="token punctuation">(</span>src<span class="token punctuation">.</span>MountPoint<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				logger<span class="token punctuation">.</span><span class="token function">Debug</span><span class="token punctuation">(</span><span class="token string">&quot;Image %s not exist, render env continue&quot;</span><span class="token punctuation">,</span> src<span class="token punctuation">.</span>ImageName<span class="token punctuation">)</span>
				<span class="token keyword">return</span> <span class="token boolean">nil</span>
			<span class="token punctuation">}</span>
			<span class="token comment">// TODO: if we are planing to support rendering templates for each host,</span>
			<span class="token comment">// then move this rendering process before ssh.CopyDir and do it one by one.</span>
			err <span class="token operator">:=</span> <span class="token function">renderTemplatesWithEnv</span><span class="token punctuation">(</span>src<span class="token punctuation">.</span>MountPoint<span class="token punctuation">,</span> ipList<span class="token punctuation">,</span> envProcessor<span class="token punctuation">)</span>
			<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">&quot;failed to render env: %w&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
			dirs<span class="token punctuation">,</span> err <span class="token operator">:=</span> file<span class="token punctuation">.</span><span class="token function">StatDir</span><span class="token punctuation">(</span>src<span class="token punctuation">.</span>MountPoint<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
			<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">&quot;failed to stat files: %w&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span> <span class="token function">len</span><span class="token punctuation">(</span>dirs<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">{</span>
				<span class="token boolean">_</span><span class="token punctuation">,</span> err <span class="token operator">=</span> exec<span class="token punctuation">.</span><span class="token function">RunBashCmd</span><span class="token punctuation">(</span>fmt<span class="token punctuation">.</span><span class="token function">Sprintf</span><span class="token punctuation">(</span>constants<span class="token punctuation">.</span>DefaultChmodBash<span class="token punctuation">,</span> src<span class="token punctuation">.</span>MountPoint<span class="token punctuation">)</span><span class="token punctuation">)</span>
				<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">&quot;run chmod to rootfs failed: %w&quot;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> <span class="token boolean">nil</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> err <span class="token operator">:=</span> eg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> err
	<span class="token punctuation">}</span>

	sshClient <span class="token operator">:=</span> f<span class="token punctuation">.</span><span class="token function">getSSH</span><span class="token punctuation">(</span>cluster<span class="token punctuation">)</span>
	notRegistryDirFilter <span class="token operator">:=</span> <span class="token keyword">func</span><span class="token punctuation">(</span>entry fs<span class="token punctuation">.</span>DirEntry<span class="token punctuation">)</span> <span class="token builtin">bool</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token operator">!</span>constants<span class="token punctuation">.</span><span class="token function">IsRegistryDir</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span> <span class="token punctuation">}</span>

	<span class="token keyword">for</span> idx <span class="token operator">:=</span> <span class="token keyword">range</span> ipList <span class="token punctuation">{</span>
		ip <span class="token operator">:=</span> ipList<span class="token punctuation">[</span>idx<span class="token punctuation">]</span>
		eg<span class="token punctuation">.</span><span class="token function">Go</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
			egg<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> errgroup<span class="token punctuation">.</span><span class="token function">WithContext</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
			<span class="token keyword">for</span> idj <span class="token operator">:=</span> <span class="token keyword">range</span> f<span class="token punctuation">.</span>mounts <span class="token punctuation">{</span>
				mount <span class="token operator">:=</span> f<span class="token punctuation">.</span>mounts<span class="token punctuation">[</span>idj<span class="token punctuation">]</span>
				egg<span class="token punctuation">.</span><span class="token function">Go</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
					<span class="token keyword">switch</span> mount<span class="token punctuation">.</span>Type <span class="token punctuation">{</span>
					<span class="token keyword">case</span> v2<span class="token punctuation">.</span>RootfsImage<span class="token punctuation">,</span> v2<span class="token punctuation">.</span>PatchImage<span class="token punctuation">:</span>
						logger<span class="token punctuation">.</span><span class="token function">Debug</span><span class="token punctuation">(</span><span class="token string">&quot;send mount image, ip: %s, image name: %s, image type: %s&quot;</span><span class="token punctuation">,</span> ip<span class="token punctuation">,</span> mount<span class="token punctuation">.</span>ImageName<span class="token punctuation">,</span> mount<span class="token punctuation">.</span>Type<span class="token punctuation">)</span>
						err <span class="token operator">:=</span> ssh<span class="token punctuation">.</span><span class="token function">CopyDir</span><span class="token punctuation">(</span>sshClient<span class="token punctuation">,</span> ip<span class="token punctuation">,</span> mount<span class="token punctuation">.</span>MountPoint<span class="token punctuation">,</span> target<span class="token punctuation">,</span> notRegistryDirFilter<span class="token punctuation">)</span>
						<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
							<span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">&quot;failed to copy %s %s: %v&quot;</span><span class="token punctuation">,</span> mount<span class="token punctuation">.</span>Type<span class="token punctuation">,</span> mount<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> err<span class="token punctuation">)</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">return</span> <span class="token boolean">nil</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> egg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	err <span class="token operator">:=</span> eg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> err
	<span class="token punctuation">}</span>

	endEg<span class="token punctuation">,</span> <span class="token boolean">_</span> <span class="token operator">:=</span> errgroup<span class="token punctuation">.</span><span class="token function">WithContext</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
	master0 <span class="token operator">:=</span> cluster<span class="token punctuation">.</span><span class="token function">GetMaster0IPAndPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">for</span> idx <span class="token operator">:=</span> <span class="token keyword">range</span> f<span class="token punctuation">.</span>mounts <span class="token punctuation">{</span>
		mountInfo <span class="token operator">:=</span> f<span class="token punctuation">.</span>mounts<span class="token punctuation">[</span>idx<span class="token punctuation">]</span>
		endEg<span class="token punctuation">.</span><span class="token function">Go</span><span class="token punctuation">(</span><span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> mountInfo<span class="token punctuation">.</span>Type <span class="token operator">==</span> v2<span class="token punctuation">.</span>AppImage <span class="token punctuation">{</span>
				logger<span class="token punctuation">.</span><span class="token function">Debug</span><span class="token punctuation">(</span><span class="token string">&quot;send app mount images, ip: %s, image name: %s, image type: %s&quot;</span><span class="token punctuation">,</span> master0<span class="token punctuation">,</span> mountInfo<span class="token punctuation">.</span>ImageName<span class="token punctuation">,</span> mountInfo<span class="token punctuation">.</span>Type<span class="token punctuation">)</span>
				err <span class="token operator">=</span> ssh<span class="token punctuation">.</span><span class="token function">CopyDir</span><span class="token punctuation">(</span>sshClient<span class="token punctuation">,</span> master0<span class="token punctuation">,</span> mountInfo<span class="token punctuation">.</span>MountPoint<span class="token punctuation">,</span> constants<span class="token punctuation">.</span><span class="token function">GetAppWorkDir</span><span class="token punctuation">(</span>cluster<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> mountInfo<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">,</span> notRegistryDirFilter<span class="token punctuation">)</span>
				<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">&quot;failed to copy %s %s: %v&quot;</span><span class="token punctuation">,</span> mountInfo<span class="token punctuation">.</span>Type<span class="token punctuation">,</span> mountInfo<span class="token punctuation">.</span>Name<span class="token punctuation">,</span> err<span class="token punctuation">)</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> <span class="token boolean">nil</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> endEg<span class="token punctuation">.</span><span class="token function">Wait</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>mountRootfs</code> å‡½æ•°æ˜¯ Sealos ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒå‡½æ•°ï¼Œå®ƒä¸»è¦ç”¨äºå°†æŒ‚è½½çš„é•œåƒå†…å®¹æŒ‰ç…§ç±»åˆ«åˆ†å‘åˆ°æ¯å°æœºå™¨ä¸Šã€‚è¯¥å‡½æ•°ä¸­çš„æ­¥éª¤åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p><ol><li><strong>ç¯å¢ƒå˜é‡å¤„ç†</strong>ï¼šè¯¥å‡½æ•°ä¼šæ ¹æ®ä¼ å…¥çš„é›†ç¾¤å’ŒæŒ‚è½½ç‚¹ä¿¡æ¯å¤„ç†ç¯å¢ƒå˜é‡ã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ª <code>envProcessor</code> å¯¹è±¡ï¼Œè¯¥å¯¹è±¡åŒ…å«äº†é›†ç¾¤çš„ä¿¡æ¯ä»¥åŠæŒ‚è½½ç‚¹çš„ä¿¡æ¯ï¼Œç”¨äºå¤„ç†ç¯å¢ƒå˜é‡ã€‚</li><li>éå†æŒ‚è½½ç‚¹ï¼šè¯¥å‡½æ•°ä¼šéå†æ‰€æœ‰çš„æŒ‚è½½ç‚¹ï¼Œå¯¹æ¯ä¸ªæŒ‚è½½ç‚¹æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š <ol><li>åˆ¤æ–­æŒ‚è½½ç‚¹æ˜¯å¦å­˜åœ¨ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™ç›´æ¥è·³è¿‡è¯¥æŒ‚è½½ç‚¹ã€‚</li><li>æ¸²æŸ“ç¯å¢ƒå˜é‡ã€‚è¯¥å‡½æ•°ä¼šå°†ç¯å¢ƒå˜é‡æ³¨å…¥åˆ°æŒ‚è½½ç‚¹ä¸­ã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒä¼šè°ƒç”¨ <code>renderTemplatesWithEnv</code> å‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šå°†ç¯å¢ƒå˜é‡æ³¨å…¥åˆ°æŒ‚è½½ç‚¹ä¸­çš„æ¨¡æ¿æ–‡ä»¶ä¸­ã€‚</li><li>ä¿®æ”¹ç›®å½•æƒé™ã€‚å¦‚æœæŒ‚è½½ç‚¹ä¸­åŒ…å«å­ç›®å½•ï¼Œåˆ™ä¼šå°†å…¶æƒé™æ›´æ”¹ä¸ºé»˜è®¤æƒé™ã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒä¼šè°ƒç”¨ <code>exec.RunBashCmd</code> å‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šæ‰§è¡Œ <code>chmod</code> å‘½ä»¤ï¼Œå°†æŒ‚è½½ç‚¹ä¸­çš„æ‰€æœ‰ç›®å½•çš„æƒé™æ›´æ”¹ä¸ºé»˜è®¤æƒé™ã€‚</li></ol></li><li><strong>å¤åˆ¶é•œåƒåˆ°æ¯ä¸ªèŠ‚ç‚¹</strong>ï¼šè¯¥å‡½æ•°ä¼šå°†é•œåƒæ–‡ä»¶å¤¹å¤åˆ¶åˆ°æ¯ä¸ªèŠ‚ç‚¹ä¸Šã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒä¼šéå†æ¯ä¸ªèŠ‚ç‚¹ï¼Œå¯¹äºæ¯ä¸ªèŠ‚ç‚¹ï¼Œå®ƒä¼šéå†æ¯ä¸ªæŒ‚è½½ç‚¹ï¼Œå°†æŒ‚è½½ç‚¹ä¸­çš„é•œåƒæ–‡ä»¶å¤¹å¤åˆ¶åˆ°èŠ‚ç‚¹ä¸Šã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒä¼šè°ƒç”¨ <code>ssh.CopyDir</code> å‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šé€šè¿‡ SSH å°†æŒ‚è½½ç‚¹ä¸­çš„é•œåƒæ–‡ä»¶å¤¹å¤åˆ¶åˆ°èŠ‚ç‚¹ä¸Šã€‚</li><li><strong>å¤åˆ¶åº”ç”¨ç¨‹åºé•œåƒåˆ°ä¸»èŠ‚ç‚¹</strong>ï¼šå¦‚æœå­˜åœ¨åº”ç”¨ç¨‹åºé•œåƒï¼Œåˆ™å°†å…¶å¤åˆ¶åˆ°ä¸»èŠ‚ç‚¹ä¸Šã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒä¼šéå†æ¯ä¸ªæŒ‚è½½ç‚¹ï¼Œå¦‚æœæŒ‚è½½ç‚¹çš„ç±»å‹æ˜¯åº”ç”¨ç¨‹åºé•œåƒç±»å‹ï¼Œåˆ™å°†å…¶å¤åˆ¶åˆ°ä¸»èŠ‚ç‚¹ä¸Šã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒä¼šè°ƒç”¨ <code>ssh.CopyDir</code> å‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šé€šè¿‡ SSH å°†åº”ç”¨ç¨‹åºé•œåƒæ–‡ä»¶å¤¹å¤åˆ¶åˆ°ä¸»èŠ‚ç‚¹ä¸Šã€‚</li></ol><h2 id="mirrorregistry-å’Œ-bootstrap-æ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#mirrorregistry-å’Œ-bootstrap-æ­¥éª¤" aria-hidden="true">#</a> MirrorRegistry å’Œ Bootstrap æ­¥éª¤</h2><h3 id="mirrorregistry" tabindex="-1"><a class="header-anchor" href="#mirrorregistry" aria-hidden="true">#</a> MirrorRegistry</h3><p>å½“ç„¶ï¼Œåœ¨åˆ° init çš„æ­¥éª¤ä¸­è¿˜æœ‰ä¸¤ä¸ªé˜¶æ®µï¼š</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>c.MirrorRegistry,
c.Bootstrap,
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>MirrorRegistry</code> é˜¶æ®µæ˜¯ Sealos éƒ¨ç½²é›†ç¾¤çš„ä¸€ä¸ªé‡è¦æ­¥éª¤ã€‚åœ¨è¿™ä¸ªæ­¥éª¤ä¸­ï¼ŒSealos ä¼šå°†æ‰€éœ€çš„ Docker é•œåƒä»å…¬å…±é•œåƒä»“åº“ä¸­æ‹‰å–åˆ°æœ¬åœ°ï¼Œå¹¶å°†å…¶æ¨é€åˆ°æœ¬åœ°çš„ Docker é•œåƒä»“åº“ä¸­ã€‚è¿™ä¸ªæ­¥éª¤çš„ä½œç”¨æ˜¯å°† Docker é•œåƒç¼“å­˜åˆ°æœ¬åœ°ï¼Œä»¥é¿å…åœ¨é›†ç¾¤éƒ¨ç½²è¿‡ç¨‹ä¸­é¢‘ç¹åœ°ä¸‹è½½é•œåƒï¼Œä»è€ŒåŠ å¿«é›†ç¾¤éƒ¨ç½²çš„é€Ÿåº¦ã€‚<code>MirrorRegistry</code> é˜¶æ®µé€šå¸¸æ˜¯åœ¨ <code>MountRootfs</code> é˜¶æ®µä¹‹åæ‰§è¡Œçš„ã€‚</p><p><strong>è¿™ä¸ªæ­¥éª¤å°±ç›¸å½“äºæ˜¯ sealos çš„æ ¸å¿ƒé€»è¾‘ï¼Œé•œåƒå¤„ç†çš„æ ¸å¿ƒé€»è¾‘ï¼Œç®—æ˜¯ä¸€ç§é»‘ç§‘æŠ€æŠŠï¼Œå°±æ˜¯æŠŠ remote docker registery ä¸­çš„ images pull åˆ° localhostï¼Œç„¶åç¼“å­˜ï¼Œåé¢å°±å¯ä»¥ç”¨ç¼“å­˜çš„æ–‡ä»¶äº†ã€‚</strong></p><h3 id="bootstrap" tabindex="-1"><a class="header-anchor" href="#bootstrap" aria-hidden="true">#</a> Bootstrap</h3><p><code>Bootstrap</code> é˜¶æ®µæ˜¯ Sealos éƒ¨ç½²é›†ç¾¤çš„æœ€åä¸€ä¸ªé˜¶æ®µã€‚åœ¨è¿™ä¸ªé˜¶æ®µä¸­ï¼ŒSealos ä¼šå¯åŠ¨ Kubernetes çš„åˆå§‹åŒ–ç¨‹åºï¼Œå¯¹é›†ç¾¤è¿›è¡Œåˆå§‹åŒ–æ“ä½œã€‚åœ¨åˆå§‹åŒ–è¿‡ç¨‹ä¸­ï¼ŒSealos ä¼šä½¿ç”¨ kubeadm å·¥å…·æ¥åˆ›å»º Kubernetes é›†ç¾¤çš„æ§åˆ¶å¹³é¢å’ŒèŠ‚ç‚¹ï¼Œå¯åŠ¨å„ç§ Kubernetes ç»„ä»¶ï¼Œå¹¶å°†å®ƒä»¬é…ç½®ä¸ºæ­£å¸¸è¿è¡Œã€‚å½“åˆå§‹åŒ–ç¨‹åºæˆåŠŸå®Œæˆåï¼ŒKubernetes é›†ç¾¤å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚<code>Bootstrap</code> é˜¶æ®µé€šå¸¸æ˜¯åœ¨ <code>MountRootfs</code> å’Œ <code>MirrorRegistry</code> é˜¶æ®µä¹‹åæ‰§è¡Œçš„ã€‚</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>c <span class="token operator">*</span>CreateProcessor<span class="token punctuation">)</span> <span class="token function">Bootstrap</span><span class="token punctuation">(</span>cluster <span class="token operator">*</span>v2<span class="token punctuation">.</span>Cluster<span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
	logger<span class="token punctuation">.</span><span class="token function">Info</span><span class="token punctuation">(</span><span class="token string">&quot;Executing pipeline Bootstrap in CreateProcessor&quot;</span><span class="token punctuation">)</span>
	hosts <span class="token operator">:=</span> <span class="token function">append</span><span class="token punctuation">(</span>cluster<span class="token punctuation">.</span><span class="token function">GetMasterIPAndPortList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> cluster<span class="token punctuation">.</span><span class="token function">GetNodeIPAndPortList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">...</span><span class="token punctuation">)</span>
	bs <span class="token operator">:=</span> bootstrap<span class="token punctuation">.</span><span class="token function">New</span><span class="token punctuation">(</span>cluster<span class="token punctuation">)</span>
	<span class="token keyword">return</span> bs<span class="token punctuation">.</span><span class="token function">Apply</span><span class="token punctuation">(</span>hosts<span class="token operator">...</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯¥å‡½æ•°çš„ä¸»è¦ä½œç”¨æ˜¯åˆ›å»º bootstrap å®ä¾‹ï¼Œå¹¶è°ƒç”¨å…¶ Apply å‡½æ•°ã€‚å…¶ä¸­ï¼Œcluster è¡¨ç¤º Kubernetes é›†ç¾¤çš„é…ç½®ä¿¡æ¯ï¼Œhosts åŒ…å«äº†é›†ç¾¤çš„æ‰€æœ‰èŠ‚ç‚¹çš„ IP åœ°å€å’Œç«¯å£å·ã€‚</p><p>æ¥ä¸‹æ¥çœ‹ä¸€ä¸‹ Sealos ä¸­çš„ <code>bootstrap.New</code> å‡½æ•°ï¼Œå…¶ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token function">New</span><span class="token punctuation">(</span>cluster <span class="token operator">*</span>v2<span class="token punctuation">.</span>Cluster<span class="token punctuation">)</span> Interface <span class="token punctuation">{</span>
	ctx <span class="token operator">:=</span> <span class="token function">NewContextFrom</span><span class="token punctuation">(</span>cluster<span class="token punctuation">)</span>
	bs <span class="token operator">:=</span> <span class="token operator">&amp;</span>realBootstrap<span class="token punctuation">{</span>
		ctx<span class="token punctuation">:</span>          ctx<span class="token punctuation">,</span>
		preflights<span class="token punctuation">:</span>   <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span>Applier<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		initializers<span class="token punctuation">:</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span>Applier<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		postflights<span class="token punctuation">:</span>  <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span>Applier<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// register builtin appliers</span>
	<span class="token boolean">_</span> <span class="token operator">=</span> bs<span class="token punctuation">.</span><span class="token function">RegisterApplier</span><span class="token punctuation">(</span>Preflight<span class="token punctuation">,</span> defaultPreflights<span class="token operator">...</span><span class="token punctuation">)</span>
	<span class="token boolean">_</span> <span class="token operator">=</span> bs<span class="token punctuation">.</span><span class="token function">RegisterApplier</span><span class="token punctuation">(</span>Init<span class="token punctuation">,</span> defaultInitializers<span class="token operator">...</span><span class="token punctuation">)</span>
	<span class="token boolean">_</span> <span class="token operator">=</span> bs<span class="token punctuation">.</span><span class="token function">RegisterApplier</span><span class="token punctuation">(</span>Postflight<span class="token punctuation">,</span> defaultPostflights<span class="token operator">...</span><span class="token punctuation">)</span>
	<span class="token keyword">return</span> bs
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯¥å‡½æ•°çš„ä¸»è¦ä½œç”¨æ˜¯åˆ›å»º bootstrap å®ä¾‹ï¼Œå¹¶åˆå§‹åŒ–å…¶å„ä¸ªå­—æ®µçš„å€¼ã€‚å…¶ä¸­ï¼Œcluster è¡¨ç¤º Kubernetes é›†ç¾¤çš„é…ç½®ä¿¡æ¯ï¼Œctx è¡¨ç¤ºä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œ<code>preflights</code>ã€<code>initializers</code>ã€<code>postflights</code> åˆ†åˆ«è¡¨ç¤ºé¢„æ£€æŸ¥ã€åˆå§‹åŒ–ã€åå¤„ç†å‡½æ•°çš„åˆ—è¡¨ã€‚æ­¤å¤–ï¼Œè¯¥å‡½æ•°è¿˜ä¼šè°ƒç”¨ <code>RegisterApplier</code> å‡½æ•°ï¼Œæ³¨å†Œé»˜è®¤çš„é¢„æ£€æŸ¥ã€åˆå§‹åŒ–ã€åå¤„ç†å‡½æ•°ã€‚</p><h3 id="registerapplier-å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#registerapplier-å‡½æ•°" aria-hidden="true">#</a> RegisterApplier å‡½æ•°</h3><p>æ¥ä¸‹æ¥çœ‹ä¸€ä¸‹ Sealos ä¸­çš„ RegisterApplier å‡½æ•°ï¼Œå…¶ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>bs <span class="token operator">*</span>realBootstrap<span class="token punctuation">)</span> <span class="token function">RegisterApplier</span><span class="token punctuation">(</span>phase Phase<span class="token punctuation">,</span> appliers <span class="token operator">...</span>Applier<span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
	<span class="token keyword">switch</span> phase <span class="token punctuation">{</span>
	<span class="token keyword">case</span> Preflight<span class="token punctuation">:</span>
		bs<span class="token punctuation">.</span>preflights <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>bs<span class="token punctuation">.</span>preflights<span class="token punctuation">,</span> appliers<span class="token operator">...</span><span class="token punctuation">)</span>
	<span class="token keyword">case</span> Init<span class="token punctuation">:</span>
		bs<span class="token punctuation">.</span>initializers <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>bs<span class="token punctuation">.</span>initializers<span class="token punctuation">,</span> appliers<span class="token operator">...</span><span class="token punctuation">)</span>
	<span class="token keyword">case</span> Postflight<span class="token punctuation">:</span>
		bs<span class="token punctuation">.</span>postflights <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>bs<span class="token punctuation">.</span>postflights<span class="token punctuation">,</span> appliers<span class="token operator">...</span><span class="token punctuation">)</span>
	<span class="token keyword">default</span><span class="token punctuation">:</span>
		<span class="token keyword">return</span> fmt<span class="token punctuation">.</span><span class="token function">Errorf</span><span class="token punctuation">(</span><span class="token string">&quot;unknown phase %s&quot;</span><span class="token punctuation">,</span> phase<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯¥å‡½æ•°çš„ä¸»è¦ä½œç”¨æ˜¯æ³¨å†Œé¢„æ£€æŸ¥ã€åˆå§‹åŒ–ã€åå¤„ç†å‡½æ•°ã€‚å…¶ä¸­ï¼Œphase è¡¨ç¤ºå‡½æ•°çš„ç±»å‹ï¼Œappliers è¡¨ç¤ºå‡½æ•°åˆ—è¡¨ã€‚è¯¥å‡½æ•°ä¼šæ ¹æ® phase çš„ä¸åŒï¼Œå°†å‡½æ•°åˆ—è¡¨æ·»åŠ åˆ°ç›¸åº”çš„åˆ—è¡¨ä¸­ã€‚</p><h3 id="apply-å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#apply-å‡½æ•°" aria-hidden="true">#</a> Apply å‡½æ•°</h3><p>æœ€åçœ‹ä¸€ä¸‹ Sealos ä¸­çš„ Apply å‡½æ•°ï¼Œå…¶ä»£ç å¦‚ä¸‹ï¼š</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">func</span> <span class="token punctuation">(</span>bs <span class="token operator">*</span>realBootstrap<span class="token punctuation">)</span> <span class="token function">Apply</span><span class="token punctuation">(</span>hosts <span class="token operator">...</span><span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
	appliers <span class="token operator">:=</span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span>Applier<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
	appliers <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>appliers<span class="token punctuation">,</span> bs<span class="token punctuation">.</span>preflights<span class="token operator">...</span><span class="token punctuation">)</span>
	appliers <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>appliers<span class="token punctuation">,</span> bs<span class="token punctuation">.</span>initializers<span class="token operator">...</span><span class="token punctuation">)</span>
	appliers <span class="token operator">=</span> <span class="token function">append</span><span class="token punctuation">(</span>appliers<span class="token punctuation">,</span> bs<span class="token punctuation">.</span>postflights<span class="token operator">...</span><span class="token punctuation">)</span>
	logger<span class="token punctuation">.</span><span class="token function">Debug</span><span class="token punctuation">(</span><span class="token string">&quot;apply %+v on hosts %+v&quot;</span><span class="token punctuation">,</span> appliers<span class="token punctuation">,</span> hosts<span class="token punctuation">)</span>
	<span class="token keyword">for</span> i <span class="token operator">:=</span> <span class="token keyword">range</span> appliers <span class="token punctuation">{</span>
		applier <span class="token operator">:=</span> appliers<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
		<span class="token keyword">if</span> err <span class="token operator">:=</span> <span class="token function">runParallel</span><span class="token punctuation">(</span>hosts<span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>host <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token builtin">error</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token operator">!</span>applier<span class="token punctuation">.</span><span class="token function">Filter</span><span class="token punctuation">(</span>bs<span class="token punctuation">.</span>ctx<span class="token punctuation">,</span> host<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token boolean">nil</span>
			<span class="token punctuation">}</span>
			logger<span class="token punctuation">.</span><span class="token function">Debug</span><span class="token punctuation">(</span><span class="token string">&quot;apply %s on host %s&quot;</span><span class="token punctuation">,</span> applier<span class="token punctuation">,</span> host<span class="token punctuation">)</span>
			<span class="token keyword">return</span> applier<span class="token punctuation">.</span><span class="token function">Apply</span><span class="token punctuation">(</span>bs<span class="token punctuation">.</span>ctx<span class="token punctuation">,</span> host<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> err
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token boolean">nil</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯¥å‡½æ•°çš„ä¸»è¦ä½œç”¨æ˜¯ä¾æ¬¡æ‰§è¡Œé¢„æ£€æŸ¥ã€åˆå§‹åŒ–ã€åå¤„ç†å‡½æ•°ã€‚å…¶ä¸­ï¼Œ<code>hosts</code> è¡¨ç¤ºè¦æ‰§è¡Œå‡½æ•°çš„èŠ‚ç‚¹åˆ—è¡¨ï¼Œ<code>appliers</code> è¡¨ç¤ºè¦æ‰§è¡Œçš„å‡½æ•°åˆ—è¡¨ã€‚è¯¥å‡½æ•°ä¼šå°†é¢„æ£€æŸ¥ã€åˆå§‹åŒ–ã€åå¤„ç†å‡½æ•°åˆ†åˆ«æ·»åŠ åˆ° <code>appliers</code> åˆ—è¡¨ä¸­ï¼Œå¹¶æŒ‰ç…§é¡ºåºä¾æ¬¡æ‰§è¡Œã€‚åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œä¼šè°ƒç”¨ <code>Filter</code> å‡½æ•°æ¥åˆ¤æ–­è¯¥å‡½æ•°æ˜¯å¦éœ€è¦åœ¨è¯¥èŠ‚ç‚¹ä¸Šæ‰§è¡Œã€‚å¦‚æœéœ€è¦æ‰§è¡Œï¼Œåˆ™ä¼šè°ƒç”¨ <code>Apply</code> å‡½æ•°æ¥æ‰§è¡Œè¯¥å‡½æ•°ã€‚æœ€åï¼Œè‹¥æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼Œåˆ™è¯¥å‡½æ•°ä¼šè¿”å›é”™è¯¯ä¿¡æ¯ã€‚</p><p>é€šè¿‡å¯¹ <code>Sealos</code> çš„ <code>Bootstrap</code> é˜¶æ®µä»£ç è¿›è¡Œåˆ†æï¼Œæˆ‘ä»¬äº†è§£äº†å…¶è°ƒç”¨æµç¨‹å’Œå„ä¸ªå‡½æ•°çš„åŠŸèƒ½ã€‚åœ¨è¯¥é˜¶æ®µä¸­ï¼Œ<code>Sealos</code> ä¼šå¯åŠ¨ Kubernetes çš„åˆå§‹åŒ–ç¨‹åºï¼Œå¯¹é›†ç¾¤è¿›è¡Œåˆå§‹åŒ–æ“ä½œï¼Œä½¿ Kubernetes é›†ç¾¤å¯ä»¥æ­£å¸¸ä½¿ç”¨ã€‚åŒæ—¶ï¼Œè¯¥é˜¶æ®µä¹Ÿä¼šæ‰§è¡Œé¢„æ£€æŸ¥ã€åˆå§‹åŒ–ã€åå¤„ç†å‡½æ•°ï¼Œä»¥ä¿è¯é›†ç¾¤çš„æ­£å¸¸è¿è¡Œã€‚</p><blockquote><p>è¿™é‡Œæˆ–è®¸å¯ä»¥å‚è€ƒ Linux å†…æ ¸å¯åŠ¨çš„ä¸€ä¸ªè¿‡ç¨‹ï¼ŒLinux ä¸­çš„ bootfs ä¼šå¯åŠ¨ä¸€ä¸ª Kernel Boot Processï¼Œå¼•å¯¼ kernel çš„å¯åŠ¨ï¼Œå¯åŠ¨å boot å°±ä¼šè¢«é”€æ¯ï¼Œç”Ÿå‘½å‘¨æœŸç»“æŸã€‚</p></blockquote><h2 id="init-é˜¶æ®µ" tabindex="-1"><a class="header-anchor" href="#init-é˜¶æ®µ" aria-hidden="true">#</a> init é˜¶æ®µ</h2><p>Initï¼šåˆå§‹åŒ– k8s é›†ç¾¤ã€‚åœ¨è¿™æ­¥ä¸­ï¼Œå…¶å®ä¹Ÿæ˜¯æ‰§è¡Œäº†ä¸€ç³»åˆ—çš„å­æ“ä½œã€‚é¦–å…ˆï¼Œå°†é›†ç¾¤çŠ¶æ€å†™å…¥é›†ç¾¤æ–‡ä»¶ä¸­ã€‚</p><h3 id="initcluster" tabindex="-1"><a class="header-anchor" href="#initcluster" aria-hidden="true">#</a> <strong>initCluster</strong></h3><p><code>initCluster</code> è´Ÿè´£ä»é›¶å¼€å§‹åˆ›å»ºä¸€ä¸ªé›†ç¾¤ã€‚å‡½æ•°ä¸­ä¼šé€šè¿‡ <code>CreateProcessor</code> å»éƒ¨ç½²æœŸæœ›çŠ¶æ€çš„é›†ç¾¤ã€‚</p><div class="language-go ext-go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">type</span> CreateProcessor <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    ClusterFile     clusterfile<span class="token punctuation">.</span>Interface <span class="token comment">// å½“å‰é›†ç¾¤å¯¹è±¡</span>
    ImageManager    types<span class="token punctuation">.</span>ImageService <span class="token comment">// å¤„ç†é•œåƒ</span>
    ClusterManager  types<span class="token punctuation">.</span>ClusterService <span class="token comment">// ç®¡ç† clusterfile</span>
    RegistryManager types<span class="token punctuation">.</span>RegistryService <span class="token comment">// ç®¡ç†é•œåƒ registry</span>
    Runtime         runtime<span class="token punctuation">.</span>Interface   <span class="token comment">// kubeadm å¯¹è±¡</span>
    Guest           guest<span class="token punctuation">.</span>Interface   <span class="token comment">// åŸºäº sealos çš„åº”ç”¨å¯¹è±¡</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>CreateProcessor.Execute</code> æ¥æ”¶æœŸæœ›çš„é›†ç¾¤çŠ¶æ€ <code>ClusterDesired</code>ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>func <span class="token punctuation">(</span>c *CreateProcessor<span class="token punctuation">)</span> Execute<span class="token punctuation">(</span>cluster *v2.Cluster<span class="token punctuation">)</span> error <span class="token punctuation">{</span>
	pipeLine, err :<span class="token operator">=</span> c.GetPipeLine<span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> nil <span class="token punctuation">{</span>
		<span class="token builtin class-name">return</span> err
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span> _, f :<span class="token operator">=</span> range pipeLine <span class="token punctuation">{</span>
		<span class="token keyword">if</span> err <span class="token operator">=</span> f<span class="token punctuation">(</span>cluster<span class="token punctuation">)</span><span class="token punctuation">;</span> err <span class="token operator">!=</span> nil <span class="token punctuation">{</span>
			<span class="token builtin class-name">return</span> err
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token builtin class-name">return</span> nil
<span class="token punctuation">}</span>

func <span class="token punctuation">(</span>c *CreateProcessor<span class="token punctuation">)</span> GetPipeLine<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span>func<span class="token punctuation">(</span>cluster *v2.Cluster<span class="token punctuation">)</span> error, error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	var todoList <span class="token punctuation">[</span><span class="token punctuation">]</span>func<span class="token punctuation">(</span>cluster *v2.Cluster<span class="token punctuation">)</span> error
	todoList <span class="token operator">=</span> append<span class="token punctuation">(</span>todoList,
		// c.GetPhasePluginFunc<span class="token punctuation">(</span>plugin.PhaseOriginally<span class="token punctuation">)</span>,
		c.Check,
		c.PreProcess,
		c.RunConfig,
		c.MountRootfs,
		c.MirrorRegistry,
		c.Bootstrap,
		// c.GetPhasePluginFunc<span class="token punctuation">(</span>plugin.PhasePreInit<span class="token punctuation">)</span>,
		c.Init,
		c.Join,
		// c.GetPhasePluginFunc<span class="token punctuation">(</span>plugin.PhasePreGuest<span class="token punctuation">)</span>,
		c.RunGuest,
		// c.GetPhasePluginFunc<span class="token punctuation">(</span>plugin.PhasePostInstall<span class="token punctuation">)</span>,
	<span class="token punctuation">)</span>
	<span class="token builtin class-name">return</span> todoList, nil
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>æ–¹ä¾¿ç†è§£ï¼Œè¿™é‡Œç›—ç”¨ sealer å›¾</p><p><img src="http://sm.nsddd.top/sm202304152338621.png" alt="sdUntitled"></p></li></ul><p>æ¥ä¸‹æ¥ä¼šæ‰§è¡Œä¸€ç³»åˆ— pipelineï¼Œæ­£å¼è¿›å…¥å®é™…çš„é›†ç¾¤éƒ¨ç½²è¿‡ç¨‹ä¸­ï¼š</p><ol><li>Checkï¼šæ£€æŸ¥é›†ç¾¤çš„ host</li><li>PreProcessï¼šè´Ÿè´£é›†ç¾¤éƒ¨ç½²å‰çš„é•œåƒé¢„å¤„ç†æ“ä½œï¼Œåœ¨è¿™é‡Œå°±ä¼šåˆ©ç”¨ <code>CreateProcessor</code> ä¸­çš„å„ä¸ª Managerã€‚</li><li>æ‹‰å–é•œåƒ</li><li>æ£€æŸ¥é•œåƒæ ¼å¼</li><li>ä½¿ç”¨ <code>buildah</code> ä» OCI æ ¼å¼çš„é•œåƒä¸­åˆ›å»º working containerï¼Œå¹¶å°†å®¹å™¨æŒ‚è½½åˆ° rootfs ä¸Š</li><li>å°†å®¹å™¨çš„ manifest æ·»åŠ åˆ°é›†ç¾¤çŠ¶æ€ä¸­</li><li>RunConfigï¼šå°†é›†ç¾¤çŠ¶æ€ä¸­çš„ working container å¯¼å‡ºæˆ yaml æ ¼å¼çš„é…ç½®å¹¶æŒä¹…åŒ–åˆ°å®¿ä¸»æœºçš„æ–‡ä»¶ç³»ç»Ÿä¸­</li><li>MountRootfsï¼šå°†æŒ‚è½½çš„é•œåƒå†…å®¹æŒ‰ç…§ç±»åˆ«ï¼Œä»¥ <code>rootfs</code>ï¼Œ<code>addons</code>ï¼Œ<code>app</code> çš„é¡ºåºåˆ†å‘åˆ°æ¯å°æœºå™¨ä¸Šã€‚ è¿™é‡Œéœ€è¦ä»‹ç»ä¸€ä¸‹ sealos é•œåƒçš„ä¸€èˆ¬ç»“æ„ï¼Œä»¥æœ€åŸºç¡€çš„ k8s é•œåƒä¸ºä¾‹ï¼š</li></ol><p>K8s ä½œä¸ºæ•´ä¸ªé›†ç¾¤çš„åŸºç¡€ï¼Œè™½ç„¶æœ€ç»ˆé•œåƒå†…çš„ç›®å½•ç»“æ„ä¸å…¶ä»–ä¸€è‡´ï¼Œä½†å…¶æ„å»ºè¿‡ç¨‹ç¨å¾®æœ‰æ‰€ä¸åŒã€‚åœ¨ CI <strong>https://github.com/labring/cluster-image/blob/faca63809e7a3eae512100a1eb8f9b7384973175/.github/scripts/kubernetes.sh#L35</strong> ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œk8s é•œåƒå…¶å®æ˜¯åˆå¹¶äº† cluster-image ä»“åº“ä¸‹çš„å¤šä¸ªæ–‡ä»¶å¤¹ï¼Œ<code>containerd</code>ï¼Œ<code>rootfs</code> å’Œ <code>registry</code>ã€‚è¿™äº›ç‹¬ç«‹çš„æ–‡ä»¶å¤¹ä¸­åŒ…å«æœ‰å®‰è£…å¯¹åº”ç»„ä»¶çš„è„šæœ¬ã€‚ Sealos åœ¨æŒ‚è½½ä¸€ä¸ªé•œåƒåï¼Œä¼šé¦–å…ˆæ‰§è¡Œ <code>init.sh</code> è„šæœ¬ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹æ˜¯ k8s é•œåƒçš„è„šæœ¬ä¸­ï¼Œåˆ†åˆ«æŒ‰é¡ºåºæ‰§è¡Œäº† <code>init-containerd.sh</code> å®‰è£… containerdï¼Œ<code>init-shim.sh</code> å®‰è£… image-cri-shim å’Œ <code>init-kube.sh</code> å®‰è£… kubeletã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">source</span> common.sh
<span class="token assign-left variable">REGISTRY_DOMAIN</span><span class="token operator">=</span><span class="token variable">${1<span class="token operator">:-</span>sealos.hub}</span>
<span class="token assign-left variable">REGISTRY_PORT</span><span class="token operator">=</span><span class="token variable">${2<span class="token operator">:-</span>5000}</span>

<span class="token comment"># Install containerd</span>
<span class="token function">chmod</span> a+x init-containerd.sh
<span class="token function">bash</span> init-containerd.sh <span class="token variable">${REGISTRY_DOMAIN}</span> <span class="token variable">${REGISTRY_PORT}</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
   error <span class="token string">&quot;====init containerd failed!====&quot;</span>
<span class="token keyword">fi</span>

<span class="token function">chmod</span> a+x init-shim.sh
<span class="token function">bash</span> init-shim.sh

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token operator">!=</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
   error <span class="token string">&quot;====init image-cri-shim failed!====&quot;</span>
<span class="token keyword">fi</span>

<span class="token function">chmod</span> a+x init-kube.sh
<span class="token function">bash</span> init-kube.sh

logger <span class="token string">&quot;init containerd rootfs success&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ MountRootfs è¿™æ­¥ä¸­ï¼Œåªä¼šæ‰§è¡Œ <code>rootfs</code> å’Œ <code>addons</code> ç±»å‹çš„ <code>init.sh</code> è„šæœ¬ã€‚è¿™ä¹Ÿå¾ˆå¥½ç†è§£ï¼Œå› ä¸ºåˆ°ç›®å‰ä¸ºæ­¢ï¼ŒSealos ä»…ä»…åœ¨æ¯å°æœºå™¨ä¸Šå®‰è£…æˆåŠŸäº† kubeletï¼Œæ•´ä¸ª k8s é›†ç¾¤è¿˜æœªå¯ç”¨ã€‚</p><ol><li>Initï¼šåˆå§‹åŒ– k8s é›†ç¾¤ã€‚åœ¨è¿™æ­¥ä¸­ï¼Œå…¶å®ä¹Ÿæ˜¯æ‰§è¡Œäº†ä¸€ç³»åˆ—çš„å­æ“ä½œã€‚</li><li>Sealos ä¼šä» <code>ClusterFile</code> ä¸­åŠ è½½ <code>kubeadm</code> çš„é…ç½®ï¼Œç„¶åæ‹·è´åˆ° master0 ä¸Šã€‚</li><li>æ ¹æ® master0 çš„ hostname ç”Ÿæˆè¯ä¹¦ä»¥åŠ k8s é…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚ <code>admin.conf</code>ï¼Œ<code>controller-manager.conf</code>ï¼Œ<code>scheduler.conf</code>ï¼Œ<code>kubelet.conf</code>ã€‚</li><li>Sealos å°†è¿™äº›é…ç½®ä»¥åŠ rootfs ä¸­çš„é™æ€æ–‡ä»¶ï¼ˆä¸»è¦æ˜¯ä¸€äº› policy çš„é…ç½®ï¼‰æ‹·è´åˆ° master0 ä¸Šã€‚</li><li>Sealos é€šè¿‡ link çš„æ–¹å¼å°† rootfs ä¸­çš„ registry é“¾æ¥åˆ°å®¿ä¸»æœºçš„ç›®å½•ä¸Šï¼Œç„¶åæ‰§è¡Œè„šæœ¬ <code>init-registry.sh</code>ï¼Œå¯åŠ¨ registry å®ˆæŠ¤è¿›ç¨‹ã€‚</li><li>æœ€åä¹Ÿæ˜¯æœ€é‡è¦çš„ï¼Œåˆå§‹åŒ– master0ã€‚é¦–å…ˆï¼Œå°† registry çš„åŸŸåï¼Œapi server çš„åŸŸåï¼ˆIP ä¸º master0 çš„ IPï¼‰æ·»åŠ åˆ° master0 å®¿ä¸»æœºä¸Šã€‚ç„¶åï¼Œè°ƒç”¨ <code>kubeadm init</code> åˆ›å»º k8s é›†ç¾¤ã€‚æœ€åï¼Œå°†ç”Ÿæˆçš„ç®¡ç†å‘˜ kubeconfig æ‹·è´åˆ° <code>.kube/config</code>ã€‚</li><li>Joinï¼šä½¿ç”¨ kubeadm å°†å…¶ä½™ master å’Œ node åŠ å…¥ç°æœ‰çš„é›†ç¾¤ï¼Œç„¶åæ›´æ–° <code>ClusterFile</code>ã€‚æ­¤æ—¶ï¼Œæ•´ä¸ª k8s é›†ç¾¤å°±å·²ç»æ­å»ºå®Œæ¯•äº†ã€‚</li><li>RunGuest: è¿è¡Œæ‰€æœ‰ç±»å‹ä¸º <code>app</code> çš„é•œåƒçš„ CMDï¼Œå®‰è£…æ‰€æœ‰åº”ç”¨ã€‚</li></ol><p>è‡³æ­¤ä¸€ä¸ª k8s é›†ç¾¤ä»¥åŠåŸºäºè¿™ä¸ªé›†ç¾¤çš„æ‰€æœ‰åº”ç”¨éƒ½è¢«å®‰è£…å®Œæ¯•ã€‚</p><h2 id="controller" tabindex="-1"><a class="header-anchor" href="#controller" aria-hidden="true">#</a> controller</h2><ul><li><a href="https://github.com/labring/sealos/tree/main/controllers" target="_blank" rel="noopener noreferrer">https://github.com/labring/sealos/tree/main/controllers<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li></ul><p>å¦‚æœè¯´ sealos æœ€æ ¸å¿ƒçš„éƒ¨åˆ†æ˜¯ä»€ä¹ˆï¼Œæˆ‘è§‰å¾—æ˜¯ controller çš„å®ç°ï¼Œ<a href="https://github.com/labring/sealos/tree/main/controllers" target="_blank" rel="noopener noreferrer">controllers<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> æ§åˆ¶å™¨ç”¨æ¥ç®¡ç†é›†ç¾¤ï¼ˆk8s æœ‰ä¸€äº›å†…ç½®çš„åŠŸèƒ½ <code>pod</code>ï¼Œdeloymentè¿™äº›ï¼ŒåŒæ ·å¯ä»¥controllersæ‰©å±•ï¼‰ï¼š</p><p>controllers ä½¿ç”¨ Goè¯­è¨€ 1.8 + çš„æ–°ç‰¹æ€§ï¼šå·¥ä½œåŒº</p><blockquote><p>è¿™äº›åŠŸèƒ½éƒ½æ˜¯ <code>k8s</code> æ²¡æœ‰çš„åŠŸèƒ½~</p></blockquote><ol><li><p>æˆ‘ä»¬è·‘äº†å¾ˆå¤šæœåŠ¡å™¨éƒ½æ˜¯é€šè¿‡<code>infra</code>ç®¡ç†ä»–ä»¬</p></li><li><p><code>metering</code>æ˜¯ç”¨ä½œè®¡é‡ï¼Œæˆ‘ä»¬ç”¨è¿‡å¤šå°‘èµ„æº</p></li><li><p><code>terminal</code>å°±æ˜¯æ¡Œé¢ä¸Šçš„ç»ˆç«¯åº”ç”¨</p></li><li><p><code>user</code>å°±æ˜¯ç”¨æˆ·çš„ç®¡ç†ï¼Œå› ä¸º<code>cloud.sealos</code>æ˜¯ä¸€ä¸ªå¤šç§Ÿæˆ·çš„é›†ç¾¤</p></li><li><p><code>app</code>: è´Ÿè´£ç®¡ç†ç”¨æˆ·åˆ›å»ºçš„æ‰€æœ‰åº”ç”¨ï¼ŒåŒ…æ‹¬åˆ›å»ºã€åˆ é™¤ã€æ›´æ–°ã€æŸ¥çœ‹åº”ç”¨çš„çŠ¶æ€ä»¥åŠéƒ¨ç½²åº”ç”¨ã€‚</p></li><li><p><code>cluster</code>: è´Ÿè´£ç®¡ç† Kubernetes é›†ç¾¤ï¼ŒåŒ…æ‹¬åˆ›å»ºã€åˆ é™¤ã€æ›´æ–°ã€æŸ¥çœ‹é›†ç¾¤çš„çŠ¶æ€ä»¥åŠéƒ¨ç½²é›†ç¾¤ã€‚</p></li><li><p><code>imagehub</code>: è´Ÿè´£ç®¡ç†é•œåƒä»“åº“ï¼ŒåŒ…æ‹¬åˆ›å»ºã€åˆ é™¤ã€æ›´æ–°ã€æŸ¥çœ‹é•œåƒä»“åº“çš„çŠ¶æ€ä»¥åŠéƒ¨ç½²é•œåƒä»“åº“ã€‚</p></li></ol><p>æˆ‘è®¤ä¸ºè¿™é‡Œæ˜¯ sealos çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚</p><h2 id="end-é“¾æ¥" tabindex="-1"><a class="header-anchor" href="#end-é“¾æ¥" aria-hidden="true">#</a> END é“¾æ¥</h2><ul><li><div><a href="39.md" style="float:left;">â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”— </a><a href="41.md" style="float:right;"> ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div></li></ul><ul><li><p><a href="/" class="">â“‚ï¸å›åˆ°ç›®å½•ğŸ </a></p></li><li><p><a href="https://nsddd.top/archives/contributors" target="_blank" rel="noopener noreferrer"><strong>ğŸ«µå‚ä¸è´¡çŒ®ğŸ’â¤ï¸â€ğŸ”¥ğŸ’–</strong><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>)</p></li><li><p>âœ´ï¸ç‰ˆæƒå£°æ˜ Â© ï¼šæœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª<a href="http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="noopener noreferrer">CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰Â©<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li></ul></div><!--[--><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/3293172751/awesome-docker/edit/master/docs/Cloud-Native/40.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨GitHubä¸Šè´¡çŒ®æ­¤é¡µé¢"><!--[--><!--]--> åœ¨GitHubä¸Šè´¡çŒ®æ­¤é¡µé¢ <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">ä¸Šæ¬¡æ›´æ–°: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">è´¡çŒ®è€…: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 3293172751nss@gmail.com">Xinwei Xiong</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 3293172751nss@gmail.com">xiongxinwei</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><span class="prev"><a href="/Cloud-Native/39.html" class="" aria-label="ç¬¬39èŠ‚ Update containers vendor æ›´æ–°å®¹å™¨ä¾›åº”å•†"><!--[--><!--]--> ç¬¬39èŠ‚ Update containers vendor æ›´æ–°å®¹å™¨ä¾›åº”å•† <!--[--><!--]--></a></span><span class="next"><a href="/Cloud-Native/41.html" class="" aria-label="ç¬¬41èŠ‚ é€Ÿè¯» horizon æºç ï¼Œæ ¸å¿ƒè®¾è®¡æ€æƒ³"><!--[--><!--]--> ç¬¬41èŠ‚ é€Ÿè¯» horizon æºç ï¼Œæ ¸å¿ƒè®¾è®¡æ€æƒ³ <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app.e902a46c.js" defer></script>
  </body>
</html>
