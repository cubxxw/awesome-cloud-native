+ [author](http://nsddd.top)

# ç¬¬81èŠ‚ OpenIM çš„ GitOps çš„è®¾è®¡

<div><a href = '80.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—  </a><a href = '82.md' style='float: right'>  â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div>
<br>

> â¤ï¸ğŸ’•ğŸ’•æ–°æ—¶ä»£æ‹¥æŠ±äº‘åŸç”Ÿï¼Œäº‘åŸç”Ÿå…·æœ‰ç¯å¢ƒç»Ÿä¸€ã€æŒ‰éœ€ä»˜è´¹ã€å³å¼€å³ç”¨ã€ç¨³å®šæ€§å¼ºç‰¹ç‚¹ã€‚Myblog:[http://nsddd.top](http://nsddd.top/)

---
[TOC]

## éœ€æ±‚

æœ€è¿‘OpenIM çº¿ä¸Šå‡ºç°ä¸€äº›æ•…éšœï¼Œåœ¨ https://web-enterprise.rentsoft.cn/ ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªåŒå­¦å› ä¸ºä½¿ç”¨ä¿®å¤ `make lint` çš„é”™è¯¯ï¼Œæ‰€ä»¥å°±æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ PR, ä½†æ˜¯è¿™ä¸ª PR é’ˆå¯¹ä¸€äº›é”™è¯¯çš„å¤„ç†æ²¡æœ‰åŒ…è£¹ï¼Œæ‰€ä»¥å°±å‡ºç°é—®é¢˜äº†ï¼Œç»“æœå¯¼è‡´æˆ‘ä»¬çš„ IM å¾ˆé•¿æ—¶é—´æ²¡åŠæ³•ç”¨ã€‚

æ€è€ƒè¿™ä¸€ç°è±¡åˆ°åº•æ˜¯ä»€ä¹ˆé—®é¢˜å¯¼è‡´çš„ï¼Œå¾ˆæ˜æ˜¾ï¼Œæˆ‘ä»¬ç¡®å®æ˜¯å¯ä»¥å›æ»šçš„ï¼Œä½†æ˜¯æ›´å¤šçš„æ˜¯å›æ»šåï¼Œæˆ‘ä»¬ä¹Ÿä¼šæœ‰å¾ˆå¤šçš„é—®é¢˜ï¼Œä»£ç æ€»å½’æ˜¯è¦ç»§ç»­æäº¤çš„ï¼Œæ— éå°±æ˜¯å»¶è¿Ÿäº†è¿›åº¦ã€‚è¿˜æœ‰æˆ‘ä»¬å¯¹å¤–éƒ¨çš„æµ‹è¯•ç¯å¢ƒå’Œä½“éªŒç¯èŠ‚ä¸­ï¼Œå¯èƒ½ä¼šå¸¦æ¥ä¸€äº›ä¸å¥½çš„ä½“éªŒï¼Œè¿™æ€»å½’ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚

æ—¢ç„¶æˆ‘ä»¬è‡ªå·±åœ¨åšéƒ¨ç½²æ–¹æ¡ˆï¼Œé›†ç¾¤åŒ–æ–¹æ¡ˆï¼Œæˆ‘ä»¬åº”è¯¥æ˜¯æŠŠè¿™å¥—æ–¹æ¡ˆå®Œç¾çš„åº”ç”¨åˆ°è‡ªå·±çš„èº«ä¸Šï¼Œè¿™æ ·æ‰èƒ½æ›´å¤šçš„åœ¨ç”Ÿäº§ä¸­å‘ç°é—®é¢˜å¹¶ä¸”è§£å†³é—®é¢˜ï¼Œè¿™æ‰æ˜¯æˆ‘ä»¬æƒ³è¦å»åšçš„ã€‚



> **Note**
>
> If the OpenIM cluster is deployed in the `openim` namespace, use the `-n` argument to specify the namespace. If the namespace does not exist, you can use `--create-namespace` to create a new namespace. Please do not modify the following chart names: `im-mysql`, `im-kafka`, `im-minio`, `im-mongodb`, `im-redis`, otherwise, you will need to synchronize the `serviceName` information to `config-imserver.yaml` and `config-chatserver.yaml`. Please do not modify the account information in these five configuration files, otherwise, you will need to synchronize the middleware account information to `config-imserver.yaml` and `config-chatserver.yaml`.
>
> These configuration files include account information, for example, `minio-config.yaml` also includes domain information.

## Install OpenIM Server Service

```bash
helm install openimserver -f k8s-open-im-server-config.yaml -f config-imserver.yaml -f notification.yaml  ./openim/openim-server/ -n openim
```

Ensure that the domain information is configured in `open-im-server-config.yaml`. Account information defaults to sync with the middleware (`infra/`) `-config.yaml` files. If `config.yaml` was modified when installing the middleware, please sync modify `open-im-server-config.yaml`.

## Install OpenIM Chat Service

```bash
helm install openim-chat -f k8s-chat-server-config.yaml ./openim/openim-chat/ -n openim
```

Ensure that the domain information is configured in `k8s-chat-server-config.yaml`. Account information defaults to sync with the middleware `-config.yaml` files. If `config.yaml` was modified when installing the middleware, please sync modify `k8s-chat-server-config.yaml`.

## Install Web Frontend

```bash
helm install imwebfront -f k8s-webfront-config.yaml ./webfront/
```

**Note**: Please configure the domain information in `k8s-webfront-config.yaml`, and modify it to your actual domain and TLS name.

## Install Admin Frontend

```bash
helm install imadminfront -f k8s-adminfront-config.yaml ./adminfront/
```

**Note**: Please configure the domain information in `k8s-adminfront-config.yaml`, and modify it to your actual domain and TLS name.



## END é“¾æ¥
<ul><li><div><a href = '80.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—  </a><a href = '82.md' style='float: right'>  ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div></li></ul>

+ [â“‚ï¸å›åˆ°ç›®å½•ğŸ ](../README.md)

+ [**ğŸ«µå‚ä¸è´¡çŒ®ğŸ’â¤ï¸â€ğŸ”¥ğŸ’–**](https://nsddd.top/archives/contributors))

+ âœ´ï¸ç‰ˆæƒå£°æ˜ &copy; ï¼šæœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª[CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰&copy;](http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0åè®®æ–‡æœ¬) 

