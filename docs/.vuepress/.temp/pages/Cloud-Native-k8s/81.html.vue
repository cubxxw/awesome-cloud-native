<template><div><ul>
<li><a href="http://nsddd.top" target="_blank" rel="noopener noreferrer">author<ExternalLinkIcon/></a></li>
</ul>
<h1 id="ç¬¬81èŠ‚-openim-çš„-gitops-çš„è®¾è®¡" tabindex="-1"><a class="header-anchor" href="#ç¬¬81èŠ‚-openim-çš„-gitops-çš„è®¾è®¡" aria-hidden="true">#</a> ç¬¬81èŠ‚ OpenIM çš„ GitOps çš„è®¾è®¡</h1>
<div><a href = '80.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—  </a><a href = '82.md' style='float: right'>  â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div>
<br>
<blockquote>
<p>â¤ï¸ğŸ’•ğŸ’•æ–°æ—¶ä»£æ‹¥æŠ±äº‘åŸç”Ÿï¼Œäº‘åŸç”Ÿå…·æœ‰ç¯å¢ƒç»Ÿä¸€ã€æŒ‰éœ€ä»˜è´¹ã€å³å¼€å³ç”¨ã€ç¨³å®šæ€§å¼ºç‰¹ç‚¹ã€‚Myblog:<a href="http://nsddd.top/" target="_blank" rel="noopener noreferrer">http://nsddd.top<ExternalLinkIcon/></a></p>
</blockquote>
<hr>
<p>[TOC]</p>
<h2 id="éœ€æ±‚" tabindex="-1"><a class="header-anchor" href="#éœ€æ±‚" aria-hidden="true">#</a> éœ€æ±‚</h2>
<p>æœ€è¿‘OpenIM çº¿ä¸Šå‡ºç°ä¸€äº›æ•…éšœï¼Œåœ¨ https://web-enterprise.rentsoft.cn/ ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªåŒå­¦å› ä¸ºä½¿ç”¨ä¿®å¤ <code v-pre>make lint</code> çš„é”™è¯¯ï¼Œæ‰€ä»¥å°±æœ‰ä¸€ä¸ªå¾ˆå¤§çš„ PR, ä½†æ˜¯è¿™ä¸ª PR é’ˆå¯¹ä¸€äº›é”™è¯¯çš„å¤„ç†æ²¡æœ‰åŒ…è£¹ï¼Œæ‰€ä»¥å°±å‡ºç°é—®é¢˜äº†ï¼Œç»“æœå¯¼è‡´æˆ‘ä»¬çš„ IM å¾ˆé•¿æ—¶é—´æ²¡åŠæ³•ç”¨ã€‚</p>
<p>æ€è€ƒè¿™ä¸€ç°è±¡åˆ°åº•æ˜¯ä»€ä¹ˆé—®é¢˜å¯¼è‡´çš„ï¼Œå¾ˆæ˜æ˜¾ï¼Œæˆ‘ä»¬ç¡®å®æ˜¯å¯ä»¥å›æ»šçš„ï¼Œä½†æ˜¯æ›´å¤šçš„æ˜¯å›æ»šåï¼Œæˆ‘ä»¬ä¹Ÿä¼šæœ‰å¾ˆå¤šçš„é—®é¢˜ï¼Œä»£ç æ€»å½’æ˜¯è¦ç»§ç»­æäº¤çš„ï¼Œæ— éå°±æ˜¯å»¶è¿Ÿäº†è¿›åº¦ã€‚è¿˜æœ‰æˆ‘ä»¬å¯¹å¤–éƒ¨çš„æµ‹è¯•ç¯å¢ƒå’Œä½“éªŒç¯èŠ‚ä¸­ï¼Œå¯èƒ½ä¼šå¸¦æ¥ä¸€äº›ä¸å¥½çš„ä½“éªŒï¼Œè¿™æ€»å½’ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚</p>
<p>æ—¢ç„¶æˆ‘ä»¬è‡ªå·±åœ¨åšéƒ¨ç½²æ–¹æ¡ˆï¼Œé›†ç¾¤åŒ–æ–¹æ¡ˆï¼Œæˆ‘ä»¬åº”è¯¥æ˜¯æŠŠè¿™å¥—æ–¹æ¡ˆå®Œç¾çš„åº”ç”¨åˆ°è‡ªå·±çš„èº«ä¸Šï¼Œè¿™æ ·æ‰èƒ½æ›´å¤šçš„åœ¨ç”Ÿäº§ä¸­å‘ç°é—®é¢˜å¹¶ä¸”è§£å†³é—®é¢˜ï¼Œè¿™æ‰æ˜¯æˆ‘ä»¬æƒ³è¦å»åšçš„ã€‚</p>
<blockquote>
<p><strong>Note</strong></p>
<p>If the OpenIM cluster is deployed in the <code v-pre>openim</code> namespace, use the <code v-pre>-n</code> argument to specify the namespace. If the namespace does not exist, you can use <code v-pre>--create-namespace</code> to create a new namespace. Please do not modify the following chart names: <code v-pre>im-mysql</code>, <code v-pre>im-kafka</code>, <code v-pre>im-minio</code>, <code v-pre>im-mongodb</code>, <code v-pre>im-redis</code>, otherwise, you will need to synchronize the <code v-pre>serviceName</code> information to <code v-pre>config-imserver.yaml</code> and <code v-pre>config-chatserver.yaml</code>. Please do not modify the account information in these five configuration files, otherwise, you will need to synchronize the middleware account information to <code v-pre>config-imserver.yaml</code> and <code v-pre>config-chatserver.yaml</code>.</p>
<p>These configuration files include account information, for example, <code v-pre>minio-config.yaml</code> also includes domain information.</p>
</blockquote>
<h2 id="install-openim-server-service" tabindex="-1"><a class="header-anchor" href="#install-openim-server-service" aria-hidden="true">#</a> Install OpenIM Server Service</h2>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>helm <span class="token function">install</span> openimserver <span class="token parameter variable">-f</span> k8s-open-im-server-config.yaml <span class="token parameter variable">-f</span> config-imserver.yaml <span class="token parameter variable">-f</span> notification.yaml  ./openim/openim-server/ <span class="token parameter variable">-n</span> openim
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Ensure that the domain information is configured in <code v-pre>open-im-server-config.yaml</code>. Account information defaults to sync with the middleware (<code v-pre>infra/</code>) <code v-pre>-config.yaml</code> files. If <code v-pre>config.yaml</code> was modified when installing the middleware, please sync modify <code v-pre>open-im-server-config.yaml</code>.</p>
<h2 id="install-openim-chat-service" tabindex="-1"><a class="header-anchor" href="#install-openim-chat-service" aria-hidden="true">#</a> Install OpenIM Chat Service</h2>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>helm <span class="token function">install</span> openim-chat <span class="token parameter variable">-f</span> k8s-chat-server-config.yaml ./openim/openim-chat/ <span class="token parameter variable">-n</span> openim
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Ensure that the domain information is configured in <code v-pre>k8s-chat-server-config.yaml</code>. Account information defaults to sync with the middleware <code v-pre>-config.yaml</code> files. If <code v-pre>config.yaml</code> was modified when installing the middleware, please sync modify <code v-pre>k8s-chat-server-config.yaml</code>.</p>
<h2 id="install-web-frontend" tabindex="-1"><a class="header-anchor" href="#install-web-frontend" aria-hidden="true">#</a> Install Web Frontend</h2>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>helm <span class="token function">install</span> imwebfront <span class="token parameter variable">-f</span> k8s-webfront-config.yaml ./webfront/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>Note</strong>: Please configure the domain information in <code v-pre>k8s-webfront-config.yaml</code>, and modify it to your actual domain and TLS name.</p>
<h2 id="install-admin-frontend" tabindex="-1"><a class="header-anchor" href="#install-admin-frontend" aria-hidden="true">#</a> Install Admin Frontend</h2>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>helm <span class="token function">install</span> imadminfront <span class="token parameter variable">-f</span> k8s-adminfront-config.yaml ./adminfront/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>Note</strong>: Please configure the domain information in <code v-pre>k8s-adminfront-config.yaml</code>, and modify it to your actual domain and TLS name.</p>
<h2 id="end-é“¾æ¥" tabindex="-1"><a class="header-anchor" href="#end-é“¾æ¥" aria-hidden="true">#</a> END é“¾æ¥</h2>
<ul><li><div><a href = '80.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—  </a><a href = '82.md' style='float: right'>  ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div></li></ul>
<ul>
<li>
<p><RouterLink to="/">â“‚ï¸å›åˆ°ç›®å½•ğŸ </RouterLink></p>
</li>
<li>
<p><a href="https://nsddd.top/archives/contributors" target="_blank" rel="noopener noreferrer"><strong>ğŸ«µå‚ä¸è´¡çŒ®ğŸ’â¤ï¸â€ğŸ”¥ğŸ’–</strong><ExternalLinkIcon/></a>)</p>
</li>
<li>
<p>âœ´ï¸ç‰ˆæƒå£°æ˜ Â© ï¼šæœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª<a href="http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="noopener noreferrer">CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰Â©<ExternalLinkIcon/></a></p>
</li>
</ul>
</div></template>


