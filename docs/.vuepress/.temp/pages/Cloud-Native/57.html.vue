<template><div><ul>
<li><a href="http://nsddd.top" target="_blank" rel="noopener noreferrer">author<ExternalLinkIcon/></a></li>
</ul>
<h1 id="ç¬¬57èŠ‚-ææ¡ˆ-sealer-æ„å»ºå·¥ç¨‹è®¾è®¡" tabindex="-1"><a class="header-anchor" href="#ç¬¬57èŠ‚-ææ¡ˆ-sealer-æ„å»ºå·¥ç¨‹è®¾è®¡" aria-hidden="true">#</a> ç¬¬57èŠ‚ ææ¡ˆ sealer æ„å»ºå·¥ç¨‹è®¾è®¡</h1>
<div><a href = '56.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—  </a><a href = '58.md' style='float: right'>  â¬‡ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div>
<br>
<blockquote>
<p>â¤ï¸ğŸ’•ğŸ’•è®°å½•<a href="https://github.com/cubxxw/sealos" target="_blank" rel="noopener noreferrer">sealos<ExternalLinkIcon/></a>å¼€æºé¡¹ç›®çš„å­¦ä¹ è¿‡ç¨‹ã€‚<a href="https://github.com/cubxxw/sealos" target="_blank" rel="noopener noreferrer">k8s,dockerå’Œäº‘åŸç”Ÿçš„å­¦ä¹ <ExternalLinkIcon/></a>ã€‚Myblog:<a href="http://nsddd.top/" target="_blank" rel="noopener noreferrer">http://nsddd.top<ExternalLinkIcon/></a></p>
</blockquote>
<hr>
<p>[TOC]</p>
<h1 id="ä¸­æ–‡-sealer-æ„å»ºå·¥ç¨‹è®¾è®¡" tabindex="-1"><a class="header-anchor" href="#ä¸­æ–‡-sealer-æ„å»ºå·¥ç¨‹è®¾è®¡" aria-hidden="true">#</a> [ä¸­æ–‡] sealer æ„å»ºå·¥ç¨‹è®¾è®¡</h1>
<h2 id="èµ·å› " tabindex="-1"><a class="header-anchor" href="#èµ·å› " aria-hidden="true">#</a> èµ·å› </h2>
<p>sealer çš„ Makefile è®¾è®¡è¿‡äºå•ä¸€å’Œç®€é™‹ï¼Œæ„å»ºè„šæœ¬(<a href="http://build.sh" target="_blank" rel="noopener noreferrer">build.sh<ExternalLinkIcon/></a>) è¿‡äºé™ˆæ—§å’Œåšé‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸€äº›è®¾è®¡æ–¹æ¡ˆæ¥å¯¹ Makefile å’Œ <a href="http://build.sh" target="_blank" rel="noopener noreferrer">build.sh<ExternalLinkIcon/></a> è¿›è¡Œè®¾è®¡ä»¥åŠæ”¹è¿›ï¼Œè®©å®ƒä»¬çœ‹ä¸Šå»å¾ˆå‹å¥½ã€‚</p>
<p>Makefile çš„é‡æ„è®¾è®¡åˆ°å¾ˆå¤šçš„æ”¹å˜ï¼ŒåŒ…æ‹¬ä¸€äº›æ¨¡å—çš„å¾®è°ƒå’Œ CICD actions çš„å˜åŒ–ï¼Œè¿™äº›éƒ½ä¼šæ¶‰åŠåˆ°ï¼Œä¹Ÿä¼šæ…¢æ…¢è®¾è®¡ï¼Œä¸ºæ­¤ï¼Œä¹‹å‰æˆ‘æè¿‡ä¸€ä¸ª RFCï¼Œç§»æ­¥åˆ° â†’ https://github.com/sealerio/sealer/issues/2148</p>
<p><strong>Notion æ–‡æ¡£ï¼š</strong></p>
<ul>
<li><a href="https://nsddd.notion.site/sealer-construction-engineering-design-e98b303493d5492e98aff79afadc1cce" target="_blank" rel="noopener noreferrer">https://nsddd.notion.site/sealer-construction-engineering-design-e98b303493d5492e98aff79afadc1cce<ExternalLinkIcon/></a></li>
</ul>
<h2 id="æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#æ¡ˆä¾‹" aria-hidden="true">#</a> æ¡ˆä¾‹</h2>
<aside> â“ æ˜¯å¦æœ‰ç›¸åŒçš„æ¡ˆä¾‹ï¼Œæˆ–è€…ç»éªŒï¼Ÿ</aside>
<p>è¿™æ˜¯æœ‰çš„ï¼Œåœ¨ç½‘æ˜“çš„ <a href="https://github.com/horizoncd" target="_blank" rel="noopener noreferrer">horizoncd<ExternalLinkIcon/></a> ç¤¾åŒºä¸­ï¼Œæˆ‘æˆåŠŸè®¾è®¡äº†ä¸€å¥—å®Œæ•´çš„ Makefile æµç¨‹å¹¶ä¸”å¯ä»¥ä½¿ç”¨ã€‚å¹¶ä¸”å¸®åŠ©ä»–ä»¬æ”¹è¿›äº†<a href="https://github.com/horizoncd/horizon/blob/main/CONTRIBUTING.md" target="_blank" rel="noopener noreferrer">è´¡çŒ®è€…æ–‡æ¡£<ExternalLinkIcon/></a>ã€‚åœ¨å®ƒä»¬çš„é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬èƒ½æ‰¾åˆ°ä¸€å¥—å·²ç»å®ç°çš„æ–¹æ¡ˆï¼Œå¹¶ä¸”æå‡ºäº†è®¾è®¡æ–‡ç¨¿ï¼šhttps://github.com/horizoncd/horizon/issues/100ï¼š</p>
<p><a href="https://github.com/horizoncd/horizon" target="_blank" rel="noopener noreferrer">GitHub - horizoncd/horizon: Production-Grade GitOps CD PlatForm For CloudNative Applications, MiddleWares, etc.<ExternalLinkIcon/></a></p>
<p>ğŸ¯ ç›¸æ¯”è¾ƒ horizonï¼Œsealer çš„è®¾è®¡æœ‰å“ªäº›å±é™©ä¿¡å·ï¼š</p>
<ul>
<li>sealer æ”¯æŒå¤šäºŒè¿›åˆ¶ç¼–è¯‘ï¼Œéœ€è¦å¾ˆå¥½çš„æ‰©å±•æ€§ï¼Œå¹¶ä¸”æ­£ç¡®çš„é€šè¿‡ <strong>å¹¶è¡Œç¼–è¯‘</strong> æé«˜ç¼–è¯‘é€Ÿåº¦ã€‚</li>
<li>sealer æœ‰äº› <code v-pre>cgo\c</code> ä»£ç æ¶‰åŠåˆ° <code v-pre>containers_image_openpgp exclude_graphdriver_devicemapper exclude_graphdriver_btrfs</code> è¿›è¡Œç¼–è¯‘ã€‚</li>
</ul>
<p><a href="https://github.com/mtrmac/image/blob/ed2844ccc615a447b98344d1bbefca61b3cb7749/README.md" target="_blank" rel="noopener noreferrer">image/README.md at ed2844ccc615a447b98344d1bbefca61b3cb7749 Â· mtrmac/image<ExternalLinkIcon/></a></p>
<p>è¿™æ ·æé«˜äº†ç¼–è¯‘å’Œæµ‹è¯•çš„éš¾åº¦ï¼Œç»è¿‡è°ƒç ”ï¼Œæˆ‘é€‰æ‹©çš„æµ‹è¯•æ–¹æ¡ˆæ˜¯ <code v-pre>junit-report</code> ï¼Œåœ¨æœ¬åœ°ä½¿ç”¨ <code v-pre>tmp</code> ä¸´æ—¶ç›®å½•ä½œä¸ºç¼“å­˜ï¼Œæé«˜è¦†ç›–ç‡æµ‹è¯•é€Ÿåº¦ã€‚</p>
<h2 id="æ¨¡å—æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#æ¨¡å—æ–¹æ¡ˆ" aria-hidden="true">#</a> æ¨¡å—æ–¹æ¡ˆ</h2>
<p>è¿ç§»ç›®å½• <a href="https://github.com/sealerio/sealer/pull/2161/files#diff-73b8ec8a05213857da6e9598e34c5d7a18a6e5349250908ae6710578236977f2" target="_blank" rel="noopener noreferrer">version/version.go â†’ pkg/version/version.go<ExternalLinkIcon/></a></p>
<p>å°† <code v-pre>hack/</code> æ”¹åä¸º <code v-pre>scripts/</code></p>
<p>è¿™äº›æ–‡ä»¶çš„ä½œç”¨å¦‚ä¸‹ï¼š</p>
<ul>
<li>LICENSE_TEMPLATEï¼šåŒ…å«è®¸å¯è¯çš„æ–‡æœ¬æ¨¡æ¿ã€‚</li>
<li>boilerplate.go.txtï¼šç”Ÿæˆæ–° Go æ–‡ä»¶æ—¶ä½¿ç”¨çš„æ–‡æœ¬æ¨¡æ¿ï¼ˆä¸å†ä½¿ç”¨ï¼‰ã€‚</li>
<li><a href="http://build.sh/" target="_blank" rel="noopener noreferrer">build.sh<ExternalLinkIcon/></a>ï¼šæ–°çš„æ„å»ºè„šæœ¬</li>
<li><code v-pre>coverage.awk</code>ï¼šç”¨äºä» Go æµ‹è¯•æ–‡ä»¶ä¸­æå–è¦†ç›–ç‡æ•°æ®çš„ AWK è„šæœ¬ã€‚</li>
<li><code v-pre>make-rules/</code>ï¼šåŒ…å« Makefile è§„åˆ™çš„ç›®å½•ã€‚
<ul>
<li><a href="http://common.mk/" target="_blank" rel="noopener noreferrer">common.mk<ExternalLinkIcon/></a>ï¼šåŒ…å«é€šç”¨å˜é‡å’Œè§„åˆ™çš„ Makefileï¼Œæ‰€æœ‰ mk é€šç”¨ã€‚</li>
<li><a href="http://copyright.mk/" target="_blank" rel="noopener noreferrer">copyright.mk<ExternalLinkIcon/></a>ï¼šç”¨äºç”Ÿæˆä»£ç ä¸­çš„ç‰ˆæƒä¿¡æ¯çš„ Makefileã€‚</li>
<li><a href="http://dependencies.mk/" target="_blank" rel="noopener noreferrer">dependencies.mk<ExternalLinkIcon/></a>ï¼šåŒ…å«ä¾èµ–å…³ç³»å›¾å’Œç”Ÿæˆä¾èµ–å…³ç³»çš„ Makefile è§„åˆ™ã€‚</li>
<li><a href="http://gen.mk/" target="_blank" rel="noopener noreferrer">gen.mk<ExternalLinkIcon/></a>ï¼šç”¨äºç”Ÿæˆä»£ç çš„ Makefileã€‚</li>
<li><a href="http://golang.mk/" target="_blank" rel="noopener noreferrer">golang.mk<ExternalLinkIcon/></a>ï¼šåŒ…å«ä¸ Go ç¼–è¯‘å™¨å’Œå·¥å…·é“¾ç›¸å…³çš„ Makefile è§„åˆ™ã€‚</li>
<li><a href="http://image.mk/" target="_blank" rel="noopener noreferrer">image.mk<ExternalLinkIcon/></a>ï¼šåŒ…å«ä¸ Docker é•œåƒç”Ÿæˆç›¸å…³çš„ Makefile è§„åˆ™ã€‚</li>
<li><a href="http://tools.mk/" target="_blank" rel="noopener noreferrer">tools.mk<ExternalLinkIcon/></a>ï¼šåŒ…å«æ„å»ºä¸æµ‹è¯•å·¥å…·çš„ Makefile è§„åˆ™ã€‚</li>
</ul>
</li>
</ul>
<hr>
<aside> ğŸ”¥ åˆ†ä¸ºä¸‰ä¸ªæ¨¡å—ï¼Œåˆ†åˆ«æ˜¯æ–°æ‰©å±•çš„ Makefile æ¼”ç¤ºã€è„šæœ¬æ”¹è¿›çš„æ¼”ç¤ºï¼Œä»¥åŠ CICD æµçš„æ”¹è¿›ï¼š
</aside>
<h2 id="makefile" tabindex="-1"><a class="header-anchor" href="#makefile" aria-hidden="true">#</a> makefile</h2>
<p>æœ€å¸¸ç”¨çš„å¸®åŠ©ä¿¡æ¯ï¼Œæ”¾å…¥åˆ° <code v-pre>Makefile/</code></p>
<div class="language-go ext-go line-numbers-mode"><pre v-pre class="language-go"><code>â¯ <span class="token builtin">make</span> help

Usage<span class="token punctuation">:</span> <span class="token builtin">make</span> <span class="token operator">&lt;</span>TARGETS<span class="token operator">></span> <span class="token operator">&lt;</span>OPTIONS<span class="token operator">></span> <span class="token operator">...</span>

Targets<span class="token punctuation">:</span>

  build                        Build binaries by <span class="token keyword">default</span>
  tidy                         tidy <span class="token keyword">go</span><span class="token punctuation">.</span>mod
  vendor                       vendor <span class="token keyword">go</span><span class="token punctuation">.</span>mod
  fmt                          Run <span class="token keyword">go</span> fmt against code<span class="token punctuation">.</span>
  vet                          Run <span class="token keyword">go</span> vet against code<span class="token punctuation">.</span>
  lint                         Check syntax and styling of <span class="token keyword">go</span> sources<span class="token punctuation">.</span>
  style                        code style <span class="token operator">-</span><span class="token operator">></span> fmt<span class="token punctuation">,</span>vet<span class="token punctuation">,</span>lint
  linux                        Build the all with a build script
  linux<span class="token punctuation">.</span><span class="token operator">%</span>                      Build binaries <span class="token keyword">for</span> Linux <span class="token punctuation">(</span><span class="token builtin">make</span> linux<span class="token punctuation">.</span>amd64 OR <span class="token builtin">make</span> linux<span class="token punctuation">.</span>arm64<span class="token punctuation">)</span>
  format                       Gofmt <span class="token punctuation">(</span>reformat<span class="token punctuation">)</span> <span class="token keyword">package</span> sources <span class="token punctuation">(</span>exclude vendor dir <span class="token keyword">if</span> existed<span class="token punctuation">)</span><span class="token punctuation">.</span>
  test                         Run unit test<span class="token punctuation">.</span>
  cover                        Run unit test and get test coverage<span class="token punctuation">.</span>
  updates                      Check <span class="token keyword">for</span> updates to <span class="token keyword">go</span><span class="token punctuation">.</span>mod dependencies
  imports                      task to automatically handle <span class="token keyword">import</span> packages in Go files using goimports tool
  clean                        Remove all files that are created by building<span class="token punctuation">.</span>
  tools                        Install dependent tools<span class="token punctuation">.</span>
  build<span class="token operator">-</span>in<span class="token operator">-</span>docker              sealer should be compiled in linux platform<span class="token punctuation">,</span> otherwise there will be GraphDriver problem<span class="token punctuation">.</span>
  gen                          Generate all necessary files<span class="token punctuation">.</span>
  verify<span class="token operator">-</span>copyright             Verify the license headers <span class="token keyword">for</span> all files<span class="token punctuation">.</span>
  add<span class="token operator">-</span>copyright                Add copyright ensure source code files have license headers<span class="token punctuation">.</span>
  help                         Show this help info<span class="token punctuation">.</span>
  all<span class="token operator">-</span>help                     Show all help details info<span class="token punctuation">.</span>

Options<span class="token punctuation">:</span>

  DEBUG            Whether or not to generate debug symbols<span class="token punctuation">.</span> Default is <span class="token number">0.</span>

  BINS             Binaries to build<span class="token punctuation">.</span> Default is all binaries under cmd<span class="token punctuation">.</span>
                   This option is available when using<span class="token punctuation">:</span> <span class="token builtin">make</span> <span class="token punctuation">{</span>build<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">.</span>multiarch<span class="token punctuation">)</span>
                   Example<span class="token punctuation">:</span> <span class="token builtin">make</span> build BINS<span class="token operator">=</span><span class="token string">"sealer sealctl"</span>

  PLATFORMS        Platform to build <span class="token keyword">for</span><span class="token punctuation">.</span> Default is linux_arm64 and linux_amd64<span class="token punctuation">.</span>
                   This option is available when using<span class="token punctuation">:</span> <span class="token builtin">make</span> <span class="token punctuation">{</span>build<span class="token punctuation">}</span><span class="token punctuation">.</span>multiarch
                   Example<span class="token punctuation">:</span> <span class="token builtin">make</span> build<span class="token punctuation">.</span>multiarch PLATFORMS<span class="token operator">=</span><span class="token string">"linux_arm64 linux_amd64"</span>

  V                Set to <span class="token number">1</span> enable verbose build<span class="token punctuation">.</span> Default is <span class="token number">0.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>èƒ½è§£å†³æ›´å¤šé—®é¢˜ï¼Œæ›´åŠ ç»†è‡´çš„ <code v-pre>Makefile</code></p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>â¯ <span class="token function">make</span> help-all
  go.build.verify                     Verify that a suitable version of Go exists
  go.bin.%                            Verify binary <span class="token keyword">for</span> specific platform
  go.build.%                          Build binary <span class="token keyword">for</span> specific platform
  go.build                            Build binaries
  go.build.multiarch                  Build multi-arch binaries
  go.linux-a                          Build the project with a build script, use
  go.linux-p                        
  go.linux.%                          Build linux_amd64 OR linux_arm64 binaries
  go.lint                             Run golangci to lint <span class="token builtin class-name">source</span> codes
  go.test                             Run unit <span class="token builtin class-name">test</span>
  go.test.junit-report                Run unit <span class="token builtin class-name">test</span>
  go.test.cover                       Run unit <span class="token builtin class-name">test</span> with coverage
  go.format                           Run unit <span class="token builtin class-name">test</span> and <span class="token function">format</span> codes
  imports                             task to automatically handle <span class="token function">import</span> packages <span class="token keyword">in</span> Go files using goimports tool
  go.updates                          Check <span class="token keyword">for</span> updates to go.mod dependencies
  go.clean                            Clean all builds directories and files
  copyright.help                      Show copyright <span class="token builtin class-name">help</span>
---------------------------------------------------------------------------------
  copyright.verify                    Validate boilerplate headers <span class="token keyword">for</span> assign files
  copyright.add                       Add the boilerplate headers <span class="token keyword">for</span> all files
  copyright.help                      Show copyright <span class="token builtin class-name">help</span>
---------------------------------------------------------------------------------
  tools.install                       Install a must tools
  tools.install-all                   Install all tools
  tools.install.%                     Install a single tool <span class="token keyword">in</span> <span class="token variable">$GOBIN</span>/
  tools.install-all.%                 Parallelism <span class="token function">install</span> a single tool <span class="token keyword">in</span> ./tools/*
  tools.verify.%                      Check <span class="token keyword">if</span> a tool is installed and <span class="token function">install</span> it
  install.golangci-lint               Install golangci-lint
  install.goimports                   Install goimports, used to <span class="token function">format</span> go <span class="token builtin class-name">source</span> files
  install.addlicense                  Install addlicense, used to <span class="token function">add</span> license header to <span class="token builtin class-name">source</span> files
  install.deepcopy-gen                Install deepcopy-gen, used to generate deep copy functions
  install.conversion-gen              Install conversion-gen, used to generate conversion functions
  install.ginkgo                      Install ginkgo to run a single <span class="token builtin class-name">test</span> or <span class="token builtin class-name">set</span> of tests
  install.go-junit-report             Install go-junit-report, used to convert go <span class="token builtin class-name">test</span> output to junit xml
  install.kube-score                  Install kube-score, used to check kubernetes yaml files
  install.kubeconform                 Install kubeconform, used to check kubernetes yaml files
  Install go-gitlint                  Install go-gitlint, used to check <span class="token function">git</span> commit message
  install.gsemver                     Install gsemver, used to generate semver
  install.git-chglog                  Install git-chglog, used to generate changelog
  install.github-release              Install github-release, used to create github release
  install.gvm                         Install gvm, gvm is a Go version manager, built on <span class="token function">top</span> of the official go tool.
  install.golines                     Install golines, used to <span class="token function">format</span> long lines
  install.go-mod-outdated             Install go-mod-outdated, used to check outdated dependencies
  install.mockgen                     Install mockgen, used to generate mock functions
  install.gotests                     Install gotests, used to generate <span class="token builtin class-name">test</span> functions
  install.protoc-gen-go               Install protoc-gen-go, used to generate go <span class="token builtin class-name">source</span> files from protobuf files
  install.cfssl                       Install cfssl, used to generate certificates
  install.depth                       Install depth, used to check dependency tree
  install.go-callvis                  Install go-callvis, used to visualize call graph
  install.gothanks                    Install gothanks, used to thank go dependencies
  install.richgo                      Install richgo
  install.rts                         Install rts
  install.codegen                     Install code generator, used to generate code
  tools.help                          Display <span class="token builtin class-name">help</span> information about the tools package
---------------------------------------------------------------------------------
  image.verify                        Verify <span class="token function">docker</span> version
  image.daemon.verify                 Verify <span class="token function">docker</span> daemon experimental features
  image.build                         Build <span class="token function">docker</span> images
  image.build.multiarch               Build <span class="token function">docker</span> images <span class="token keyword">for</span> all platforms
  image.build.%                       Build <span class="token function">docker</span> image <span class="token keyword">for</span> a specific platform
  image.push                          Push <span class="token function">docker</span> images
  image.push.multiarch                Push <span class="token function">docker</span> images <span class="token keyword">for</span> all platforms
  image.push.%                        Push <span class="token function">docker</span> image <span class="token keyword">for</span> a specific platform
  image.manifest.push                 Push manifest list <span class="token keyword">for</span> multi-arch images
  image.manifest.push.%               Push manifest list <span class="token keyword">for</span> multi-arch images <span class="token keyword">for</span> a specific platform
  image.manifest.remove.%             Remove <span class="token builtin class-name">local</span> manifest list
  image.manifest.push.multiarch       Push manifest list <span class="token keyword">for</span> multi-arch images <span class="token keyword">for</span> all platforms
  image.manifest.push.multiarch.%     Push manifest list <span class="token keyword">for</span> multi-arch images <span class="token keyword">for</span> all platforms <span class="token keyword">for</span> a specific image
  image.help                          Print <span class="token builtin class-name">help</span> <span class="token keyword">for</span> image targets
---------------------------------------------------------------------------------

Usage: <span class="token function">make</span> <span class="token operator">&lt;</span>TARGETS<span class="token operator">></span> <span class="token operator">&lt;</span>OPTIONS<span class="token operator">></span> <span class="token punctuation">..</span>.

Targets:

  build                        Build binaries by default
  tidy                         tidy go.mod
  vendor                       vendor go.mod
  <span class="token function">fmt</span>                          Run go <span class="token function">fmt</span> against code.
  vet                          Run go vet against code.
  lint                         Check syntax and styling of go sources.
  style                        code style -<span class="token operator">></span> fmt,vet,lint
  linux                        Build the all with a build script
  linux.%                      Build binaries <span class="token keyword">for</span> Linux <span class="token punctuation">(</span>make linux.amd64 OR <span class="token function">make</span> linux.arm64<span class="token punctuation">)</span>
  <span class="token function">format</span>                       Gofmt <span class="token punctuation">(</span>reformat<span class="token punctuation">)</span> package sources <span class="token punctuation">(</span>exclude vendor <span class="token function">dir</span> <span class="token keyword">if</span> existed<span class="token punctuation">)</span>.
  <span class="token builtin class-name">test</span>                         Run unit test.
  cover                        Run unit <span class="token builtin class-name">test</span> and get <span class="token builtin class-name">test</span> coverage.
  updates                      Check <span class="token keyword">for</span> updates to go.mod dependencies
  imports                      task to automatically handle <span class="token function">import</span> packages <span class="token keyword">in</span> Go files using goimports tool
  clean                        Remove all files that are created by building.
  tools                        Install dependent tools.
  build-in-docker              sealer should be compiled <span class="token keyword">in</span> linux platform, otherwise there will be GraphDriver problem.
  gen                          Generate all necessary files.
  verify-copyright             Verify the license headers <span class="token keyword">for</span> all files.
  add-copyright                Add copyright ensure <span class="token builtin class-name">source</span> code files have license headers.
  <span class="token builtin class-name">help</span>                         Show this <span class="token builtin class-name">help</span> info.
  all-help                     Show all <span class="token builtin class-name">help</span> details info.

Options:

  DEBUG            Whether or not to generate debug symbols. Default is <span class="token number">0</span>.

  BINS             Binaries to build. Default is all binaries under cmd.
                   This option is available when using: <span class="token function">make</span> <span class="token punctuation">{</span>build<span class="token punctuation">}</span><span class="token punctuation">(</span>.multiarch<span class="token punctuation">)</span>
                   Example: <span class="token function">make</span> build <span class="token assign-left variable">BINS</span><span class="token operator">=</span><span class="token string">"sealer sealctl"</span>

  PLATFORMS        Platform to build for. Default is linux_arm64 and linux_amd64.
                   This option is available when using: <span class="token function">make</span> <span class="token punctuation">{</span>build<span class="token punctuation">}</span>.multiarch
                   Example: <span class="token function">make</span> build.multiarch <span class="token assign-left variable">PLATFORMS</span><span class="token operator">=</span><span class="token string">"linux_arm64 linux_amd64"</span>

  V                Set to <span class="token number">1</span> <span class="token builtin class-name">enable</span> verbose build. Default is <span class="token number">0</span>.

Make example:

<span class="token comment"># make build BINS=sealer                                         Only a single sealer binary is built.</span>
<span class="token comment"># make -j  all                                           Run tidy gen add-copyright format lint cover build concurrently.</span>
<span class="token comment"># make gen                                                       Generate all necessary files.</span>
<span class="token comment"># make linux.arm64                                               sealer is compiled on arm64 platform.</span>
<span class="token comment"># make verify-copyright                                          Verify the license headers for all files.</span>
<span class="token comment"># make install-deepcopy-gen                                      Install deepcopy-gen tools if the license is missing.</span>
<span class="token comment"># make build BINS=sealer V=1 DEBUG=1                             Build debug binaries for only sealer.</span>
<span class="token comment"># make build.multiarch PLATFORMS="linux_arm64 linux_amd64" V=1   Build binaries for both platforms.</span>

Ariables:

  DEBUG: <span class="token number">0</span>
  BINS: sealer seautil
  PLATFORMS: linux_amd64 linux_arm64
  V:
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¯è§‚æµ‹çš„ç¼–è¯‘ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#å¯è§‚æµ‹çš„ç¼–è¯‘ä¿¡æ¯" aria-hidden="true">#</a> å¯è§‚æµ‹çš„ç¼–è¯‘ä¿¡æ¯</h3>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>â¯ <span class="token function">make</span> build
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">></span> Verify that a suitable version of Go exists, current version: go version go1.20 linux/amd64
<span class="token assign-left variable">COMMAND</span><span class="token operator">=</span>sealer
<span class="token assign-left variable">PLATFORM</span><span class="token operator">=</span>linux_amd64
<span class="token assign-left variable">BIN_DIR</span><span class="token operator">=</span>/root/workspaces/sealer/_output/bin
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">></span> Building binary sealer v0.9.3.dirty <span class="token keyword">for</span> linux_amd64
<span class="token assign-left variable">COMMAND</span><span class="token operator">=</span>seautil
<span class="token assign-left variable">PLATFORM</span><span class="token operator">=</span>linux_amd64
<span class="token assign-left variable">BIN_DIR</span><span class="token operator">=</span>/root/workspaces/sealer/_output/bin
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">></span> Building binary seautil v0.9.3.dirty <span class="token keyword">for</span> linux_amd64
<span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">></span> Building binary sealer seautil v0.9.3.dirty <span class="token keyword">for</span> linux_amd64

â¯ sealer version <span class="token comment">#-o yaml</span>
sealerVersion:
  major: <span class="token string">""</span>
  minor: <span class="token string">""</span>
  gitversion: untagged
  gitcommit: 7c086967e1ee44d33e095780639b0ee006edf6ad
  gittreestate: dirty
  builddate: <span class="token string">"2023-05-07T11:43:30Z"</span>
  goversion: go1.20
  compiler: gc
  platform: linux/amd64

â¯ sealer version <span class="token parameter variable">-o</span> json
<span class="token punctuation">{</span><span class="token string">"sealerVersion"</span>:<span class="token punctuation">{</span><span class="token string">"gitVersion"</span><span class="token builtin class-name">:</span><span class="token string">"untagged"</span>,<span class="token string">"gitCommit"</span><span class="token builtin class-name">:</span><span class="token string">"7c086967e1ee44d33e095780639b0ee006edf6ad"</span>,<span class="token string">"gitTreeState"</span><span class="token builtin class-name">:</span><span class="token string">"dirty"</span>,<span class="token string">"buildDate"</span><span class="token builtin class-name">:</span><span class="token string">"2023-05-07T11:43:30Z"</span>,<span class="token string">"goVersion"</span><span class="token builtin class-name">:</span><span class="token string">"go1.20"</span>,<span class="token string">"compiler"</span><span class="token builtin class-name">:</span><span class="token string">"gc"</span>,<span class="token string">"platform"</span><span class="token builtin class-name">:</span><span class="token string">"linux/amd64"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¾ˆæ–¹ä¾¿çš„æ‰“å°å‡ºå½“å‰ç¼–è¯‘çŠ¶æ€ï¼Œç”šè‡³æ˜¯ç¼–è¯‘çš„ç¯å¢ƒï¼Œä»¥åŠé€šè¿‡ <code v-pre>v0.9.3.dirty</code> åˆ¤æ–­ git æ˜¯å¦å¹²å‡€ã€‚</p>
<p>åœ¨ sealer çš„ cmd ä¸­ï¼Œä¼˜åŒ–äº†å¯è§‚æµ‹æ€§ä»£ç éƒ¨åˆ†ã€‚</p>
<h3 id="å·¥å…·åŒ…" tabindex="-1"><a class="header-anchor" href="#å·¥å…·åŒ…" aria-hidden="true">#</a> å·¥å…·åŒ…</h3>
<p>æœ¬å·¥å…·åŒ…ä½¿ç”¨ Makefile å®ç°äº†ä¸€äº› CICD åŠ¨ä½œï¼ŒåŒ…æ‹¬ä»£ç åˆ†æã€ä»£ç ç”Ÿæˆã€æµ‹è¯•ã€ç‰ˆæœ¬æ§åˆ¶å’Œå®ç”¨å·¥å…·ã€‚è¿™äº›å·¥å…·çš„å®‰è£…æ–¹å¼å¦‚ä¸‹ï¼š</p>
<ul>
<li>å®‰è£… golangci-lint: ç”¨äºä»£ç åˆ†æ</li>
<li>å®‰è£… goimports: ç”¨äºæ ¼å¼åŒ– Go æºæ–‡ä»¶</li>
<li>å®‰è£… addlicense: ç”¨äºä¸ºæºæ–‡ä»¶æ·»åŠ è®¸å¯è¯å¤´</li>
<li>å®‰è£… deepcopy-gen: ç”¨äºç”Ÿæˆæ·±åº¦å¤åˆ¶å‡½æ•°</li>
<li>å®‰è£… conversion-gen: ç”¨äºç”Ÿæˆè½¬æ¢å‡½æ•°</li>
<li>å®‰è£… ginkgo: ç”¨äºè¿è¡Œå•ä¸ªæµ‹è¯•æˆ–æµ‹è¯•é›†</li>
<li>å®‰è£… go-junit-report: ç”¨äºå°† Go æµ‹è¯•è¾“å‡ºè½¬æ¢ä¸º junit xml æ ¼å¼</li>
<li>å®‰è£… kube-score: ç”¨äºæ£€æŸ¥ Kubernetes yaml æ–‡ä»¶</li>
<li>å®‰è£… kubeconform: ç”¨äºæ£€æŸ¥ Kubernetes yaml æ–‡ä»¶</li>
<li>å®‰è£… go-gitlint: ç”¨äºæ£€æŸ¥ git æäº¤ä¿¡æ¯</li>
<li>å®‰è£… gsemver: ç”¨äºç”Ÿæˆ semver</li>
<li>å®‰è£… git-chglog: ç”¨äºç”Ÿæˆ changelog</li>
<li>å®‰è£… github-release: ç”¨äºåˆ›å»º Github Release</li>
<li>å®‰è£… golines: ç”¨äºæ ¼å¼åŒ–é•¿è¡Œ</li>
<li>å®‰è£… go-mod-outdated: ç”¨äºæ£€æŸ¥è¿‡æ—¶çš„ä¾èµ–å…³ç³»</li>
<li>å®‰è£… mockgen: ç”¨äºç”Ÿæˆæ¨¡æ‹Ÿå‡½æ•°</li>
<li>å®‰è£… gotests: ç”¨äºç”Ÿæˆæµ‹è¯•å‡½æ•°</li>
<li>å®‰è£… protoc-gen-go: ç”¨äºä» protobuf æ–‡ä»¶ç”Ÿæˆ Go æºæ–‡ä»¶</li>
<li>å®‰è£… cfssl: ç”¨äºç”Ÿæˆè¯ä¹¦</li>
<li>å®‰è£… depth: ç”¨äºæ£€æŸ¥ä¾èµ–æ ‘</li>
<li>å®‰è£… go-callvis: ç”¨äºå¯è§†åŒ–è°ƒç”¨å›¾</li>
<li>å®‰è£… gothanks: ç”¨äºæ„Ÿè°¢ Go ä¾èµ–é¡¹</li>
<li>å®‰è£… richgo: ç”¨äºä¸°å¯Œçš„æµ‹è¯•è¾“å‡º</li>
<li>å®‰è£… rts: ç”¨äºæŸ¥æ‰¾ Go ç±»å‹å®šä¹‰</li>
<li>å®‰è£… codegen: ç”¨äºä»£ç ç”Ÿæˆ</li>
</ul>
<p>è¿™äº›å·¥å…·çš„å®‰è£…è·¯å¾„ä¸º $GOBIN æˆ– $TOOLS_DIRã€‚æœ‰äº›å·¥å…·éœ€è¦ä» Github æˆ–ç§æœ‰æºä»£ç ä»“åº“è¿›è¡Œå®‰è£…ï¼Œæœ‰äº›å·¥å…·éœ€è¦è¿›è¡Œç¼–è¯‘ï¼Œéœ€è¦ä¸€äº›ç‰¹å®šçš„å‚æ•°æ¥å®‰è£…ã€‚</p>
<p>è¿™äº›å·¥å…·çš„ä½¿ç”¨éœ€è¦åœ¨ Makefile ä¸­è°ƒç”¨ç‰¹å®šçš„ç›®æ ‡ï¼Œå¦‚ä¸‹ï¼š</p>
<ul>
<li>tools.install: ç”¨äºå®‰è£…å¿…é¡»çš„å·¥å…·</li>
<li>tools.install-all: ç”¨äºå®‰è£…æ‰€æœ‰å·¥å…·</li>
<li>tools.install.%: ç”¨äºå®‰è£…å•ä¸ªå·¥å…·</li>
<li>tools.install-all.%: ç”¨äºå¹¶è¡Œå®‰è£…å•ä¸ªå·¥å…·</li>
<li>tools.verify.%: ç”¨äºæ£€æŸ¥å·¥å…·æ˜¯å¦å·²å®‰è£…å¹¶å®‰è£…å®ƒ</li>
</ul>
<h3 id="å·¥å…·è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#å·¥å…·è¯´æ˜" aria-hidden="true">#</a> å·¥å…·è¯´æ˜</h3>
<p>ä¸‹é¢æ˜¯æ¯ä¸ªå·¥å…·çš„è¯¦ç»†è¯´æ˜ï¼š</p>
<ul>
<li>golangci-lint: ç”¨äºå¯¹ Go ä»£ç è¿›è¡Œå¿«é€Ÿæ£€æŸ¥çš„å·¥å…·ï¼Œå®ƒå¯ä»¥æ£€æŸ¥å¸¸è§çš„é”™è¯¯å’Œæ½œåœ¨çš„é”™è¯¯ï¼Œæ¯”å¦‚ï¼šä»£ç é£æ ¼ã€ä¸å®‰å…¨çš„ä»£ç ã€ç©ºæŒ‡é’ˆå¼•ç”¨ã€æ€§èƒ½é—®é¢˜ç­‰ã€‚</li>
<li>goimports: ç”¨äºæ ¼å¼åŒ– Go ä»£ç çš„å·¥å…·ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨æ·»åŠ æˆ–åˆ é™¤æœªä½¿ç”¨çš„å¯¼å…¥ï¼Œå°†å¯¼å…¥åˆ†ç»„ï¼Œå¹¶å°†åŒ…åæŒ‰å­—å…¸åºæ’åºã€‚</li>
<li>addlicense: ç”¨äºè‡ªåŠ¨ä¸ºæºæ–‡ä»¶æ·»åŠ è®¸å¯è¯å¤´çš„å·¥å…·ï¼Œå¯ä»¥è®¾ç½®å¤šç§ç±»å‹çš„è®¸å¯è¯ã€‚</li>
<li>deepcopy-gen: ç”¨äºä¸º Go ç»“æ„ä½“ç”Ÿæˆæ·±åº¦å¤åˆ¶å‡½æ•°çš„ä»£ç ç”Ÿæˆå™¨ã€‚</li>
<li>conversion-gen: ç”¨äºä¸º Go ç»“æ„ä½“ç”Ÿæˆè½¬æ¢å‡½æ•°çš„ä»£ç ç”Ÿæˆå™¨ã€‚</li>
<li>ginkgo: ç”¨äºè¿è¡Œå•ä¸ªæµ‹è¯•æˆ–æµ‹è¯•é›†çš„æµ‹è¯•æ¡†æ¶ï¼Œå¯ä»¥ä½¿ç”¨ Gomega æ–­è¨€åº“ã€‚</li>
<li>go-junit-report: ç”¨äºå°† Go æµ‹è¯•è¾“å‡ºè½¬æ¢ä¸º junit xml æ ¼å¼çš„å·¥å…·ï¼Œç”¨äºä¸å…¶ä»–æµ‹è¯•å·¥å…·æˆ– CICD æµç¨‹é›†æˆã€‚</li>
<li>kube-score: ç”¨äºæ£€æŸ¥ Kubernetes yaml æ–‡ä»¶çš„å·¥å…·ï¼Œå®ƒå¯ä»¥æ£€æŸ¥æ–‡ä»¶ä¸­çš„æœ€ä½³å®è·µå’Œå®‰å…¨é—®é¢˜ã€‚</li>
<li>kubeconform: ç”¨äºæ£€æŸ¥ Kubernetes yaml æ–‡ä»¶çš„å·¥å…·ï¼Œå®ƒå¯ä»¥æ£€æŸ¥æ–‡ä»¶ä¸­çš„æœ€ä½³å®è·µå’Œå®‰å…¨é—®é¢˜ã€‚</li>
<li>â€¦â€¦</li>
</ul>
<h3 id="è®¾è®¡æŠ€å·§" tabindex="-1"><a class="header-anchor" href="#è®¾è®¡æŠ€å·§" aria-hidden="true">#</a> è®¾è®¡æŠ€å·§</h3>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªå·§å¦™çš„è®¾è®¡ï¼Œæˆ‘ä»¬æ–°å¢äº†ä¸€ä¸ª <code v-pre>tools</code> ç›®å½•ã€‚ä¸æ˜¯æ‰€æœ‰å·¥å…·éƒ½å®‰è£…åœ¨ <code v-pre>GOPATH/bin</code> ç›®å½•ä¸‹ï¼Œè€Œæ˜¯å°† <code v-pre>tools.install</code> å®‰è£…é€»è¾‘æ”¾å…¥äº† <code v-pre>GOPATH/bin</code>ï¼Œå°† <code v-pre>tools.verify.%</code> é€»è¾‘éƒ½æ”¾åœ¨äº† <code v-pre>tools</code> çš„ç®¡ç†ä¹‹ä¸‹ã€‚å…¶ä»–çš„ <code v-pre>targer</code> å¯¹è±¡æ˜¯é€šè¿‡ <code v-pre>tools.verify.%</code> è°ƒç”¨çš„ã€‚è¿™å¯¹äºåæœŸç»´æŠ¤éå¸¸æ–¹ä¾¿ï¼Œå°¤å…¶æ˜¯åœ¨ä½¿ç”¨å·¥å…·ä¸‹çš„ <code v-pre>gvm</code> ç®¡ç† Go è¯­è¨€ç‰ˆæœ¬æ—¶ã€‚</p>
<h3 id="å­˜åœ¨çš„é—®é¢˜" tabindex="-1"><a class="header-anchor" href="#å­˜åœ¨çš„é—®é¢˜" aria-hidden="true">#</a> å­˜åœ¨çš„é—®é¢˜</h3>
<p>å› ä¸º cgo çš„åŸå› ï¼Œå•å…ƒæµ‹è¯•å’Œæµ‹è¯•è¦†ç›–ç‡ä¾æ—§å¾ˆéš¾ä¿è¯é¡ºåˆ©è¿è¡Œ</p>
<p>ä½¿ç”¨ <code v-pre>go.build.multiarch</code> ç¼–è¯‘çš„æ—¶å€™ï¼Œå¯ä»¥ä¿è¯ <code v-pre>amd64</code> é¡ºåˆ©é€šè¿‡ï¼Œä½†æ˜¯ä¸èƒ½ä¿è¯ <code v-pre>arm64</code> ç¼–è¯‘ã€‚</p>
<ul>
<li>
<p>æŠ¥é”™ä¿¡æ¯</p>
<p>cgo: C compiler &quot;aarch64-linux-gnu-gcc&quot; not found: exec: &quot;aarch64-linux-gnu-gcc&quot;: executable file not found in $PATH</p>
</li>
</ul>
<p>éœ€è¦ä¼˜åŒ–ä¸€äº›å…³äºç‰ˆæœ¬çš„ä»£ç </p>
<h3 id="æ„å»ºè„šæœ¬ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#æ„å»ºè„šæœ¬ä¼˜åŒ–" aria-hidden="true">#</a> æ„å»ºè„šæœ¬ä¼˜åŒ–</h3>
<p>ä¸€æ ·çš„ï¼Œé€šè¿‡å¸®åŠ©ä¿¡æ¯ï¼Œå¯ä»¥å¾ˆæ¸…æ™°çš„äº†è§£ï¼š</p>
<div class="language-bash ext-sh line-numbers-mode"><pre v-pre class="language-bash"><code>â¯ ./scripts/build.sh <span class="token parameter variable">-h</span>

Usage: ./scripts/build.sh <span class="token punctuation">[</span>-h<span class="token punctuation">]</span> <span class="token punctuation">[</span>-p PLATFORMS<span class="token punctuation">]</span> <span class="token punctuation">[</span>-a<span class="token punctuation">]</span> <span class="token punctuation">[</span>-b BINARIES<span class="token punctuation">]</span>

Build Sealer binaries <span class="token keyword">for</span> one or <span class="token function">more</span> platforms.
    DOTO: I recommend using a Makefile <span class="token keyword">for</span> a <span class="token function">more</span> immersive experience

    -h, <span class="token parameter variable">--help</span>      display this <span class="token builtin class-name">help</span> and <span class="token builtin class-name">exit</span>

    -p, <span class="token parameter variable">--platform</span>  build binaries <span class="token keyword">for</span> the specified platform<span class="token punctuation">(</span>s<span class="token punctuation">)</span>, e.g. linux/amd64 or linux/arm64.
                    Multiple platforms should be separated by comma, e.g. linux/amd64,linux/arm64.

    -a, <span class="token parameter variable">--all</span>       build binaries <span class="token keyword">for</span> all supported platforms

    -b, <span class="token parameter variable">--binary</span>    build the specified binary/binaries, e.g. sealer or seautil.
                    Multiple binaries should be separated by comma, e.g. sealer,seautil.
                    <span class="token punctuation">(</span>note: currently only supported <span class="token keyword">in</span> Makefile<span class="token punctuation">)</span>

+ <span class="token builtin class-name">exit</span> <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul>
<li>æ„å»ºè„šæœ¬ <code v-pre>build.sh</code> æ”¯æŒå¤šç§é€‰é¡¹ï¼ŒåŒ…æ‹¬æ„å»ºæŒ‡å®š binary/binariesï¼ˆä»…åœ¨ Makefile ä¸­æ”¯æŒï¼‰ã€æ„å»ºæŒ‡å®š platform(s) å’Œæ„å»ºæ‰€æœ‰æ”¯æŒçš„ platform(s)ï¼Œä¸è¿‡ç›®å‰ä¸æ”¯æŒ~</li>
</ul>
<h3 id="cicd-actions-çš„æ”¹è¿›ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#cicd-actions-çš„æ”¹è¿›ç­–ç•¥" aria-hidden="true">#</a> CICD actions çš„æ”¹è¿›ç­–ç•¥</h3>
<p>Makefile çš„æ”¹è¿›ï¼Œå¯èƒ½å¯¼è‡´éƒ¨åˆ† actions æ²¡åŠæ³•é¡ºåˆ©é€šè¿‡ã€‚åé¢æˆ‘å°†ä¼šç»§ç»­ä¼˜åŒ– CICD æµç¨‹ã€‚</p>
<p>â€¦â€¦</p>
<h2 id="end-é“¾æ¥" tabindex="-1"><a class="header-anchor" href="#end-é“¾æ¥" aria-hidden="true">#</a> END é“¾æ¥</h2>
<ul><li><div><a href = '56.md' style='float:left'>â¬†ï¸ä¸Šä¸€èŠ‚ğŸ”—  </a><a href = '58.md' style='float: right'>  ï¸ä¸‹ä¸€èŠ‚ğŸ”—</a></div></li></ul>
<ul>
<li>
<p><RouterLink to="/">â“‚ï¸å›åˆ°ç›®å½•ğŸ </RouterLink></p>
</li>
<li>
<p><a href="https://nsddd.top/archives/contributors" target="_blank" rel="noopener noreferrer"><strong>ğŸ«µå‚ä¸è´¡çŒ®ğŸ’â¤ï¸â€ğŸ”¥ğŸ’–</strong><ExternalLinkIcon/></a>)</p>
</li>
<li>
<p>âœ´ï¸ç‰ˆæƒå£°æ˜ Â© ï¼šæœ¬ä¹¦æ‰€æœ‰å†…å®¹éµå¾ª<a href="http://zh.wikipedia.org/wiki/Wikipedia:CC-by-sa-3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="noopener noreferrer">CC-BY-SA 3.0åè®®ï¼ˆç½²å-ç›¸åŒæ–¹å¼å…±äº«ï¼‰Â©<ExternalLinkIcon/></a></p>
</li>
</ul>
</div></template>


